[{"content":"é€šè¿‡SQL Server Profileræˆªè·SQLè¯­å¥ SQL Server Profiler æ˜¯å¾®è½¯å®˜æ–¹æä¾›çš„å¼ºå¤§æ•°æ®åº“ç›‘æ§å·¥å…·ï¼Œå¯ä»¥å®æ—¶æ•è· SQL Server çš„å„ç§äº‹ä»¶ï¼ŒåŒ…æ‹¬ SQL è¯­å¥ã€å­˜å‚¨è¿‡ç¨‹ã€æ€§èƒ½ç“¶é¢ˆç­‰ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Profiler æˆªè· SQL è¯­å¥ï¼Œå¹¶ç»“åˆå®é™…åœºæ™¯ç»™å‡ºæ“ä½œæ­¥éª¤ã€‚\n1. Profilerç®€ä»‹ SQL Server Profiler å¯ç”¨äºï¼š\næ•è·å’Œåˆ†æ SQL Server æ‰§è¡Œçš„æ‰€æœ‰ SQL è¯­å¥ ç›‘æ§æ…¢æŸ¥è¯¢ã€é”ç­‰å¾…ã€æ­»é”ç­‰æ€§èƒ½é—®é¢˜ å®¡è®¡æ•°æ®åº“è®¿é—®å’Œæ“ä½œ è¿½è¸ªåº”ç”¨ç¨‹åºä¸æ•°æ®åº“çš„äº¤äº’è¿‡ç¨‹ 2. å¯åŠ¨ SQL Server Profiler æ‰“å¼€ SQL Server Management Studio (SSMS) åœ¨èœå•æ é€‰æ‹©ã€å·¥å…·ã€‘-\u0026gt;ã€SQL Server Profilerã€‘ è¿æ¥åˆ°ç›®æ ‡ SQL Server å®ä¾‹ 3. åˆ›å»ºè·Ÿè¸ªï¼ˆTraceï¼‰ æ–°å»ºè·Ÿè¸ªåï¼Œé€‰æ‹©åˆé€‚çš„æ¨¡æ¿ï¼ˆå¦‚â€œæ ‡å‡†â€æˆ–â€œTSQL_Replayâ€ï¼‰ åœ¨â€œäº‹ä»¶é€‰æ‹©â€é¡µï¼Œå‹¾é€‰å¦‚ä¸‹å…³é”®äº‹ä»¶ï¼š SQL:BatchStarting / SQL:BatchCompletedï¼šæ•approved SQL è¯­å¥ RPC:Completedï¼šæ•è·å­˜å‚¨è¿‡ç¨‹è°ƒç”¨ Showplan XMLï¼šåˆ†ææ‰§è¡Œè®¡åˆ’ å¯é€šè¿‡â€œåˆ—è¿‡æ»¤å™¨â€è®¾ç½®æ•°æ®åº“ã€åº”ç”¨åã€ç™»å½•åç­‰è¿‡æ»¤æ¡ä»¶ï¼Œç²¾å‡†å®šä½ç›®æ ‡è¯­å¥ 4. å®æ—¶æ•è· SQL è¯­å¥ å¯åŠ¨è·Ÿè¸ªåï¼ŒProfiler ä¼šå®æ—¶æ˜¾ç¤ºæ‰€æœ‰æ•è·åˆ°çš„ SQL è¯­å¥ å¯é€šè¿‡â€œæ–‡æœ¬æ•°æ®â€åˆ—æŸ¥çœ‹å®Œæ•´ SQL å†…å®¹ æ”¯æŒæš‚åœã€åœæ­¢ã€ä¿å­˜è·Ÿè¸ªç»“æœä¸ºæ–‡ä»¶æˆ–è¡¨ï¼Œä¾¿äºåç»­åˆ†æ 5. å¸¸è§åº”ç”¨åœºæ™¯ æ€§èƒ½ä¼˜åŒ–ï¼šå®šä½æ…¢æŸ¥è¯¢ï¼Œåˆ†æ SQL æ‰§è¡Œè®¡åˆ’ æ•…éšœæ’æŸ¥ï¼šæ•è·å¼‚å¸¸ SQLï¼Œè¿½è¸ªæ­»é”ã€é”ç­‰å¾… å®‰å…¨å®¡è®¡ï¼šè®°å½•æ•æ„Ÿæ“ä½œï¼Œè¿½è¸ªæ•°æ®å˜æ›´ å¼€å‘è°ƒè¯•ï¼šåˆ†æåº”ç”¨ä¸æ•°æ®åº“äº¤äº’ï¼Œå®šä½å‚æ•°ä¼ é€’é—®é¢˜ 6. æ³¨æ„äº‹é¡¹ è·Ÿè¸ªæœŸé—´ä¼šå¯¹æ•°æ®åº“æ€§èƒ½æœ‰ä¸€å®šå½±å“ï¼Œå»ºè®®åœ¨æµ‹è¯•ç¯å¢ƒæˆ–ä½å³°æœŸæ“ä½œ åˆç†è®¾ç½®è¿‡æ»¤æ¡ä»¶ï¼Œé¿å…æ•è·è¿‡å¤šæ— å…³æ•°æ® è·Ÿè¸ªç»“æœå¯å¯¼å‡ºä¸º .trc æ–‡ä»¶ï¼Œä½¿ç”¨ Profiler æˆ– T-SQL è¿›ä¸€æ­¥åˆ†æ 7. æ€»ç»“ SQL Server Profiler æ˜¯æ•°æ®åº“å¼€å‘å’Œè¿ç»´ä¸å¯æˆ–ç¼ºçš„åˆ©å™¨ã€‚é€šè¿‡åˆç†é…ç½®å’Œä½¿ç”¨ï¼Œå¯ä»¥é«˜æ•ˆå®šä½ SQL é—®é¢˜ã€ä¼˜åŒ–æ€§èƒ½ã€æå‡æ•°æ®åº“å®‰å…¨æ€§ã€‚\nå‚è€ƒï¼šå®˜æ–¹æ–‡æ¡£\n","date":"2025-09-01T00:00:00Z","image":"http://localhost:1313/p/sqlserver/2025-09-01/1_hu_584d559a45c75a33.png","permalink":"http://localhost:1313/p/sqlserver/2025-09-01/","title":"é€šè¿‡SQL Server Profileræˆªè·SQLè¯­å¥"},{"content":"MySQLå¤æ‚è¡¨ç»“æ„çš„è¡Œè½¬åˆ—å®æˆ˜ ç»å¸¸ä¼šé‡åˆ°éœ€è¦å°†å¤æ‚è¡¨ç»“æ„çš„æ•°æ®è¿›è¡Œè¡Œè½¬åˆ—ï¼ˆPivotï¼‰çš„éœ€æ±‚ï¼Œå°¤å…¶æ˜¯åœ¨æŠ¥è¡¨ç»Ÿè®¡ã€æ•°æ®é€è§†ç­‰åœºæ™¯ä¸‹ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸´æ—¶è¡¨ã€åŠ¨æ€SQLç­‰æ–¹å¼æŠŠå¤æ‚é—®é¢˜ç®€å•åŒ–ï¼Œå®ç°çµæ´»çš„è¡Œè½¬åˆ—ã€‚\n1. é—®é¢˜èƒŒæ™¯ å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªé¡¹ç›®å·¥æ—¶è¡¨ project_timeï¼Œè®°å½•äº†æ¯ä¸ªå‘˜å·¥åœ¨ä¸åŒé¡¹ç›®ã€ä¸åŒæ—¥æœŸçš„å·¥æ—¶ã€‚è¡¨ç»“æ„å¦‚ä¸‹ï¼š\nproject_timeï¼šé¡¹ç›®å·¥æ—¶æ˜ç»†ï¼ˆåŒ…å«é¡¹ç›®IDã€å‘˜å·¥IDã€æ—¥æœŸã€å·¥æ—¶ç­‰ï¼‰ projectï¼šé¡¹ç›®ä¿¡æ¯ departmentï¼šéƒ¨é—¨ä¿¡æ¯ employeeï¼šå‘˜å·¥ä¿¡æ¯ æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼š\nä»¥é¡¹ç›®ä¸ºä¸»è½´ï¼Œç»Ÿè®¡æ¯ä¸ªå‘˜å·¥åœ¨æ¯ä¸€å¤©çš„å·¥æ—¶ï¼ˆå³å‘˜å·¥ä¸ºåˆ—ï¼Œæ—¥æœŸä¸ºåŠ¨æ€åˆ—ï¼Œå·¥æ—¶ä¸ºå€¼ï¼‰ã€‚ 2. æ•°æ®å‡†å¤‡ä¸ä¸´æ—¶è¡¨æ„å»º é¦–å…ˆï¼Œä¸ºäº†ç®€åŒ–åç»­æ“ä½œï¼Œå°†å¤šè¡¨å…³è”åçš„ç»“æœå­˜å…¥ä¸´æ—¶è¡¨ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 -- åˆ é™¤ä¸´æ—¶è¡¨ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ DROP TEMPORARY TABLE IF EXISTS temp_project_time; -- åˆ›å»ºä¸´æ—¶è¡¨ CREATE TEMPORARY TABLE temp_project_time AS SELECT pt.project_id, p.organization_id, d.`name` AS department_name, p.`code` AS project_code, p.`name` AS project_name, p.start_date, p.end_date, e.`name` AS employee_name, pt.work_date, pt.work_hour FROM project_time AS pt LEFT JOIN project AS p ON pt.project_id = p.id LEFT JOIN department d ON p.department_id = d.id LEFT JOIN employee e ON pt.employee_id = e.id WHERE 1=1 AND (p_start_date IS NULL OR pt.work_date \u0026gt;= p_start_date) AND (p_end_date IS NULL OR pt.work_date \u0026lt;= p_end_date) AND (p_employee_id IS NULL OR p_employee_id = 0 OR pt.employee_id = p_employee_id) AND (p_project_id IS NULL OR p_project_id = 0 OR pt.project_id = p_project_id) AND (p_department_id IS NULL OR p_department_id = 0 OR p.department_id = p_department_id) AND (p_search_key IS NULL OR p_search_key = \u0026#39;\u0026#39; OR p.`code` LIKE CONCAT(\u0026#39;%\u0026#39;, p_search_key, \u0026#39;%\u0026#39;) COLLATE utf8_general_ci OR p.`name` LIKE CONCAT(\u0026#39;%\u0026#39;, p_search_key, \u0026#39;%\u0026#39;) COLLATE UTF8_GENERAL_CI ) GROUP BY pt.project_id, p.organization_id, d.`name`, p.`code`, p.`name`, p.start_date, p.end_date, e.`name`, pt.work_date, pt.work_hour ORDER BY pt.work_date DESC, pt.project_id DESC; 3. é™æ€è¡Œè½¬åˆ—ï¼ˆCASE WHENï¼‰ å¦‚æœæ—¥æœŸæ˜¯å›ºå®šï¼Œå¯ä»¥ç›´æ¥ç”¨æ¡ä»¶èšåˆï¼š\n1 2 3 4 5 6 7 8 9 10 SELECT project_id, project_name, work_date, SUM(CASE WHEN work_date = \u0026#39;2025-01-01\u0026#39; THEN work_hour ELSE 0 END) AS \u0026#39;2025-01-01\u0026#39;, SUM(CASE WHEN work_date = \u0026#39;2025-01-02\u0026#39; THEN work_hour ELSE 0 END) AS \u0026#39;2025-01-02\u0026#39;, SUM(CASE WHEN work_date = \u0026#39;2025-01-03\u0026#39; THEN work_hour ELSE 0 END) AS \u0026#39;2025-01-03\u0026#39; FROM temp_project_time GROUP BY project_id, project_name, work_date ORDER BY work_date DESC, project_id DESC; 4. åŠ¨æ€è¡Œè½¬åˆ—ï¼ˆåŠ¨æ€SQLï¼‰ å®é™…ä¸šåŠ¡ä¸­ï¼Œå‘˜å·¥æ•°é‡å’Œæ—¥æœŸå¾€å¾€ä¸å›ºå®šï¼Œéœ€è¦åŠ¨æ€ç”Ÿæˆåˆ—ã€‚å¯é€šè¿‡MySQLåŠ¨æ€SQLå®ç°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 BEGIN DECLARE done INT DEFAULT FALSE; DECLARE v_sql TEXT DEFAULT \u0026#39;\u0026#39;; -- åˆ é™¤ä¸´æ—¶è¡¨ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ DROP TEMPORARY TABLE IF EXISTS temp_project_time; -- åˆ›å»ºä¸´æ—¶è¡¨ CREATE TEMPORARY TABLE temp_project_time AS ... -- è§ä¸Šæ–‡ -- ç”ŸæˆåŠ¨æ€æ—¥æœŸåˆ— SET @EE = \u0026#39;\u0026#39;; SELECT GROUP_CONCAT( CONCAT(\u0026#39;sum(if(work_date=\\\u0026#39;\u0026#39;, work_date, \u0026#39;\\\u0026#39;,work_hour,0)) as `\u0026#39;, work_date, \u0026#39;`\u0026#39;) ORDER BY work_date SEPARATOR \u0026#39;, \u0026#39; ) INTO @EE FROM ( SELECT DISTINCT DATE_FORMAT(work_date, \u0026#39;%Y-%m-%d\u0026#39;) AS work_date FROM temp_project_time ORDER BY work_date ) AS date_list; IF @EE IS NULL OR @EE = \u0026#39;\u0026#39; THEN SET @EE = \u0026#39;0 AS no_data\u0026#39;; END IF; -- æ„å»ºæœ€ç»ˆæŸ¥è¯¢SQL SET @QQ = CONCAT( \u0026#39;SELECT \u0026#39;, \u0026#39; project_id, \u0026#39;, \u0026#39; organization_id, \u0026#39;, \u0026#39; department_name, \u0026#39;, \u0026#39; project_code, \u0026#39;, \u0026#39; project_name, \u0026#39;, \u0026#39; start_date, \u0026#39;, \u0026#39; end_date, \u0026#39;, \u0026#39; employee_name, \u0026#39;, @EE, \u0026#39;, \u0026#39;, \u0026#39; sum(work_hour) AS TOTAL \u0026#39;, \u0026#39;FROM temp_project_time \u0026#39;, \u0026#39;GROUP BY \u0026#39;, \u0026#39; project_id, \u0026#39;, \u0026#39; organization_id, \u0026#39;, \u0026#39; department_name, \u0026#39;, \u0026#39; project_code, \u0026#39;, \u0026#39; project_name, \u0026#39;, \u0026#39; start_date, \u0026#39;, \u0026#39; end_date, \u0026#39;, \u0026#39; employee_name \u0026#39;, \u0026#39;ORDER BY employee_name desc,project_id desc\u0026#39; ); PREPARE stmt FROM @QQ; EXECUTE stmt; DEALLOCATE PREPARE stmt; DROP TEMPORARY TABLE IF EXISTS temp_project_time; END å…³é”®ç‚¹è¯´æ˜ é€šè¿‡ GROUP_CONCAT åŠ¨æ€æ‹¼æ¥æ‰€æœ‰æ—¥æœŸåˆ—ï¼Œè‡ªåŠ¨é€‚é…ä¸åŒæ—¶é—´æ®µã€‚ åŠ¨æ€SQLæ‹¼æ¥åç”¨ PREPARE å’Œ EXECUTE æ‰§è¡Œã€‚ æ”¯æŒä»»æ„å‘˜å·¥ã€ä»»æ„æ—¥æœŸçš„çµæ´»è¡Œè½¬åˆ—ã€‚ 5. æ€»ç»“ é€šè¿‡ä¸´æ—¶è¡¨å’ŒåŠ¨æ€SQLï¼Œå¯ä»¥ä¼˜é›…åœ°è§£å†³å¤æ‚è¡¨ç»“æ„ä¸‹çš„è¡Œè½¬åˆ—éœ€æ±‚ã€‚å®é™…åº”ç”¨ä¸­å¯æ ¹æ®ä¸šåŠ¡çµæ´»è°ƒæ•´åˆ†ç»„å’Œåˆ—ç”Ÿæˆé€»è¾‘ï¼Œæå¤§æå‡æŠ¥è¡¨å¼€å‘æ•ˆç‡ã€‚\nç„¶åå¯ä»¥è€ƒè™‘ç»“åˆå­˜å‚¨è¿‡ç¨‹è¿›ä¸€æ­¥å°è£…ã€‚\n","date":"2025-08-31T00:00:00Z","image":"http://localhost:1313/p/mysql/2025-08-31/3_hu_2307260c751d0e0b.jpg","permalink":"http://localhost:1313/p/mysql/2025-08-31/","title":"MySQLå¤æ‚è¡¨ç»“æ„çš„è¡Œè½¬åˆ—å®æˆ˜"},{"content":"C# åŠ¨æ€è¡¨è¾¾å¼çš„è¿ç®—ä¸å®æˆ˜ åœ¨å®é™…å¼€å‘ä¸­ï¼ŒåŠ¨æ€è¡¨è¾¾å¼çš„è¿ç®—èƒ½åŠ›æå¤§æå‡äº†C#çš„çµæ´»æ€§ï¼Œå°¤å…¶åœ¨è§„åˆ™å¼•æ“ã€æŠ¥è¡¨ã€åŠ¨æ€æŸ¥è¯¢ç­‰åœºæ™¯ä¸‹å°¤ä¸ºå¸¸è§ã€‚æœ¬æ–‡å°†ä»‹ç»C#åŠ¨æ€è¡¨è¾¾å¼çš„å¸¸ç”¨å®ç°æ–¹å¼ã€ä¸»æµåº“ã€æ•ˆç‡å¯¹æ¯”åŠå…¸å‹åº”ç”¨ã€‚\n1. åŠ¨æ€è¡¨è¾¾å¼çš„åº”ç”¨åœºæ™¯ åŠ¨æ€æŸ¥è¯¢ï¼šå¦‚æ ¹æ®ç”¨æˆ·è¾“å…¥æ‹¼æ¥Whereæ¡ä»¶ã€‚ è§„åˆ™å¼•æ“ï¼šä¸šåŠ¡è§„åˆ™å¯é…ç½®ï¼Œè¿è¡Œæ—¶åŠ¨æ€è§£æã€‚ æŠ¥è¡¨ä¸å…¬å¼è®¡ç®—ï¼šæ”¯æŒè‡ªå®šä¹‰å…¬å¼ã€å­—æ®µè¿ç®—ã€‚ 2. ä¸»è¦å®ç°æ–¹å¼ä¸æ•ˆç‡å¯¹æ¯” 2.1 ç¼–è¯‘ä»£ç æ–¹å¼ é€šè¿‡åŠ¨æ€ç”ŸæˆC#ä»£ç å¹¶ç¼–è¯‘æ‰§è¡Œè¡¨è¾¾å¼ï¼Œé€‚åˆè¡¨è¾¾å¼ä¸é¢‘ç¹å˜åŒ–çš„åœºæ™¯ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 using Microsoft.CSharp; using System.CodeDom.Compiler; string expression = \u0026#34;a \u0026gt; b \u0026amp;\u0026amp; c \u0026lt; d\u0026#34;; if (!expression.Trim().StartsWith(\u0026#34;return\u0026#34;)) expression = \u0026#34;return \u0026#34; + expression + \u0026#34;;\u0026#34;; string className = \u0026#34;Expression\u0026#34;; string methodName = \u0026#34;Compute\u0026#34;; string source = $\u0026#34;using System;sealed class {className}{{public object {methodName}(){{{expression}}}}}\u0026#34;; CompilerParameters options = new CompilerParameters { GenerateInMemory = true, GenerateExecutable = false }; CompilerResults cr = new CSharpCodeProvider().CompileAssemblyFromSource(options, source); object instance = cr.CompiledAssembly.CreateInstance(className); var method = instance.GetType().GetMethod(methodName); var result = method.Invoke(instance, null); ä¼˜ç‚¹ï¼šæ”¯æŒå¤æ‚è¡¨è¾¾å¼ï¼Œçµæ´»æ€§é«˜ã€‚ ç¼ºç‚¹ï¼šæ¯æ¬¡éƒ½éœ€ç¼–è¯‘ï¼Œæ•ˆç‡è¾ƒä½ï¼ˆ200-300msï¼‰ï¼Œé€‚åˆç¼“å­˜æˆ–é¢„ç¼–è¯‘ã€‚ 2.2 è‡ªå®šä¹‰è¡¨è¾¾å¼è§£æå™¨ è‡ªå·±å®ç°è¡¨è¾¾å¼è§£æå’Œè¿ç®—ï¼Œçµæ´»ä½†å¼€å‘æˆæœ¬é«˜ï¼Œé€‚åˆç‰¹æ®Šéœ€æ±‚ã€‚\n2.3 ä½¿ç”¨ç¬¬ä¸‰æ–¹è¡¨è¾¾å¼è®¡ç®—åº“ ExpressionEvaluator ä½¿ç”¨æ–¹ä¾¿ï¼Œæ”¯æŒå­—ç¬¦ä¸²è¡¨è¾¾å¼ç›´æ¥è®¡ç®—ã€‚ ç¤ºä¾‹ï¼š 1 2 3 var express = \u0026#34;(1 + 2) \u0026gt; 4\u0026#34;; var expression = new CompiledExpression(express); var result = expression.Eval(); ä¼˜ç‚¹ï¼šç®€å•æ˜“ç”¨ï¼Œé€Ÿåº¦è¾ƒå¿«ã€‚ ç¼ºç‚¹ï¼šéƒ¨åˆ†åº“å·²ä¸ç»´æŠ¤ï¼Œå¤æ‚è¡¨è¾¾å¼æ”¯æŒæœ‰é™ã€‚ Z.Expressions.Eval æ€§èƒ½ä¼˜ç§€ï¼Œæ”¯æŒå¤šç§å‚æ•°ä¼ é€’æ–¹å¼ã€‚ ç¤ºä¾‹ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 using Z.Expressions; int result = Eval.Execute\u0026lt;int\u0026gt;(\u0026#34;X + Y\u0026#34;, new { X = 1, Y = 2 }); // ä½ç½®å‚æ•° result = Eval.Execute\u0026lt;int\u0026gt;(\u0026#34;{0} + {1}\u0026#34;, 1, 2); // åŠ¨æ€å¯¹è±¡ dynamic expandoObject = new ExpandoObject(); expandoObject.X = 1; expandoObject.Y = 2; result = Eval.Execute\u0026lt;int\u0026gt;(\u0026#34;X + Y\u0026#34;, expandoObject); // å­—å…¸å‚æ•° var values = new Dictionary\u0026lt;string, object\u0026gt;() { { \u0026#34;X\u0026#34;, 1 }, { \u0026#34;Y\u0026#34;, 2 } }; result = Eval.Execute\u0026lt;int\u0026gt;(\u0026#34;X + Y\u0026#34;, values); ä¼˜ç‚¹ï¼šé€Ÿåº¦å¿«ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒå¤šç§æ•°æ®æºã€‚ ç¼ºç‚¹ï¼šé¦–æ¬¡æ‰§è¡Œç•¥æ…¢ï¼Œåç»­æå¿«ã€‚ Dynamic LINQ é€‚åˆåŠ¨æ€æŸ¥è¯¢ï¼Œå­—ç¬¦ä¸²è¡¨è¾¾å¼è½¬ä¸ºLINQã€‚ ç¤ºä¾‹ï¼š 1 2 3 using System.Linq.Dynamic.Core; var list = new List\u0026lt;int\u0026gt; {1, 5, 10, 20}; var result = list.AsQueryable().Where(\u0026#34;it \u0026gt; 5\u0026#34;).ToList(); Roslynè„šæœ¬å¼•æ“ æ”¯æŒå®Œæ•´C#è„šæœ¬åŠ¨æ€ç¼–è¯‘ä¸æ‰§è¡Œï¼Œé€‚åˆå¤æ‚è¡¨è¾¾å¼ã€‚ ç¤ºä¾‹ï¼š 1 2 using Microsoft.CodeAnalysis.CSharp.Scripting; var result = await CSharpScript.EvaluateAsync\u0026lt;int\u0026gt;(\u0026#34;1 + 2 * 3\u0026#34;); 3. æ€§èƒ½ä¸å®‰å…¨æ³¨æ„äº‹é¡¹ è¡¨è¾¾å¼æ ‘å’ŒZ.Expressions.Evalæ€§èƒ½è¾ƒé«˜ï¼Œé€‚åˆé¢‘ç¹è°ƒç”¨ã€‚ åŠ¨æ€ç¼–è¯‘å’ŒRoslynåŠŸèƒ½å¼ºå¤§ä½†éœ€æ³¨æ„æ²™ç®±å’Œå®‰å…¨éš”ç¦»ã€‚ åŠ¨æ€è¡¨è¾¾å¼æ¶‰åŠç”¨æˆ·è¾“å…¥æ—¶ï¼ŒåŠ¡å¿…åšå¥½æ ¡éªŒé˜²æ­¢æ³¨å…¥é£é™©ã€‚ 4. æ€»ç»“ C#åŠ¨æ€è¡¨è¾¾å¼ä¸ºä¸šåŠ¡å¼€å‘å¸¦æ¥æå¤§çµæ´»æ€§ã€‚å¯æ ¹æ®åœºæ™¯é€‰æ‹©åŠ¨æ€ç¼–è¯‘ã€ç¬¬ä¸‰æ–¹åº“ã€Dynamic LINQæˆ–Roslynç­‰æ–¹æ¡ˆï¼Œæå‡ä»£ç æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ ![[image.png]]\nå‚è€ƒï¼šåŠ¨æ€æ‰§è¡Œç”¨æˆ·è¾“å…¥è¡¨è¾¾å¼çš„ç­–ç•¥ä¸æ•ˆç‡å¯¹æ¯”-CSDNåšå®¢\n","date":"2025-08-24T00:00:00Z","image":"http://localhost:1313/p/net/2025-08-24/2_hu_e95a4276bf860a84.jpg","permalink":"http://localhost:1313/p/net/2025-08-24/","title":"C#åŠ¨æ€è¡¨è¾¾å¼çš„è¿ç®—ä¸å®æˆ˜"},{"content":"gitç›¸æ¯”å…¶ä»–å›¢é˜ŸååŒå·¥å…·å…·æœ‰é«˜åº¦çµæ´»æ€§ï¼Œè¿™é€ æˆä¸€ä¸ªä¸åŒçš„äººå¯¹äºä½¿ç”¨gitçš„æ–¹æ³•æ–¹å¼çš„ä¸åŒã€‚å¦‚æœä¸è§„å®šå›¢é˜Ÿäººå‘˜å¦‚ä½•ä½¿ç”¨gitï¼Œgitçš„ç”¨æ³•å°±æ— æ³•ä¿è¯ä¸€è‡´ï¼Œç‰¹åˆ«æ˜¯æ–°å›¢é˜Ÿæˆå‘˜åŠ å…¥å›¢é˜Ÿæ—¶ï¼Œå›¢é˜ŸååŒä¸­å°±æ˜¯ä¸€åœºç¾éš¾ã€‚\nè€Œæˆ‘ä»¬éœ€è¦åšçš„æ‰¾åˆ°gitçš„ä¸»æµååŒå·¥ä½œæµï¼Œæ ¹æ®ä¸»æµååŒå·¥ä½œæµåšæˆé…ç½®ä¸Šçš„å–èˆï¼Œçº¦å®šè‡ªå·±å›¢é˜Ÿçš„gitä½¿ç”¨æ–¹æ³•ï¼Œä»è€Œä¿è¯gitçš„ä½¿ç”¨ä¸€è‡´æ€§ã€‚\nå…¶å®å¤§éƒ¨åˆ†æ—¶å€™æ— è„‘é€‰æ‹©ä¸»æµæ¨¡å¼ï¼Œå°±èƒ½è§£å†³å¤§éƒ¨åˆ†é—®é¢˜ï¼Œåˆèƒ½å‡å°‘æ–°æˆå‘˜çš„å­¦ä¹ æˆæœ¬ã€‚\nä¸»æµGitååŒå·¥ä½œæµç»¼è¿° 1. Git Flow 2. GitHub Flow 3. GitLab Flow 4. é€‰æ‹©å»ºè®®ä¸å›¢é˜Ÿå®è·µ 5. å‚è€ƒèµ„æ–™ 1. Git Flow ç®€ä»‹ï¼šç”±Vincent Driessenæå‡ºï¼Œé€‚åˆæœ‰å‘å¸ƒå‘¨æœŸã€ç‰ˆæœ¬ç®¡ç†éœ€æ±‚çš„å›¢é˜Ÿã€‚\nåˆ†æ”¯æ¨¡å‹ï¼š\nä¸»åˆ†æ”¯ï¼ˆmaster/mainï¼‰ å¼€å‘åˆ†æ”¯ï¼ˆdevelopï¼‰ åŠŸèƒ½åˆ†æ”¯ï¼ˆfeatureï¼‰ é¢„å‘å¸ƒåˆ†æ”¯ï¼ˆreleaseï¼‰ ä¿®å¤åˆ†æ”¯ï¼ˆhotfixï¼‰ æµç¨‹ç®€è¿°ï¼š\næ‰€æœ‰æ–°åŠŸèƒ½ä»developåˆ†æ”¯æ‹‰featureåˆ†æ”¯å¼€å‘ï¼Œå¼€å‘å®Œæˆåˆå¹¶å›developã€‚ å‘å¸ƒå‰ä»developæ‹‰releaseåˆ†æ”¯ï¼Œæµ‹è¯•é€šè¿‡ååˆå¹¶åˆ°masterå’Œdevelopã€‚ çº¿ä¸Šç´§æ€¥ä¿®å¤ä»masteræ‹‰hotfixï¼Œä¿®å¤ååˆå¹¶å›masterå’Œdevelopã€‚ ä¼˜ç‚¹ï¼šæµç¨‹æ¸…æ™°ï¼Œé€‚åˆå¤§å‹é¡¹ç›®å’Œå¤šäººåä½œã€‚\nç¼ºç‚¹ï¼šåˆ†æ”¯å¤šï¼Œæ“ä½œå¤æ‚ï¼Œå°å›¢é˜Ÿæˆ–æŒç»­äº¤ä»˜åœºæ™¯ä¸‹ç•¥æ˜¾ç¹çã€‚\n2. GitHub Flow ç®€ä»‹ï¼šGitHubå®˜æ–¹æ¨èï¼Œé€‚åˆæŒç»­äº¤ä»˜ã€æ•æ·å¼€å‘ã€‚\nåˆ†æ”¯æ¨¡å‹ï¼š\nä¸»åˆ†æ”¯ï¼ˆmain/masterï¼‰ åŠŸèƒ½åˆ†æ”¯ï¼ˆfeature/bugfixï¼‰ æµç¨‹ç®€è¿°ï¼š\nä»mainæ‹‰åˆ†æ”¯å¼€å‘æ–°åŠŸèƒ½æˆ–ä¿®å¤bugã€‚ å®Œæˆåæäº¤Pull Requestï¼ˆPRï¼‰ï¼Œç»ä»£ç è¯„å®¡ååˆå¹¶åˆ°mainã€‚ mainåˆ†æ”¯å§‹ç»ˆå¯éƒ¨ç½²ã€‚ ä¼˜ç‚¹ï¼šç®€å•é«˜æ•ˆï¼Œé€‚åˆå°å›¢é˜Ÿã€æŒç»­é›†æˆã€‚\nç¼ºç‚¹ï¼šä¸é€‚åˆå¤æ‚å‘å¸ƒæµç¨‹æˆ–å¤šç‰ˆæœ¬å¹¶è¡Œã€‚\n3. GitLab Flow ç®€ä»‹ï¼šç»“åˆGit Flowå’ŒGitHub Flowï¼Œå¼ºè°ƒä¸CI/CDã€ç¯å¢ƒéƒ¨ç½²ç»“åˆã€‚\nåˆ†æ”¯æ¨¡å‹ï¼š\nä¸»åˆ†æ”¯ ç¯å¢ƒåˆ†æ”¯ï¼ˆå¦‚productionã€stagingï¼‰ åŠŸèƒ½åˆ†æ”¯ æµç¨‹ç®€è¿°ï¼š\nåŠŸèƒ½å¼€å‘ä»ä¸»åˆ†æ”¯æ‹‰åˆ†æ”¯ï¼Œå¼€å‘å®Œæˆåˆå¹¶ã€‚ é€šè¿‡CI/CDè‡ªåŠ¨éƒ¨ç½²åˆ°ä¸åŒç¯å¢ƒåˆ†æ”¯ã€‚ ä¼˜ç‚¹ï¼šçµæ´»ï¼Œé€‚åˆæœ‰å¤šç¯å¢ƒéƒ¨ç½²éœ€æ±‚çš„å›¢é˜Ÿã€‚\nç¼ºç‚¹ï¼šéœ€è¦é…åˆè‡ªåŠ¨åŒ–å·¥å…·ï¼Œé…ç½®ç•¥å¤æ‚ã€‚\n4. é€‰æ‹©å»ºè®®ä¸å›¢é˜Ÿå®è·µ å°å‹å›¢é˜Ÿ/æŒç»­äº¤ä»˜ï¼šä¼˜å…ˆGitHub Flowï¼Œç®€å•é«˜æ•ˆã€‚ æœ‰ä¸¥æ ¼ç‰ˆæœ¬ç®¡ç†/å¤šç‰ˆæœ¬ç»´æŠ¤ï¼šä¼˜å…ˆGit Flowã€‚ æœ‰å¤šç¯å¢ƒéƒ¨ç½²/è‡ªåŠ¨åŒ–éœ€æ±‚ï¼šå¯é€‰GitLab Flowã€‚ å›¢é˜Ÿåº”æ ¹æ®å®é™…ä¸šåŠ¡ã€åä½œè§„æ¨¡å’Œäº¤ä»˜æ–¹å¼é€‰æ‹©åˆé€‚å·¥ä½œæµï¼Œå¹¶å½¢æˆä¹¦é¢è§„èŒƒã€‚ å°ç»“ï¼šä¸»æµå·¥ä½œæµå„æœ‰ä¾§é‡ï¼Œé€‰å‹æ—¶å»ºè®®ç»“åˆå›¢é˜Ÿè§„æ¨¡ã€äº¤ä»˜èŠ‚å¥å’Œè‡ªåŠ¨åŒ–æ°´å¹³ç»¼åˆè€ƒé‡ã€‚\n5. å‚è€ƒèµ„æ–™ A successful Git branching model GitHub Flowå®˜æ–¹æ–‡æ¡£ GitLab Flowå®˜æ–¹æ–‡æ¡£ ","date":"2025-08-14T00:00:00Z","image":"http://localhost:1313/p/tools/2025-08-14/1_hu_c1ca39d792aee4ab.jpg","permalink":"http://localhost:1313/p/tools/2025-08-14/","title":"Gitçš„ä¸»æµçš„ååŒå·¥ä½œæµ"},{"content":"å‰è¨€ åœ¨ç ä»£ç æˆ–åšæ–‡æ¡£çš„æ—¶å€™ï¼Œéœ€è¦å¯¹æ¯”ä¸¤ä¸ªæ–‡ä»¶çš„å·®å¼‚ï¼Œæœ‰ç‰ˆæœ¬ç®¡ç†å·¥å…·çš„æ—¶å€™å¯¹æ¯”ç‰ˆæœ¬å°±å¯ä»¥ï¼Œä½†æœ‰æ—¶æ€»æ˜¯è¿™æ ·çš„æˆ–é‚£æ ·çš„æ„å¤–ï¼Œä»Šå¤©åœ¨ç½‘ä¸Šæ‰¾äº†å‡ ä¸ªè¿™æ ·çš„å·¥å…·åšä¸‹å¯¹æ¯”è¯„æµ‹ã€‚å¦‚æœä½ æœ‰æ›´å¥½çš„å·¥å…·å¯ä»¥ç•™è¨€å‘Šè¯‰æˆ‘ã€‚\nä¸€ã€Meld è¿™æ˜¯ä¸€æ¬¾å¼€æºçš„æ–‡ä»¶æ¯”å¯¹å·¥å…·ï¼Œæ”¯æŒWindowsã€Linuxå’ŒmacOSå¹³å°ã€‚å®ƒæä¾›æ–‡ä»¶å’Œç›®å½•çš„åŒå‘å’Œä¸‰æ–¹æ¯”è¾ƒï¼Œå¹¶æ”¯æŒè®¸å¤šæµè¡Œçš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚é€‚åˆå¼€å‘è€…å’Œå›¢é˜Ÿåä½œä½¿ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨ä»£ç åˆå¹¶å’Œç‰ˆæœ¬ç®¡ç†ä¸­è¡¨ç°å‡ºè‰²ã€‚\näºŒã€WinMerge è¿™æ˜¯ä¸€æ¬¾ä¸ºWindowsè®¾è®¡çš„å…è´¹å¼€æºæ–‡ä»¶æ¯”è¾ƒå·¥å…·ã€‚å®ƒå¯ä»¥å¸®åŠ©ç”¨æˆ·æ¯”è¾ƒæ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œå¹¶ä»¥æ˜“äºç®¡ç†å’Œç†è§£çš„è§†è§‰æ–‡æœ¬æ ¼å¼ç”Ÿæˆå·®å¼‚ã€‚WinMergeä¹Ÿå¯ä»¥ç”¨ä½œå¤–éƒ¨æ¯”è¾ƒæˆ–åˆå¹¶å·¥å…·ï¼Œæˆ–ä½œä¸ºç‹¬ç«‹åº”ç”¨ç¨‹åºã€‚å®ƒçš„ç®€å•ç•Œé¢éå¸¸é€‚åˆåˆå­¦è€…ã€‚\nä¸‰ã€Beyond Compare ç”±Scooter Softwareæ¨å‡ºçš„æ–‡ä»¶æ¯”è¾ƒå·¥å…·ï¼Œä¸»è¦ç”¨é€”æ˜¯å¯¹æ¯”ä¸¤ä¸ªæ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶ï¼Œå¹¶å°†å·®å¼‚ä»¥é¢œè‰²æ ‡ç¤ºã€‚å®ƒè¿˜æ”¯æŒæ–‡ä»¶å¤¹ã€æ–‡ä»¶ã€FTPç«™ç‚¹çš„æ¯”è¾ƒï¼Œå¹¶ä¸”å¯ä»¥é«˜æ•ˆåœ°æ‰¾å‡ºä¸åŒç‚¹ã€‚æ­¤å¤–ï¼ŒBeyond Compareè¿˜å¯ä»¥è¿›è¡Œæ–‡æœ¬ç¼–è¾‘ã€ä»£ç åˆå¹¶ã€æ–‡ä»¶åŒæ­¥ç­‰åŠŸèƒ½ã€‚é€‚åˆéœ€è¦å¤„ç†å¤æ‚æ–‡ä»¶ç»“æ„çš„ç”¨æˆ·ã€‚\nå››ã€Diffuse è¿™æ¬¾å·¥å…·åœ¨å‘½ä»¤è¡Œä¸­çš„å“åº”é€Ÿåº¦å¾ˆå¿«ï¼Œæ”¯æŒåƒC++ã€Pythonã€Javaã€XMLç­‰è¯­è¨€çš„è¯­æ³•é«˜äº®æ˜¾ç¤ºã€‚å®ƒæ”¯æŒä¸¤ç›¸æ¯”è¾ƒæˆ–è€…ä¸‰ç›¸æ¯”è¾ƒï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥åŒæ—¶æ¯”è¾ƒä¸¤ä¸ªæˆ–ä¸‰ä¸ªæ–‡æœ¬æ–‡ä»¶ã€‚é€‚åˆå–œæ¬¢å‘½ä»¤è¡Œæ“ä½œçš„å¼€å‘è€…ã€‚\näº”ã€åƒåˆ†å°ºCalliper è¿™æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ä¸“ä¸šæ–‡æ¡£å†…å®¹å¯¹æ¯”å·¥å…·ï¼Œå¯å¸®åŠ©ç”¨æˆ·å¿«é€Ÿå‡†ç¡®åœ°æ¯”è¾ƒå’Œåˆ†æä¸¤ä¸ªæ–‡æ¡£ä¹‹é—´çš„å·®å¼‚ã€‚å®ƒæ”¯æŒdocã€docxã€pdfã€æ‰«æä»¶äº¤å‰æ¯”å¯¹ï¼Œé€‚ç”¨äºå‡ ç™¾ä¸Šåƒé¡µé•¿æ–‡æ¡£æ¯”å¯¹ï¼Œå¹¶ä¸”æ”¯æŒåŒå±å±•ç¤ºæ¯”å¯¹æ•ˆæœï¼Œå·®å¼‚ç›´è§‚å¯è§ã€‚éå¸¸é€‚åˆå¤„ç†æ³•å¾‹æ–‡æ¡£æˆ–æŠ€æœ¯æ–‡æ¡£çš„ç”¨æˆ·ã€‚\næ€»ç»“ ä»¥ä¸Šæåˆ°çš„å·¥å…·éƒ½å…·æœ‰å„è‡ªçš„ç‰¹ç‚¹ï¼Œæ ¹æ®éœ€æ±‚ä¸åŒé€‰æ‹©ä¹Ÿä¸åŒã€‚å¦‚æœåªæ˜¯æ–‡æœ¬æ¯”è¾ƒçš„è¯ï¼Œè¿˜å¯ä»¥åœ¨çº¿æ¯”è¾ƒï¼Œæ–¹ä¾¿å¾ˆå¤šã€‚å¦‚Diffcheckerï¼ˆä¸€æ¬¾åœ¨çº¿çš„æ–‡æ¡£å¯¹æ¯”å·¥å…·ï¼Œæ— éœ€ä¸‹è½½å®‰è£…ï¼Œç”¨æˆ·åªéœ€ä¸Šä¼ ä¸¤ä¸ªæ–‡ä»¶ï¼Œå³å¯è¿›è¡Œæ–‡æ¡£å¯¹æ¯”ï¼‰ã€ExamDiffï¼ˆä¸€æ¬¾å…è´¹çš„Windowså¹³å°ä¸‹çš„æ–‡æ¡£å¯¹æ¯”è½¯ä»¶ï¼Œå¯ç”¨äºæ¯”è¾ƒæ–‡ä»¶å¤¹ã€æ–‡ä»¶å’Œæ–‡æœ¬å†…å®¹ï¼‰ç­‰ï¼Œä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹©ã€‚æ­¤å¤–ï¼Œé€‰æ‹©å·¥å…·æ—¶è¿˜éœ€è€ƒè™‘æ“ä½œç³»ç»Ÿæ”¯æŒã€åŠŸèƒ½å¤æ‚åº¦ä»¥åŠä¸ªäººä½¿ç”¨ä¹ æƒ¯ã€‚\n","date":"2025-08-14T00:00:00Z","image":"http://localhost:1313/p/tools/2024-05-20/4_hu_823c1af1027ff534.png","permalink":"http://localhost:1313/p/tools/2024-05-20/","title":"æ–‡ä»¶æ–‡æœ¬å¯¹æ¯”å·¥å…·"},{"content":"å‰è¨€ åœ¨ç°ä»£Webåº”ç”¨ä¸­ï¼Œè¯­éŸ³æ’­æŠ¥åŠŸèƒ½è¶Šæ¥è¶Šå—åˆ°é‡è§†ï¼Œç‰¹åˆ«æ˜¯åœ¨å®æ—¶ç›‘æ§ç³»ç»Ÿã€æ— éšœç¢è®¿é—®ã€å¤šåª’ä½“åº”ç”¨ç­‰åœºæ™¯ä¸­ã€‚Web Speech APIä¸ºå¼€å‘è€…æä¾›äº†å¼ºå¤§çš„è¯­éŸ³åˆæˆèƒ½åŠ›ï¼Œè®©ç½‘é¡µèƒ½å¤Ÿ\u0026quot;è¯´è¯\u0026quot;ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•åœ¨æµè§ˆå™¨ä¸­å®ç°è¯­éŸ³æ’­æŠ¥åŠŸèƒ½ï¼Œå¹¶åˆ†äº«å®é™…å¼€å‘ä¸­çš„ç»éªŒå’Œæœ€ä½³å®è·µã€‚\nä¸€ã€Web Speech API åŸºç¡€ 1.1 API æ¦‚è¿° Web Speech APIåŒ…å«ä¸¤ä¸ªä¸»è¦éƒ¨åˆ†ï¼š\nSpeechSynthesisï¼ˆè¯­éŸ³åˆæˆï¼‰ï¼šå°†æ–‡æœ¬è½¬æ¢ä¸ºè¯­éŸ³ SpeechRecognitionï¼ˆè¯­éŸ³è¯†åˆ«ï¼‰ï¼šå°†è¯­éŸ³è½¬æ¢ä¸ºæ–‡æœ¬ æœ¬æ–‡ä¸»è¦å…³æ³¨SpeechSynthesis APIçš„ä½¿ç”¨ã€‚\n1.2 åŸºç¡€è¯­æ³•ç»“æ„ 1 2 3 4 5 6 7 8 9 10 11 12 13 // æ£€æŸ¥æµè§ˆå™¨æ”¯æŒ if (\u0026#39;speechSynthesis\u0026#39; in window) { // åˆ›å»ºè¯­éŸ³åˆæˆå®ä¾‹ const utterance = new SpeechSynthesisUtterance(); // è®¾ç½®è¦æ’­æŠ¥çš„æ–‡æœ¬ utterance.text = \u0026#39;ä½ å¥½ï¼Œä¸–ç•Œï¼\u0026#39;; // å¼€å§‹æ’­æŠ¥ window.speechSynthesis.speak(utterance); } else { console.log(\u0026#39;æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³åˆæˆåŠŸèƒ½\u0026#39;); } 1.3 æ ¸å¿ƒå¯¹è±¡å’Œæ–¹æ³• SpeechSynthesis å¯¹è±¡æ–¹æ³• 1 2 3 4 5 6 7 8 9 10 11 // ä¸»è¦æ–¹æ³• window.speechSynthesis.speak(utterance); // å¼€å§‹æ’­æŠ¥ window.speechSynthesis.cancel(); // å–æ¶ˆæ‰€æœ‰æ’­æŠ¥ window.speechSynthesis.pause(); // æš‚åœæ’­æŠ¥ window.speechSynthesis.resume(); // æ¢å¤æ’­æŠ¥ window.speechSynthesis.getVoices(); // è·å–å¯ç”¨è¯­éŸ³åˆ—è¡¨ // å±æ€§ window.speechSynthesis.speaking; // æ˜¯å¦æ­£åœ¨æ’­æŠ¥ window.speechSynthesis.pending; // æ˜¯å¦æœ‰å¾…æ’­æŠ¥å†…å®¹ window.speechSynthesis.paused; // æ˜¯å¦å·²æš‚åœ äºŒã€è¯¦ç»†é…ç½®å’Œå‚æ•° 2.1 SpeechSynthesisUtterance å±æ€§è¯¦è§£ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 function createAdvancedSpeech(text, options = {}) { const utterance = new SpeechSynthesisUtterance(); // åŸºç¡€å±æ€§ utterance.text = text; // è¦æ’­æŠ¥çš„æ–‡æœ¬ utterance.lang = options.lang || \u0026#39;zh-CN\u0026#39;; // è¯­è¨€è®¾ç½® // éŸ³é¢‘å±æ€§ utterance.volume = options.volume || 1; // éŸ³é‡ (0-1) utterance.rate = options.rate || 1; // è¯­é€Ÿ (0.1-10) utterance.pitch = options.pitch || 1; // éŸ³è°ƒ (0-2) // è¯­éŸ³é€‰æ‹© if (options.voice) { utterance.voice = options.voice; } return utterance; } // ä½¿ç”¨ç¤ºä¾‹ const speech = createAdvancedSpeech(\u0026#39;æ¬¢è¿ä½¿ç”¨è¯­éŸ³æ’­æŠ¥åŠŸèƒ½\u0026#39;, { volume: 0.8, rate: 0.9, pitch: 1.2, lang: \u0026#39;zh-CN\u0026#39; }); window.speechSynthesis.speak(speech); 2.2 è¯­éŸ³é€‰æ‹©å’Œç®¡ç† 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 class VoiceManager { constructor() { this.voices = []; this.loadVoices(); } // åŠ è½½å¯ç”¨è¯­éŸ³ loadVoices() { this.voices = window.speechSynthesis.getVoices(); // æŸäº›æµè§ˆå™¨éœ€è¦å¼‚æ­¥åŠ è½½ if (this.voices.length === 0) { window.speechSynthesis.onvoiceschanged = () =\u0026gt; { this.voices = window.speechSynthesis.getVoices(); }; } } // è·å–æŒ‡å®šè¯­è¨€çš„è¯­éŸ³ getVoicesByLang(lang) { return this.voices.filter(voice =\u0026gt; voice.lang.startsWith(lang)); } // è·å–æ¨èçš„ä¸­æ–‡è¯­éŸ³ getChineseVoice() { const chineseVoices = this.getVoicesByLang(\u0026#39;zh\u0026#39;); // ä¼˜å…ˆé€‰æ‹©æœ¬åœ°è¯­éŸ³ const localVoice = chineseVoices.find(voice =\u0026gt; voice.localService); if (localVoice) return localVoice; // å¤‡é€‰æ–¹æ¡ˆ return chineseVoices[0] || null; } // åˆ—å‡ºæ‰€æœ‰å¯ç”¨è¯­éŸ³ listAllVoices() { return this.voices.map(voice =\u0026gt; ({ name: voice.name, lang: voice.lang, localService: voice.localService, default: voice.default })); } } // ä½¿ç”¨ç¤ºä¾‹ const voiceManager = new VoiceManager(); // å»¶è¿Ÿæ‰§è¡Œä»¥ç¡®ä¿è¯­éŸ³åŠ è½½å®Œæˆ setTimeout(() =\u0026gt; { console.log(\u0026#39;å¯ç”¨è¯­éŸ³ï¼š\u0026#39;, voiceManager.listAllVoices()); const chineseVoice = voiceManager.getChineseVoice(); if (chineseVoice) { const utterance = new SpeechSynthesisUtterance(\u0026#39;æµ‹è¯•ä¸­æ–‡è¯­éŸ³\u0026#39;); utterance.voice = chineseVoice; window.speechSynthesis.speak(utterance); } }, 100); ä¸‰ã€å®ç”¨åŠŸèƒ½å°è£… 3.1 å®Œæ•´çš„è¯­éŸ³æ’­æŠ¥ç±» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 class SpeechPlayer { constructor(options = {}) { this.defaultOptions = { volume: 1, rate: 0.8, pitch: 1, lang: \u0026#39;zh-CN\u0026#39;, voice: null }; this.options = { ...this.defaultOptions, ...options }; this.isPlaying = false; this.queue = []; this.currentUtterance = null; this.initVoices(); } // åˆå§‹åŒ–è¯­éŸ³ initVoices() { const setVoices = () =\u0026gt; { const voices = window.speechSynthesis.getVoices(); if (!this.options.voice \u0026amp;\u0026amp; voices.length \u0026gt; 0) { // è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ä¸­æ–‡è¯­éŸ³ const chineseVoice = voices.find(voice =\u0026gt; voice.lang.includes(\u0026#39;zh\u0026#39;) \u0026amp;\u0026amp; voice.localService ) || voices.find(voice =\u0026gt; voice.lang.includes(\u0026#39;zh\u0026#39;)); if (chineseVoice) { this.options.voice = chineseVoice; } } }; setVoices(); window.speechSynthesis.onvoiceschanged = setVoices; } // æ’­æŠ¥æ–‡æœ¬ speak(text, customOptions = {}) { if (!text || typeof text !== \u0026#39;string\u0026#39;) { console.warn(\u0026#39;æ’­æŠ¥æ–‡æœ¬ä¸èƒ½ä¸ºç©º\u0026#39;); return Promise.reject(new Error(\u0026#39;Invalid text\u0026#39;)); } return new Promise((resolve, reject) =\u0026gt; { // åœæ­¢å½“å‰æ’­æŠ¥ this.stop(); const utterance = new SpeechSynthesisUtterance(); const finalOptions = { ...this.options, ...customOptions }; // è®¾ç½®å±æ€§ utterance.text = text; utterance.volume = finalOptions.volume; utterance.rate = finalOptions.rate; utterance.pitch = finalOptions.pitch; utterance.lang = finalOptions.lang; if (finalOptions.voice) { utterance.voice = finalOptions.voice; } // äº‹ä»¶ç›‘å¬ utterance.onstart = () =\u0026gt; { this.isPlaying = true; console.log(\u0026#39;å¼€å§‹æ’­æŠ¥:\u0026#39;, text); }; utterance.onend = () =\u0026gt; { this.isPlaying = false; this.currentUtterance = null; console.log(\u0026#39;æ’­æŠ¥å®Œæˆ:\u0026#39;, text); resolve(); }; utterance.onerror = (event) =\u0026gt; { this.isPlaying = false; this.currentUtterance = null; console.error(\u0026#39;æ’­æŠ¥é”™è¯¯:\u0026#39;, event.error); reject(new Error(event.error)); }; utterance.onpause = () =\u0026gt; { console.log(\u0026#39;æ’­æŠ¥æš‚åœ\u0026#39;); }; utterance.onresume = () =\u0026gt; { console.log(\u0026#39;æ’­æŠ¥æ¢å¤\u0026#39;); }; this.currentUtterance = utterance; window.speechSynthesis.speak(utterance); }); } // åœæ­¢æ’­æŠ¥ stop() { if (this.isPlaying) { window.speechSynthesis.cancel(); this.isPlaying = false; this.currentUtterance = null; } } // æš‚åœæ’­æŠ¥ pause() { if (this.isPlaying \u0026amp;\u0026amp; !window.speechSynthesis.paused) { window.speechSynthesis.pause(); } } // æ¢å¤æ’­æŠ¥ resume() { if (this.isPlaying \u0026amp;\u0026amp; window.speechSynthesis.paused) { window.speechSynthesis.resume(); } } // é˜Ÿåˆ—æ’­æŠ¥ async speakQueue(textArray, delay = 500) { for (const text of textArray) { try { await this.speak(text); if (delay \u0026gt; 0) { await this.delay(delay); } } catch (error) { console.error(\u0026#39;é˜Ÿåˆ—æ’­æŠ¥é”™è¯¯:\u0026#39;, error); } } } // å»¶è¿Ÿå‡½æ•° delay(ms) { return new Promise(resolve =\u0026gt; setTimeout(resolve, ms)); } // è·å–çŠ¶æ€ getStatus() { return { isPlaying: this.isPlaying, isPaused: window.speechSynthesis.paused, hasPending: window.speechSynthesis.pending }; } // è®¾ç½®é»˜è®¤é€‰é¡¹ setDefaultOptions(options) { this.options = { ...this.options, ...options }; } } 3.2 ä½¿ç”¨ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // åˆ›å»ºè¯­éŸ³æ’­æŠ¥å®ä¾‹ const speechPlayer = new SpeechPlayer({ volume: 0.8, rate: 0.9, pitch: 1.1 }); // åŸºç¡€ä½¿ç”¨ speechPlayer.speak(\u0026#39;æ¬¢è¿ä½¿ç”¨è¯­éŸ³æ’­æŠ¥åŠŸèƒ½ï¼\u0026#39;); // å¸¦è‡ªå®šä¹‰å‚æ•° speechPlayer.speak(\u0026#39;è¿™æ˜¯ä¸€æ¡é‡è¦é€šçŸ¥\u0026#39;, { volume: 1, rate: 0.7, pitch: 1.3 }); // é˜Ÿåˆ—æ’­æŠ¥ const messages = [ \u0026#39;ç³»ç»Ÿå¯åŠ¨å®Œæˆ\u0026#39;, \u0026#39;æ­£åœ¨åŠ è½½æ•°æ®\u0026#39;, \u0026#39;æ•°æ®åŠ è½½å®Œæˆ\u0026#39;, \u0026#39;ç³»ç»Ÿå°±ç»ª\u0026#39; ]; speechPlayer.speakQueue(messages, 1000); // Promise æ–¹å¼ speechPlayer.speak(\u0026#39;å¼‚æ­¥æ’­æŠ¥æµ‹è¯•\u0026#39;) .then(() =\u0026gt; { console.log(\u0026#39;æ’­æŠ¥å®Œæˆ\u0026#39;); }) .catch(error =\u0026gt; { console.error(\u0026#39;æ’­æŠ¥å¤±è´¥:\u0026#39;, error); }); å››ã€å®é™…åº”ç”¨åœºæ™¯ 4.1 å®æ—¶ç›‘æ§ç³»ç»Ÿ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 class MonitoringSpeech { constructor() { this.speechPlayer = new SpeechPlayer({ volume: 0.9, rate: 0.8 }); this.alertLevels = { info: { pitch: 1, rate: 0.8 }, warning: { pitch: 1.2, rate: 0.9 }, error: { pitch: 1.5, rate: 1.0 }, critical: { pitch: 1.8, rate: 1.2 } }; } // æ’­æŠ¥ç³»ç»ŸçŠ¶æ€ announceStatus(message, level = \u0026#39;info\u0026#39;) { const options = this.alertLevels[level] || this.alertLevels.info; const prefix = { info: \u0026#39;ç³»ç»Ÿä¿¡æ¯ï¼š\u0026#39;, warning: \u0026#39;è­¦å‘Šï¼š\u0026#39;, error: \u0026#39;é”™è¯¯ï¼š\u0026#39;, critical: \u0026#39;ä¸¥é‡é”™è¯¯ï¼š\u0026#39; }[level] || \u0026#39;\u0026#39;; return this.speechPlayer.speak(prefix + message, options); } // æ’­æŠ¥æ•°æ®æ›´æ–° announceDataUpdate(dataType, count) { const message = `${dataType}æ•°æ®å·²æ›´æ–°ï¼Œå…±${count}æ¡è®°å½•`; return this.announceStatus(message, \u0026#39;info\u0026#39;); } // æ’­æŠ¥ä»»åŠ¡è¿›åº¦ announceProgress(taskName, progress) { const message = `${taskName}è¿›åº¦ï¼š${progress}%`; return this.announceStatus(message, \u0026#39;info\u0026#39;); } } // ä½¿ç”¨ç¤ºä¾‹ const monitorSpeech = new MonitoringSpeech(); // æ¨¡æ‹Ÿç›‘æ§äº‹ä»¶ monitorSpeech.announceStatus(\u0026#39;ç³»ç»Ÿå¯åŠ¨å®Œæˆ\u0026#39;, \u0026#39;info\u0026#39;); monitorSpeech.announceDataUpdate(\u0026#39;ç”¨æˆ·\u0026#39;, 150); monitorSpeech.announceProgress(\u0026#39;æ•°æ®åŒæ­¥\u0026#39;, 75); monitorSpeech.announceStatus(\u0026#39;å†…å­˜ä½¿ç”¨ç‡è¿‡é«˜\u0026#39;, \u0026#39;warning\u0026#39;); 4.2 æ— éšœç¢è®¿é—®æ”¯æŒ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 class AccessibilitySpeech { constructor() { this.speechPlayer = new SpeechPlayer({ rate: 0.7, // è¾ƒæ…¢çš„è¯­é€Ÿä¾¿äºç†è§£ volume: 0.9 }); this.enabled = this.checkAccessibilityPreference(); this.setupKeyboardShortcuts(); } // æ£€æŸ¥ç”¨æˆ·åå¥½ checkAccessibilityPreference() { return localStorage.getItem(\u0026#39;speech-enabled\u0026#39;) === \u0026#39;true\u0026#39; || window.matchMedia(\u0026#39;(prefers-reduced-motion: no-preference)\u0026#39;).matches; } // è®¾ç½®é”®ç›˜å¿«æ·é”® setupKeyboardShortcuts() { document.addEventListener(\u0026#39;keydown\u0026#39;, (event) =\u0026gt; { // Ctrl + Shift + S åˆ‡æ¢è¯­éŸ³æ’­æŠ¥ if (event.ctrlKey \u0026amp;\u0026amp; event.shiftKey \u0026amp;\u0026amp; event.key === \u0026#39;S\u0026#39;) { this.toggle(); event.preventDefault(); } // Ctrl + Shift + Space åœæ­¢æ’­æŠ¥ if (event.ctrlKey \u0026amp;\u0026amp; event.shiftKey \u0026amp;\u0026amp; event.code === \u0026#39;Space\u0026#39;) { this.stop(); event.preventDefault(); } }); } // æ’­æŠ¥é¡µé¢å…ƒç´  announceElement(element) { if (!this.enabled) return; let text = \u0026#39;\u0026#39;; // æ ¹æ®å…ƒç´ ç±»å‹ç”Ÿæˆæ’­æŠ¥æ–‡æœ¬ switch (element.tagName.toLowerCase()) { case \u0026#39;button\u0026#39;: text = `æŒ‰é’®ï¼š${element.textContent || element.getAttribute(\u0026#39;aria-label\u0026#39;)}`; break; case \u0026#39;input\u0026#39;: const inputType = element.type || \u0026#39;text\u0026#39;; const label = element.getAttribute(\u0026#39;aria-label\u0026#39;) || element.placeholder; text = `${inputType}è¾“å…¥æ¡†ï¼š${label}`; break; case \u0026#39;a\u0026#39;: text = `é“¾æ¥ï¼š${element.textContent}`; break; case \u0026#39;h1\u0026#39;: case \u0026#39;h2\u0026#39;: case \u0026#39;h3\u0026#39;: case \u0026#39;h4\u0026#39;: case \u0026#39;h5\u0026#39;: case \u0026#39;h6\u0026#39;: text = `${element.tagName}æ ‡é¢˜ï¼š${element.textContent}`; break; default: text = element.textContent || element.getAttribute(\u0026#39;aria-label\u0026#39;); } if (text) { this.speechPlayer.speak(text); } } // æ’­æŠ¥è¡¨å•éªŒè¯ç»“æœ announceValidation(field, isValid, message) { if (!this.enabled) return; const status = isValid ? \u0026#39;éªŒè¯é€šè¿‡\u0026#39; : \u0026#39;éªŒè¯å¤±è´¥\u0026#39;; const text = `${field}${status}${message ? \u0026#39;ï¼š\u0026#39; + message : \u0026#39;\u0026#39;}`; this.speechPlayer.speak(text, { pitch: isValid ? 1 : 1.3 }); } // åˆ‡æ¢è¯­éŸ³æ’­æŠ¥ toggle() { this.enabled = !this.enabled; localStorage.setItem(\u0026#39;speech-enabled\u0026#39;, this.enabled.toString()); const message = this.enabled ? \u0026#39;è¯­éŸ³æ’­æŠ¥å·²å¼€å¯\u0026#39; : \u0026#39;è¯­éŸ³æ’­æŠ¥å·²å…³é—­\u0026#39;; if (this.enabled) { this.speechPlayer.speak(message); } } // åœæ­¢æ’­æŠ¥ stop() { this.speechPlayer.stop(); } } // ä½¿ç”¨ç¤ºä¾‹ const accessibilitySpeech = new AccessibilitySpeech(); // ä¸ºé¡µé¢å…ƒç´ æ·»åŠ ç„¦ç‚¹äº‹ä»¶ document.addEventListener(\u0026#39;focusin\u0026#39;, (event) =\u0026gt; { accessibilitySpeech.announceElement(event.target); }); // è¡¨å•éªŒè¯ç¤ºä¾‹ function validateForm(formData) { if (!formData.email) { accessibilitySpeech.announceValidation(\u0026#39;é‚®ç®±\u0026#39;, false, \u0026#39;é‚®ç®±ä¸èƒ½ä¸ºç©º\u0026#39;); return false; } if (!formData.email.includes(\u0026#39;@\u0026#39;)) { accessibilitySpeech.announceValidation(\u0026#39;é‚®ç®±\u0026#39;, false, \u0026#39;é‚®ç®±æ ¼å¼ä¸æ­£ç¡®\u0026#39;); return false; } accessibilitySpeech.announceValidation(\u0026#39;è¡¨å•\u0026#39;, true, \u0026#39;æ‰€æœ‰å­—æ®µéªŒè¯é€šè¿‡\u0026#39;); return true; } äº”ã€å…¼å®¹æ€§å’Œæœ€ä½³å®è·µ 5.1 æµè§ˆå™¨å…¼å®¹æ€§å¤„ç† 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 class CompatibleSpeech { constructor() { this.isSupported = this.checkSupport(); this.fallbackEnabled = true; if (this.isSupported) { this.speechPlayer = new SpeechPlayer(); this.setupCompatibilityFixes(); } } // æ£€æŸ¥æµè§ˆå™¨æ”¯æŒ checkSupport() { if (!(\u0026#39;speechSynthesis\u0026#39; in window)) { console.warn(\u0026#39;æµè§ˆå™¨ä¸æ”¯æŒ Web Speech API\u0026#39;); return false; } if (!(\u0026#39;SpeechSynthesisUtterance\u0026#39; in window)) { console.warn(\u0026#39;æµè§ˆå™¨ä¸æ”¯æŒ SpeechSynthesisUtterance\u0026#39;); return false; } return true; } // è®¾ç½®å…¼å®¹æ€§ä¿®å¤ setupCompatibilityFixes() { // Chrome æµè§ˆå™¨çš„é«˜é¢‘æ’­æ”¾é™åˆ¶ä¿®å¤ this.lastSpeakTime = 0; this.minInterval = 100; // æœ€å°é—´éš”100ms // iOS Safari çš„ç”¨æˆ·äº¤äº’è¦æ±‚ this.userInteracted = false; document.addEventListener(\u0026#39;click\u0026#39;, () =\u0026gt; { this.userInteracted = true; }, { once: true }); } // å…¼å®¹æ€§æ’­æŠ¥æ–¹æ³• speak(text, options = {}) { if (!this.isSupported) { return this.fallbackSpeak(text); } // Chrome é«˜é¢‘æ’­æ”¾é™åˆ¶ const now = Date.now(); if (now - this.lastSpeakTime \u0026lt; this.minInterval) { return new Promise((resolve) =\u0026gt; { setTimeout(() =\u0026gt; { this.lastSpeakTime = Date.now(); resolve(this.speechPlayer.speak(text, options)); }, this.minInterval - (now - this.lastSpeakTime)); }); } // iOS Safari ç”¨æˆ·äº¤äº’æ£€æŸ¥ if (!this.userInteracted \u0026amp;\u0026amp; this.isIOS()) { console.warn(\u0026#39;iOS Safari éœ€è¦ç”¨æˆ·äº¤äº’åæ‰èƒ½æ’­æ”¾è¯­éŸ³\u0026#39;); return Promise.reject(new Error(\u0026#39;User interaction required\u0026#39;)); } this.lastSpeakTime = now; return this.speechPlayer.speak(text, options); } // æ£€æŸ¥æ˜¯å¦ä¸º iOS isIOS() { return /iPad|iPhone|iPod/.test(navigator.userAgent); } // é™çº§æ–¹æ¡ˆ fallbackSpeak(text) { if (this.fallbackEnabled) { // å¯ä»¥æ˜¾ç¤ºæ–‡æœ¬æç¤ºæˆ–ä½¿ç”¨å…¶ä»–æ–¹å¼ this.showTextNotification(text); } return Promise.resolve(); } // æ–‡æœ¬é€šçŸ¥æ˜¾ç¤º showTextNotification(text) { const notification = document.createElement(\u0026#39;div\u0026#39;); notification.textContent = `ğŸ”Š ${text}`; notification.style.cssText = ` position: fixed; top: 20px; right: 20px; background: #333; color: white; padding: 10px 15px; border-radius: 5px; z-index: 10000; font-size: 14px; max-width: 300px; animation: slideIn 0.3s ease-out; `; // æ·»åŠ åŠ¨ç”»æ ·å¼ if (!document.getElementById(\u0026#39;speech-notification-style\u0026#39;)) { const style = document.createElement(\u0026#39;style\u0026#39;); style.id = \u0026#39;speech-notification-style\u0026#39;; style.textContent = ` @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } } `; document.head.appendChild(style); } document.body.appendChild(notification); // 3ç§’åè‡ªåŠ¨ç§»é™¤ setTimeout(() =\u0026gt; { if (notification.parentNode) { notification.parentNode.removeChild(notification); } }, 3000); } // è·å–æ”¯æŒä¿¡æ¯ getSupportInfo() { return { speechSynthesis: \u0026#39;speechSynthesis\u0026#39; in window, speechSynthesisUtterance: \u0026#39;SpeechSynthesisUtterance\u0026#39; in window, voicesCount: this.isSupported ? window.speechSynthesis.getVoices().length : 0, userAgent: navigator.userAgent, isIOS: this.isIOS() }; } } 5.2 æ€§èƒ½ä¼˜åŒ–å»ºè®® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 class OptimizedSpeech { constructor() { this.speechPlayer = new SpeechPlayer(); this.cache = new Map(); this.maxCacheSize = 50; this.debounceTimer = null; this.debounceDelay = 300; } // é˜²æŠ–æ’­æŠ¥ debouncedSpeak(text, options = {}) { clearTimeout(this.debounceTimer); this.debounceTimer = setTimeout(() =\u0026gt; { this.speak(text, options); }, this.debounceDelay); } // ç¼“å­˜ä¼˜åŒ–çš„æ’­æŠ¥ speak(text, options = {}) { const cacheKey = this.getCacheKey(text, options); // æ£€æŸ¥ç¼“å­˜ if (this.cache.has(cacheKey)) { const cachedUtterance = this.cache.get(cacheKey); return this.speechPlayer.speak(cachedUtterance.text, options); } // ç¼“å­˜ç®¡ç† if (this.cache.size \u0026gt;= this.maxCacheSize) { const firstKey = this.cache.keys().next().value; this.cache.delete(firstKey); } // æ·»åŠ åˆ°ç¼“å­˜ this.cache.set(cacheKey, { text, options }); return this.speechPlayer.speak(text, options); } // ç”Ÿæˆç¼“å­˜é”® getCacheKey(text, options) { return `${text}_${JSON.stringify(options)}`; } // æ‰¹é‡é¢„åŠ è½½ preloadTexts(texts) { texts.forEach(text =\u0026gt; { const utterance = new SpeechSynthesisUtterance(text); // é¢„åˆ›å»ºä½†ä¸æ’­æ”¾ }); } // æ¸…ç†ç¼“å­˜ clearCache() { this.cache.clear(); } } å…­ã€æ•…éšœæ’æŸ¥å’Œè°ƒè¯• 6.1 å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 class SpeechDebugger { constructor() { this.debugMode = false; this.logs = []; } // å¯ç”¨è°ƒè¯•æ¨¡å¼ enableDebug() { this.debugMode = true; this.setupDebugListeners(); } // è®¾ç½®è°ƒè¯•ç›‘å¬å™¨ setupDebugListeners() { const originalSpeak = window.speechSynthesis.speak; window.speechSynthesis.speak = (utterance) =\u0026gt; { this.log(\u0026#39;å¼€å§‹æ’­æŠ¥\u0026#39;, { text: utterance.text, voice: utterance.voice?.name, lang: utterance.lang, rate: utterance.rate, pitch: utterance.pitch, volume: utterance.volume }); // æ·»åŠ äº‹ä»¶ç›‘å¬ utterance.addEventListener(\u0026#39;start\u0026#39;, () =\u0026gt; { this.log(\u0026#39;æ’­æŠ¥å¼€å§‹\u0026#39;, { text: utterance.text }); }); utterance.addEventListener(\u0026#39;end\u0026#39;, () =\u0026gt; { this.log(\u0026#39;æ’­æŠ¥ç»“æŸ\u0026#39;, { text: utterance.text }); }); utterance.addEventListener(\u0026#39;error\u0026#39;, (event) =\u0026gt; { this.log(\u0026#39;æ’­æŠ¥é”™è¯¯\u0026#39;, { text: utterance.text, error: event.error, message: event.message }); }); return originalSpeak.call(window.speechSynthesis, utterance); }; } // è®°å½•æ—¥å¿— log(message, data = {}) { const logEntry = { timestamp: new Date().toISOString(), message, data, speechSynthesisState: { speaking: window.speechSynthesis.speaking, pending: window.speechSynthesis.pending, paused: window.speechSynthesis.paused } }; this.logs.push(logEntry); if (this.debugMode) { console.log(`[SpeechDebug] ${message}`, logEntry); } // é™åˆ¶æ—¥å¿—æ•°é‡ if (this.logs.length \u0026gt; 100) { this.logs.shift(); } } // è¯Šæ–­ç³»ç»ŸçŠ¶æ€ diagnose() { const diagnosis = { browserSupport: \u0026#39;speechSynthesis\u0026#39; in window, voicesLoaded: window.speechSynthesis.getVoices().length \u0026gt; 0, currentState: { speaking: window.speechSynthesis.speaking, pending: window.speechSynthesis.pending, paused: window.speechSynthesis.paused }, availableVoices: window.speechSynthesis.getVoices().map(voice =\u0026gt; ({ name: voice.name, lang: voice.lang, localService: voice.localService })), recentLogs: this.logs.slice(-10) }; console.table(diagnosis.availableVoices); return diagnosis; } // æµ‹è¯•è¯­éŸ³åŠŸèƒ½ async testSpeech() { const testTexts = [ \u0026#39;æµ‹è¯•ä¸­æ–‡è¯­éŸ³\u0026#39;, \u0026#39;Testing English speech\u0026#39;, \u0026#39;1234567890\u0026#39;, \u0026#39;ç‰¹æ®Šå­—ç¬¦ï¼š@#$%^\u0026amp;*()\u0026#39; ]; for (const text of testTexts) { try { this.log(\u0026#39;å¼€å§‹æµ‹è¯•\u0026#39;, { text }); const utterance = new SpeechSynthesisUtterance(text); await new Promise((resolve, reject) =\u0026gt; { utterance.onend = resolve; utterance.onerror = reject; window.speechSynthesis.speak(utterance); }); this.log(\u0026#39;æµ‹è¯•æˆåŠŸ\u0026#39;, { text }); // ç­‰å¾…é—´éš” await new Promise(resolve =\u0026gt; setTimeout(resolve, 500)); } catch (error) { this.log(\u0026#39;æµ‹è¯•å¤±è´¥\u0026#39;, { text, error: error.message }); } } } // å¯¼å‡ºæ—¥å¿— exportLogs() { const logData = { timestamp: new Date().toISOString(), userAgent: navigator.userAgent, logs: this.logs }; const blob = new Blob([JSON.stringify(logData, null, 2)], { type: \u0026#39;application/json\u0026#39; }); const url = URL.createObjectURL(blob); const a = document.createElement(\u0026#39;a\u0026#39;); a.href = url; a.download = `speech-debug-${Date.now()}.json`; a.click(); URL.revokeObjectURL(url); } } // ä½¿ç”¨ç¤ºä¾‹ const debugger = new SpeechDebugger(); debugger.enableDebug(); // è¯Šæ–­ç³»ç»Ÿ console.log(\u0026#39;ç³»ç»Ÿè¯Šæ–­ç»“æœ:\u0026#39;, debugger.diagnose()); // æµ‹è¯•è¯­éŸ³åŠŸèƒ½ debugger.testSpeech(); ä¸ƒã€åŸå§‹å®ç°å›é¡¾ åŸºäºæ–‡ç« å¼€å¤´æåˆ°çš„åŸºç¡€å®ç°ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•æ”¹è¿›ï¼š\n7.1 åŸå§‹ä»£ç åˆ†æ 1 2 3 4 5 6 7 8 9 10 11 12 13 // åŸå§‹å®ç° function SpeechShow(msg) { window.speechSynthesis.cancel(); var utterThis = new window.SpeechSynthesisUtterance(); utterThis.volume = 1; // å£°éŸ³çš„éŸ³é‡ èŒƒå›´æ˜¯0åˆ°1 utterThis.rate = 0.5; //è¯­é€Ÿï¼Œæ•°å€¼ï¼Œé»˜è®¤å€¼æ˜¯1ï¼ŒèŒƒå›´æ˜¯0.1åˆ°10 utterThis.pitch = 1; // éŸ³é«˜ï¼Œæ•°å€¼ï¼ŒèŒƒå›´ä»0ï¼ˆæœ€å°ï¼‰åˆ°2ï¼ˆæœ€å¤§ï¼‰ã€‚é»˜è®¤å€¼ä¸º1 utterThis.text = msg; window.speechSynthesis.speak(utterThis); } // ä½¿ç”¨ SpeechShow(\u0026#34;æµ‹è¯•è¯­éŸ³æ’­æ”¾\u0026#34;); 7.2 æ”¹è¿›ç‰ˆæœ¬ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 // æ”¹è¿›åçš„å®ç° class ImprovedSpeechShow { constructor() { this.lastCallTime = 0; this.minInterval = 100; // Chrome å…¼å®¹æ€§ this.defaultOptions = { volume: 1, rate: 0.8, // ç¨å¾®æé«˜è¯­é€Ÿ pitch: 1, lang: \u0026#39;zh-CN\u0026#39; }; } async speak(msg, options = {}) { // å‚æ•°éªŒè¯ if (!msg || typeof msg !== \u0026#39;string\u0026#39;) { console.warn(\u0026#39;æ’­æŠ¥å†…å®¹ä¸èƒ½ä¸ºç©º\u0026#39;); return; } // æµè§ˆå™¨æ”¯æŒæ£€æŸ¥ if (!(\u0026#39;speechSynthesis\u0026#39; in window)) { console.warn(\u0026#39;æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³åˆæˆ\u0026#39;); return; } // Chrome é«˜é¢‘è°ƒç”¨é™åˆ¶ const now = Date.now(); if (now - this.lastCallTime \u0026lt; this.minInterval) { await new Promise(resolve =\u0026gt; setTimeout(resolve, this.minInterval - (now - this.lastCallTime)) ); } // åœæ­¢å½“å‰æ’­æŠ¥ window.speechSynthesis.cancel(); // åˆ›å»ºè¯­éŸ³å®ä¾‹ const utterance = new SpeechSynthesisUtterance(); const finalOptions = { ...this.defaultOptions, ...options }; // è®¾ç½®å±æ€§ utterance.text = msg; utterance.volume = finalOptions.volume; utterance.rate = finalOptions.rate; utterance.pitch = finalOptions.pitch; utterance.lang = finalOptions.lang; // è¿”å› Promise ä»¥æ”¯æŒå¼‚æ­¥æ“ä½œ return new Promise((resolve, reject) =\u0026gt; { utterance.onend = () =\u0026gt; { console.log(\u0026#39;æ’­æŠ¥å®Œæˆ:\u0026#39;, msg); resolve(); }; utterance.onerror = (event) =\u0026gt; { console.error(\u0026#39;æ’­æŠ¥å¤±è´¥:\u0026#39;, event.error); reject(new Error(event.error)); }; this.lastCallTime = Date.now(); window.speechSynthesis.speak(utterance); }); } } // ä½¿ç”¨æ”¹è¿›ç‰ˆæœ¬ const speechShow = new ImprovedSpeechShow(); // åŸºç¡€ä½¿ç”¨ speechShow.speak(\u0026#34;æµ‹è¯•è¯­éŸ³æ’­æ”¾\u0026#34;); // è‡ªå®šä¹‰å‚æ•° speechShow.speak(\u0026#34;é‡è¦é€šçŸ¥\u0026#34;, { volume: 0.9, rate: 0.7, pitch: 1.2 }); // å¼‚æ­¥ä½¿ç”¨ speechShow.speak(\u0026#34;å¼‚æ­¥æ’­æŠ¥æµ‹è¯•\u0026#34;) .then(() =\u0026gt; console.log(\u0026#39;æ’­æŠ¥å®Œæˆ\u0026#39;)) .catch(error =\u0026gt; console.error(\u0026#39;æ’­æŠ¥å¤±è´¥:\u0026#39;, error)); å…«ã€æ€»ç»“ä¸æœ€ä½³å®è·µ 8.1 å¼€å‘å»ºè®® å…¼å®¹æ€§ä¼˜å…ˆï¼šå§‹ç»ˆæ£€æŸ¥æµè§ˆå™¨æ”¯æŒï¼Œæä¾›é™çº§æ–¹æ¡ˆ ç”¨æˆ·ä½“éªŒï¼šé¿å…è¿‡äºé¢‘ç¹çš„è¯­éŸ³æ’­æŠ¥ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ æ€§èƒ½ä¼˜åŒ–ï¼šä½¿ç”¨é˜²æŠ–ã€ç¼“å­˜ç­‰æŠ€æœ¯ä¼˜åŒ–æ€§èƒ½ é”™è¯¯å¤„ç†ï¼šå®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½• å¯è®¿é—®æ€§ï¼šä¸ºè§†éšœç”¨æˆ·æä¾›æ›´å¥½çš„æ— éšœç¢ä½“éªŒ 8.2 æ³¨æ„äº‹é¡¹ Chrome æµè§ˆå™¨é™åˆ¶ï¼š\né«˜é¢‘è°ƒç”¨å¯èƒ½è¢«é™åˆ¶ï¼Œéœ€è¦æ·»åŠ é€‚å½“çš„å»¶è¿Ÿ å»ºè®®è°ƒç”¨é—´éš”ä¸å°‘äº100ms ç§»åŠ¨ç«¯å…¼å®¹æ€§ï¼š\niOS Safari éœ€è¦ç”¨æˆ·äº¤äº’åæ‰èƒ½æ’­æ”¾ Android æµè§ˆå™¨æ”¯æŒç¨‹åº¦ä¸ä¸€ è¯­éŸ³è´¨é‡ï¼š\nä¼˜å…ˆé€‰æ‹©æœ¬åœ°è¯­éŸ³å¼•æ“ æ ¹æ®å†…å®¹ç±»å‹è°ƒæ•´è¯­éŸ³å‚æ•° 8.3 æœªæ¥å‘å±• Web Speech API ä»åœ¨ä¸æ–­å‘å±•ï¼Œæœªæ¥å¯èƒ½ä¼šæœ‰æ›´å¤šåŠŸèƒ½ï¼š\næ›´å¥½çš„è¯­éŸ³è´¨é‡ æ›´å¤šçš„è¯­éŸ³é€‰é¡¹ æ›´å¼ºçš„è‡ªå®šä¹‰èƒ½åŠ› æ›´å¥½çš„ç§»åŠ¨ç«¯æ”¯æŒ é€šè¿‡æœ¬æ–‡çš„è¯¦ç»†ä»‹ç»ï¼Œç›¸ä¿¡ä½ å·²ç»æŒæ¡äº†åœ¨æµè§ˆå™¨ä¸­å®ç°è¯­éŸ³æ’­æŠ¥åŠŸèƒ½çš„å„ç§æŠ€å·§ã€‚è®°ä½ï¼Œå¥½çš„è¯­éŸ³äº¤äº’ä¸ä»…ä»…æ˜¯æŠ€æœ¯å®ç°ï¼Œæ›´é‡è¦çš„æ˜¯ä¸ºç”¨æˆ·æä¾›è‡ªç„¶ã€å‹å¥½çš„ä½“éªŒã€‚\n","date":"2024-12-15T00:00:00Z","permalink":"http://localhost:1313/p/net/2024-12-15/","title":"æµè§ˆå™¨ä¸­ä½¿ç”¨è¯­éŸ³æ’­æŠ¥åŠŸèƒ½å®æˆ˜æŒ‡å—"},{"content":"å‰è¨€ åœ¨ç°ä»£ä¼ä¸šåº”ç”¨ä¸­ï¼Œæ•°æ®åº“æ€§èƒ½å¾€å¾€æ˜¯ç³»ç»Ÿç“¶é¢ˆçš„å…³é”®æ‰€åœ¨ã€‚SQL Serverä½œä¸ºå¾®è½¯çš„æ——èˆ°æ•°æ®åº“äº§å“ï¼Œåœ¨ä¼ä¸šçº§åº”ç”¨ä¸­å¹¿æ³›ä½¿ç”¨ã€‚æœ¬æ–‡å°†ä»å¤šä¸ªç»´åº¦æ·±å…¥æ¢è®¨SQL Serveræ€§èƒ½ä¼˜åŒ–çš„å®ç”¨æŠ€å·§ï¼Œå¸®åŠ©æ•°æ®åº“ç®¡ç†å‘˜å’Œå¼€å‘è€…æ„å»ºé«˜æ€§èƒ½çš„æ•°æ®åº“ç³»ç»Ÿã€‚\nä¸€ã€æŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥ 1.1 ç´¢å¼•ä¼˜åŒ– èšé›†ç´¢å¼•ä¸éèšé›†ç´¢å¼• 1 2 3 4 5 6 7 8 9 10 11 12 13 -- åˆ›å»ºèšé›†ç´¢å¼•ï¼ˆæ¯ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªï¼‰ CREATE CLUSTERED INDEX IX_Orders_OrderDate ON Orders(OrderDate); -- åˆ›å»ºéèšé›†ç´¢å¼• CREATE NONCLUSTERED INDEX IX_Orders_CustomerID ON Orders(CustomerID) INCLUDE (OrderDate, TotalAmount); -- å¤åˆç´¢å¼•ï¼ˆæ³¨æ„åˆ—çš„é¡ºåºï¼‰ CREATE NONCLUSTERED INDEX IX_Orders_Composite ON Orders(CustomerID, OrderDate, Status) INCLUDE (TotalAmount); ç´¢å¼•ä½¿ç”¨æœ€ä½³å®è·µ âœ… æ¨èåšæ³•ï¼š\nåœ¨ç»å¸¸ç”¨äºWHEREã€JOINã€ORDER BYçš„åˆ—ä¸Šåˆ›å»ºç´¢å¼• ä½¿ç”¨INCLUDEå­å¥åŒ…å«æŸ¥è¯¢ä¸­éœ€è¦çš„å…¶ä»–åˆ— ä¸ºå¤–é”®åˆ—åˆ›å»ºç´¢å¼•ä»¥æé«˜JOINæ€§èƒ½ âŒ é¿å…çš„åšæ³•ï¼š\nåœ¨é¢‘ç¹æ›´æ–°çš„å°è¡¨ä¸Šåˆ›å»ºè¿‡å¤šç´¢å¼• åœ¨ä½é€‰æ‹©æ€§åˆ—ä¸Šåˆ›å»ºç´¢å¼• åˆ›å»ºé‡å¤æˆ–å†—ä½™çš„ç´¢å¼• 1.2 æŸ¥è¯¢è¯­å¥ä¼˜åŒ– é¿å…å…¨è¡¨æ‰«æ 1 2 3 4 5 6 7 8 9 -- âŒ ä½æ•ˆæŸ¥è¯¢ SELECT * FROM Orders WHERE YEAR(OrderDate) = 2024; -- âœ… ä¼˜åŒ–åæŸ¥è¯¢ SELECT OrderID, CustomerID, OrderDate, TotalAmount FROM Orders WHERE OrderDate \u0026gt;= \u0026#39;2024-01-01\u0026#39; AND OrderDate \u0026lt; \u0026#39;2025-01-01\u0026#39;; ä½¿ç”¨EXISTSæ›¿ä»£IN 1 2 3 4 5 6 7 8 9 10 11 12 13 14 -- âŒ æ€§èƒ½è¾ƒå·® SELECT * FROM Customers c WHERE c.CustomerID IN ( SELECT o.CustomerID FROM Orders o WHERE o.OrderDate \u0026gt; \u0026#39;2024-01-01\u0026#39; ); -- âœ… æ€§èƒ½æ›´å¥½ SELECT * FROM Customers c WHERE EXISTS ( SELECT 1 FROM Orders o WHERE o.CustomerID = c.CustomerID AND o.OrderDate \u0026gt; \u0026#39;2024-01-01\u0026#39; ); ä¼˜åŒ–JOINæ“ä½œ 1 2 3 4 5 6 7 8 9 10 11 12 13 -- âœ… é«˜æ•ˆçš„JOINæŸ¥è¯¢ SELECT c.CustomerName, o.OrderID, o.OrderDate, od.ProductID, od.Quantity * od.UnitPrice as LineTotal FROM Customers c INNER JOIN Orders o ON c.CustomerID = o.CustomerID INNER JOIN OrderDetails od ON o.OrderID = od.OrderID WHERE o.OrderDate \u0026gt;= \u0026#39;2024-01-01\u0026#39; AND c.Country = \u0026#39;USA\u0026#39; ORDER BY o.OrderDate DESC; 1.3 åˆ†é¡µæŸ¥è¯¢ä¼˜åŒ– ä½¿ç”¨OFFSET/FETCHï¼ˆSQL Server 2012+ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 -- âœ… ç°ä»£åˆ†é¡µæ–¹å¼ SELECT OrderID, CustomerID, OrderDate, TotalAmount FROM Orders WHERE Status = \u0026#39;Completed\u0026#39; ORDER BY OrderDate DESC OFFSET 20 ROWS FETCH NEXT 10 ROWS ONLY; åŸºäºæ¸¸æ ‡çš„åˆ†é¡µï¼ˆå¤§æ•°æ®é›†ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 -- âœ… é€‚ç”¨äºå¤§æ•°æ®é›†çš„åˆ†é¡µ DECLARE @LastOrderDate DATETIME = \u0026#39;2024-01-01\u0026#39;; DECLARE @LastOrderID INT = 0; SELECT TOP 10 OrderID, CustomerID, OrderDate, TotalAmount FROM Orders WHERE (OrderDate \u0026gt; @LastOrderDate) OR (OrderDate = @LastOrderDate AND OrderID \u0026gt; @LastOrderID) ORDER BY OrderDate, OrderID; äºŒã€æ•°æ®åº“è®¾è®¡ä¼˜åŒ– 2.1 è¡¨ç»“æ„è®¾è®¡ æ•°æ®ç±»å‹é€‰æ‹© 1 2 3 4 5 6 7 8 9 10 11 12 -- âœ… ä¼˜åŒ–çš„è¡¨ç»“æ„ CREATE TABLE OptimizedOrders ( OrderID INT IDENTITY(1,1) PRIMARY KEY, CustomerID INT NOT NULL, OrderDate DATE NOT NULL, -- ä½¿ç”¨DATEè€ŒéDATETIMEï¼ˆå¦‚æœä¸éœ€è¦æ—¶é—´ï¼‰ Status TINYINT NOT NULL, -- ä½¿ç”¨TINYINTå­˜å‚¨çŠ¶æ€ç  TotalAmount DECIMAL(10,2) NOT NULL, CreatedAt DATETIME2(3) DEFAULT GETDATE(), -- ä½¿ç”¨DATETIME2 INDEX IX_Orders_CustomerDate (CustomerID, OrderDate), INDEX IX_Orders_Status (Status) WHERE Status IN (1,2,3) ); åˆ†åŒºè¡¨è®¾è®¡ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 -- åˆ›å»ºåˆ†åŒºå‡½æ•° CREATE PARTITION FUNCTION PF_OrderDate (DATE) AS RANGE RIGHT FOR VALUES (\u0026#39;2023-01-01\u0026#39;, \u0026#39;2023-04-01\u0026#39;, \u0026#39;2023-07-01\u0026#39;, \u0026#39;2023-10-01\u0026#39;, \u0026#39;2024-01-01\u0026#39;); -- åˆ›å»ºåˆ†åŒºæ–¹æ¡ˆ CREATE PARTITION SCHEME PS_OrderDate AS PARTITION PF_OrderDate TO (FG_2022, FG_2023Q1, FG_2023Q2, FG_2023Q3, FG_2023Q4, FG_2024); -- åˆ›å»ºåˆ†åŒºè¡¨ CREATE TABLE PartitionedOrders ( OrderID INT IDENTITY(1,1), CustomerID INT NOT NULL, OrderDate DATE NOT NULL, TotalAmount DECIMAL(10,2) NOT NULL, CONSTRAINT PK_PartitionedOrders PRIMARY KEY (OrderID, OrderDate) ) ON PS_OrderDate(OrderDate); 2.2 è§„èŒƒåŒ–ä¸åè§„èŒƒåŒ– é€‚åº¦åè§„èŒƒåŒ–ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 -- åŸå§‹è§„èŒƒåŒ–è®¾è®¡ CREATE TABLE Orders ( OrderID INT PRIMARY KEY, CustomerID INT, OrderDate DATE ); CREATE TABLE Customers ( CustomerID INT PRIMARY KEY, CustomerName NVARCHAR(100), Country NVARCHAR(50) ); -- åè§„èŒƒåŒ–è®¾è®¡ï¼ˆé€‚ç”¨äºè¯»å¤šå†™å°‘åœºæ™¯ï¼‰ CREATE TABLE OrdersWithCustomer ( OrderID INT PRIMARY KEY, CustomerID INT, CustomerName NVARCHAR(100), -- å†—ä½™å­—æ®µ CustomerCountry NVARCHAR(50), -- å†—ä½™å­—æ®µ OrderDate DATE ); ä¸‰ã€æœåŠ¡å™¨é…ç½®ä¼˜åŒ– 3.1 å†…å­˜é…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 -- æŸ¥çœ‹å½“å‰å†…å­˜é…ç½® SELECT name, value_in_use, description FROM sys.configurations WHERE name IN (\u0026#39;max server memory (MB)\u0026#39;, \u0026#39;min server memory (MB)\u0026#39;); -- è®¾ç½®æœ€å¤§æœåŠ¡å™¨å†…å­˜ï¼ˆä¿ç•™ç³»ç»Ÿå†…å­˜ï¼‰ EXEC sp_configure \u0026#39;max server memory (MB)\u0026#39;, 6144; -- 6GB RECONFIGURE; -- å¯ç”¨é”é¡µé¢å†…å­˜ï¼ˆéœ€è¦Windowsæƒé™ï¼‰ EXEC sp_configure \u0026#39;lock pages in memory\u0026#39;, 1; RECONFIGURE; 3.2 å¹¶è¡Œåº¦é…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 -- è®¾ç½®æœ€å¤§å¹¶è¡Œåº¦ï¼ˆMAXDOPï¼‰ EXEC sp_configure \u0026#39;max degree of parallelism\u0026#39;, 4; RECONFIGURE; -- è®¾ç½®å¹¶è¡Œåº¦é˜ˆå€¼ EXEC sp_configure \u0026#39;cost threshold for parallelism\u0026#39;, 50; RECONFIGURE; -- æŸ¥è¯¢çº§åˆ«çš„å¹¶è¡Œåº¦æ§åˆ¶ SELECT CustomerID, COUNT(*) FROM Orders GROUP BY CustomerID OPTION (MAXDOP 2); 3.3 æ–‡ä»¶å’Œæ–‡ä»¶ç»„ä¼˜åŒ– 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 -- åˆ›å»ºå¤šä¸ªæ•°æ®æ–‡ä»¶ä»¥æé«˜I/Oæ€§èƒ½ ALTER DATABASE YourDatabase ADD FILE ( NAME = \u0026#39;YourDatabase_Data2\u0026#39;, FILENAME = \u0026#39;D:\\Data\\YourDatabase_Data2.mdf\u0026#39;, SIZE = 1GB, FILEGROWTH = 256MB ); -- åˆ›å»ºä¸“ç”¨çš„æ–‡ä»¶ç»„ç”¨äºç´¢å¼• ALTER DATABASE YourDatabase ADD FILEGROUP IndexFileGroup; ALTER DATABASE YourDatabase ADD FILE ( NAME = \u0026#39;YourDatabase_Index\u0026#39;, FILENAME = \u0026#39;E:\\Index\\YourDatabase_Index.ndf\u0026#39;, SIZE = 512MB, FILEGROWTH = 128MB ) TO FILEGROUP IndexFileGroup; å››ã€ç›‘æ§å’Œè¯Šæ–­ 4.1 æ€§èƒ½ç›‘æ§æŸ¥è¯¢ æŸ¥æ‰¾æœ€è€—æ—¶çš„æŸ¥è¯¢ 1 2 3 4 5 6 7 8 9 10 11 12 13 -- æŸ¥æ‰¾CPUä½¿ç”¨ç‡æœ€é«˜çš„æŸ¥è¯¢ SELECT TOP 10 qs.total_worker_time / qs.execution_count AS avg_cpu_time, qs.execution_count, qs.total_elapsed_time / qs.execution_count AS avg_elapsed_time, SUBSTRING(qt.text, (qs.statement_start_offset/2)+1, ((CASE qs.statement_end_offset WHEN -1 THEN DATALENGTH(qt.text) ELSE qs.statement_end_offset END - qs.statement_start_offset)/2)+1) AS statement_text FROM sys.dm_exec_query_stats qs CROSS APPLY sys.dm_exec_sql_text(qs.sql_handle) qt ORDER BY avg_cpu_time DESC; ç›‘æ§ç­‰å¾…ç»Ÿè®¡ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 -- æŸ¥çœ‹ç­‰å¾…ç»Ÿè®¡ä¿¡æ¯ SELECT wait_type, waiting_tasks_count, wait_time_ms, max_wait_time_ms, signal_wait_time_ms, wait_time_ms - signal_wait_time_ms AS resource_wait_time_ms FROM sys.dm_os_wait_stats WHERE wait_time_ms \u0026gt; 0 AND wait_type NOT IN ( \u0026#39;CLR_SEMAPHORE\u0026#39;, \u0026#39;LAZYWRITER_SLEEP\u0026#39;, \u0026#39;RESOURCE_QUEUE\u0026#39;, \u0026#39;SLEEP_TASK\u0026#39;, \u0026#39;SLEEP_SYSTEMTASK\u0026#39;, \u0026#39;SQLTRACE_BUFFER_FLUSH\u0026#39;, \u0026#39;WAITFOR\u0026#39;, \u0026#39;LOGMGR_QUEUE\u0026#39;, \u0026#39;CHECKPOINT_QUEUE\u0026#39; ) ORDER BY wait_time_ms DESC; 4.2 ç´¢å¼•ä½¿ç”¨åˆ†æ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 -- æŸ¥æ‰¾æœªä½¿ç”¨çš„ç´¢å¼• SELECT OBJECT_NAME(i.object_id) AS table_name, i.name AS index_name, i.type_desc, us.user_seeks, us.user_scans, us.user_lookups, us.user_updates FROM sys.indexes i LEFT JOIN sys.dm_db_index_usage_stats us ON i.object_id = us.object_id AND i.index_id = us.index_id WHERE OBJECTPROPERTY(i.object_id, \u0026#39;IsUserTable\u0026#39;) = 1 AND i.index_id \u0026gt; 0 AND (us.user_seeks + us.user_scans + us.user_lookups) = 0 ORDER BY OBJECT_NAME(i.object_id), i.name; -- æŸ¥æ‰¾ç¼ºå¤±çš„ç´¢å¼•å»ºè®® SELECT migs.avg_total_user_cost * (migs.avg_user_impact / 100.0) * (migs.user_seeks + migs.user_scans) AS improvement_measure, \u0026#39;CREATE INDEX IX_\u0026#39; + OBJECT_NAME(mid.object_id, mid.database_id) + \u0026#39;_\u0026#39; + REPLACE(REPLACE(REPLACE(ISNULL(mid.equality_columns,\u0026#39;\u0026#39;), \u0026#39;, \u0026#39;, \u0026#39;_\u0026#39;), \u0026#39;[\u0026#39;, \u0026#39;\u0026#39;), \u0026#39;]\u0026#39;, \u0026#39;\u0026#39;) + CASE WHEN mid.inequality_columns IS NOT NULL THEN \u0026#39;_\u0026#39; + REPLACE(REPLACE(REPLACE(mid.inequality_columns, \u0026#39;, \u0026#39;, \u0026#39;_\u0026#39;), \u0026#39;[\u0026#39;, \u0026#39;\u0026#39;), \u0026#39;]\u0026#39;, \u0026#39;\u0026#39;) ELSE \u0026#39;\u0026#39; END + \u0026#39; ON \u0026#39; + mid.statement + \u0026#39; (\u0026#39; + ISNULL(mid.equality_columns,\u0026#39;\u0026#39;) + CASE WHEN mid.equality_columns IS NOT NULL AND mid.inequality_columns IS NOT NULL THEN \u0026#39;,\u0026#39; ELSE \u0026#39;\u0026#39; END + ISNULL(mid.inequality_columns, \u0026#39;\u0026#39;) + \u0026#39;)\u0026#39; + ISNULL(\u0026#39; INCLUDE (\u0026#39; + mid.included_columns + \u0026#39;)\u0026#39;, \u0026#39;\u0026#39;) AS create_index_statement FROM sys.dm_db_missing_index_groups mig INNER JOIN sys.dm_db_missing_index_group_stats migs ON migs.group_handle = mig.index_group_handle INNER JOIN sys.dm_db_missing_index_details mid ON mig.index_handle = mid.index_handle WHERE migs.avg_total_user_cost * (migs.avg_user_impact / 100.0) * (migs.user_seeks + migs.user_scans) \u0026gt; 10 ORDER BY improvement_measure DESC; äº”ã€é«˜çº§ä¼˜åŒ–æŠ€æœ¯ 5.1 æŸ¥è¯¢æç¤ºï¼ˆQuery Hintsï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 -- å¼ºåˆ¶ä½¿ç”¨ç‰¹å®šç´¢å¼• SELECT CustomerID, OrderDate, TotalAmount FROM Orders WITH (INDEX(IX_Orders_CustomerDate)) WHERE CustomerID = 12345; -- å¼ºåˆ¶å¹¶è¡Œæ‰§è¡Œ SELECT CustomerID, SUM(TotalAmount) FROM Orders GROUP BY CustomerID OPTION (MAXDOP 4); -- å¼ºåˆ¶é‡æ–°ç¼–è¯‘ SELECT * FROM Orders WHERE OrderDate \u0026gt; @StartDate OPTION (RECOMPILE); 5.2 è®¡åˆ’æŒ‡å—ï¼ˆPlan Guidesï¼‰ 1 2 3 4 5 6 7 8 -- åˆ›å»ºè®¡åˆ’æŒ‡å—æ¥ç¨³å®šæŸ¥è¯¢è®¡åˆ’ EXEC sp_create_plan_guide @name = N\u0026#39;PG_Orders_CustomerQuery\u0026#39;, @stmt = N\u0026#39;SELECT * FROM Orders WHERE CustomerID = @CustomerID\u0026#39;, @type = N\u0026#39;SQL\u0026#39;, @module_or_batch = NULL, @params = N\u0026#39;@CustomerID INT\u0026#39;, @hints = N\u0026#39;OPTION (OPTIMIZE FOR (@CustomerID = 12345))\u0026#39;; 5.3 å†…å­˜ä¼˜åŒ–è¡¨ï¼ˆIn-Memory OLTPï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 -- åˆ›å»ºå†…å­˜ä¼˜åŒ–è¡¨ CREATE TABLE dbo.OrdersMemoryOptimized ( OrderID INT IDENTITY(1,1) PRIMARY KEY NONCLUSTERED, CustomerID INT NOT NULL, OrderDate DATE NOT NULL, TotalAmount DECIMAL(10,2) NOT NULL, INDEX IX_CustomerDate NONCLUSTERED (CustomerID, OrderDate) ) WITH (MEMORY_OPTIMIZED = ON, DURABILITY = SCHEMA_AND_DATA); -- åˆ›å»ºåŸç”Ÿç¼–è¯‘å­˜å‚¨è¿‡ç¨‹ CREATE PROCEDURE dbo.GetCustomerOrders @CustomerID INT WITH NATIVE_COMPILATION, SCHEMABINDING AS BEGIN ATOMIC WITH ( TRANSACTION ISOLATION LEVEL = SNAPSHOT, LANGUAGE = N\u0026#39;us_english\u0026#39; ) SELECT OrderID, OrderDate, TotalAmount FROM dbo.OrdersMemoryOptimized WHERE CustomerID = @CustomerID ORDER BY OrderDate DESC; END; å…­ã€ç»´æŠ¤å’Œæœ€ä½³å®è·µ 6.1 è‡ªåŠ¨åŒ–ç»´æŠ¤è„šæœ¬ ç´¢å¼•é‡å»ºå’Œé‡ç»„ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 -- æ™ºèƒ½ç´¢å¼•ç»´æŠ¤è„šæœ¬ DECLARE @sql NVARCHAR(MAX) = \u0026#39;\u0026#39;; SELECT @sql = @sql + CASE WHEN avg_fragmentation_in_percent \u0026gt; 30 THEN \u0026#39;ALTER INDEX \u0026#39; + QUOTENAME(i.name) + \u0026#39; ON \u0026#39; + QUOTENAME(SCHEMA_NAME(o.schema_id)) + \u0026#39;.\u0026#39; + QUOTENAME(o.name) + \u0026#39; REBUILD WITH (ONLINE = ON, MAXDOP = 2);\u0026#39; + CHAR(13) WHEN avg_fragmentation_in_percent \u0026gt; 10 THEN \u0026#39;ALTER INDEX \u0026#39; + QUOTENAME(i.name) + \u0026#39; ON \u0026#39; + QUOTENAME(SCHEMA_NAME(o.schema_id)) + \u0026#39;.\u0026#39; + QUOTENAME(o.name) + \u0026#39; REORGANIZE;\u0026#39; + CHAR(13) ELSE \u0026#39;\u0026#39; END FROM sys.dm_db_index_physical_stats(DB_ID(), NULL, NULL, NULL, \u0026#39;LIMITED\u0026#39;) ps INNER JOIN sys.indexes i ON ps.object_id = i.object_id AND ps.index_id = i.index_id INNER JOIN sys.objects o ON i.object_id = o.object_id WHERE ps.avg_fragmentation_in_percent \u0026gt; 10 AND i.index_id \u0026gt; 0 AND o.type = \u0026#39;U\u0026#39;; EXEC sp_executesql @sql; ç»Ÿè®¡ä¿¡æ¯æ›´æ–° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 -- æ›´æ–°è¿‡æœŸçš„ç»Ÿè®¡ä¿¡æ¯ DECLARE @UpdateStats NVARCHAR(MAX) = \u0026#39;\u0026#39;; SELECT @UpdateStats = @UpdateStats + \u0026#39;UPDATE STATISTICS \u0026#39; + QUOTENAME(SCHEMA_NAME(o.schema_id)) + \u0026#39;.\u0026#39; + QUOTENAME(o.name) + \u0026#39; \u0026#39; + QUOTENAME(s.name) + \u0026#39; WITH FULLSCAN;\u0026#39; + CHAR(13) FROM sys.stats s INNER JOIN sys.objects o ON s.object_id = o.object_id CROSS APPLY sys.dm_db_stats_properties(s.object_id, s.stats_id) sp WHERE o.type = \u0026#39;U\u0026#39; AND sp.last_updated \u0026lt; DATEADD(DAY, -7, GETDATE()) AND sp.rows \u0026gt; 1000; EXEC sp_executesql @UpdateStats; 6.2 æ€§èƒ½åŸºçº¿å»ºç«‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 -- åˆ›å»ºæ€§èƒ½åŸºçº¿è¡¨ CREATE TABLE PerformanceBaseline ( RecordDate DATETIME2 DEFAULT GETDATE(), MetricName NVARCHAR(100), MetricValue DECIMAL(18,2), DatabaseName NVARCHAR(128) ); -- æ”¶é›†æ€§èƒ½æŒ‡æ ‡ INSERT INTO PerformanceBaseline (MetricName, MetricValue, DatabaseName) SELECT \u0026#39;CPU_Percent\u0026#39;, (SELECT @@CPU_BUSY * 100.0 / @@IDLE), DB_NAME() UNION ALL SELECT \u0026#39;Buffer_Cache_Hit_Ratio\u0026#39;, (SELECT cntr_value FROM sys.dm_os_performance_counters WHERE counter_name = \u0026#39;Buffer cache hit ratio\u0026#39; AND instance_name = \u0026#39;\u0026#39;), DB_NAME() UNION ALL SELECT \u0026#39;Page_Life_Expectancy\u0026#39;, (SELECT cntr_value FROM sys.dm_os_performance_counters WHERE counter_name = \u0026#39;Page life expectancy\u0026#39;), DB_NAME(); ä¸ƒã€æ•…éšœæ’æŸ¥æŒ‡å— 7.1 é˜»å¡å’Œæ­»é”è¯Šæ–­ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 -- æŸ¥çœ‹å½“å‰é˜»å¡æƒ…å†µ SELECT blocking.session_id AS blocking_session, blocked.session_id AS blocked_session, blocking_text.text AS blocking_query, blocked_text.text AS blocked_query, blocked.wait_time, blocked.wait_type FROM sys.dm_exec_requests blocked INNER JOIN sys.dm_exec_requests blocking ON blocked.blocking_session_id = blocking.session_id CROSS APPLY sys.dm_exec_sql_text(blocking.sql_handle) blocking_text CROSS APPLY sys.dm_exec_sql_text(blocked.sql_handle) blocked_text; -- å¯ç”¨æ­»é”ç›‘æ§ ALTER EVENT SESSION system_health ON SERVER STATE = START; -- æŸ¥è¯¢æ­»é”ä¿¡æ¯ SELECT XEventData.XEvent.value(\u0026#39;(data/value)[1]\u0026#39;, \u0026#39;VARCHAR(MAX)\u0026#39;) AS DeadlockGraph FROM ( SELECT CAST(target_data AS XML) AS TargetData FROM sys.dm_xe_session_targets st JOIN sys.dm_xe_sessions s ON s.address = st.event_session_address WHERE s.name = \u0026#39;system_health\u0026#39; ) AS Data CROSS APPLY TargetData.nodes (\u0026#39;//RingBufferTarget/event\u0026#39;) AS XEventData (XEvent) WHERE XEventData.XEvent.value(\u0026#39;@name\u0026#39;, \u0026#39;varchar(4000)\u0026#39;) = \u0026#39;xml_deadlock_report\u0026#39;; 7.2 I/Oæ€§èƒ½åˆ†æ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 -- åˆ†ææ•°æ®åº“æ–‡ä»¶I/Oç»Ÿè®¡ SELECT DB_NAME(vfs.database_id) AS database_name, mf.physical_name, vfs.num_of_reads, vfs.num_of_writes, vfs.io_stall_read_ms, vfs.io_stall_write_ms, vfs.io_stall_read_ms / NULLIF(vfs.num_of_reads, 0) AS avg_read_latency, vfs.io_stall_write_ms / NULLIF(vfs.num_of_writes, 0) AS avg_write_latency FROM sys.dm_io_virtual_file_stats(NULL, NULL) vfs JOIN sys.master_files mf ON vfs.database_id = mf.database_id AND vfs.file_id = mf.file_id ORDER BY vfs.io_stall_read_ms + vfs.io_stall_write_ms DESC; å…«ã€æ€»ç»“ä¸å»ºè®® 8.1 æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å• æ•°æ®åº“è®¾è®¡å±‚é¢ï¼š\nâœ… é€‰æ‹©åˆé€‚çš„æ•°æ®ç±»å‹ âœ… åˆç†è®¾è®¡ç´¢å¼•ç­–ç•¥ âœ… è€ƒè™‘åˆ†åŒºè¡¨è®¾è®¡ âœ… é€‚åº¦çš„åè§„èŒƒåŒ– æŸ¥è¯¢ä¼˜åŒ–å±‚é¢ï¼š\nâœ… é¿å…SELECT * âœ… ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ âœ… ä¼˜åŒ–JOINæ“ä½œ âœ… åˆç†ä½¿ç”¨æŸ¥è¯¢æç¤º æœåŠ¡å™¨é…ç½®å±‚é¢ï¼š\nâœ… åˆç†åˆ†é…å†…å­˜ âœ… ä¼˜åŒ–å¹¶è¡Œåº¦è®¾ç½® âœ… é…ç½®å¤šä¸ªæ•°æ®æ–‡ä»¶ âœ… åˆ†ç¦»æ•°æ®å’Œæ—¥å¿—æ–‡ä»¶ ç»´æŠ¤ç®¡ç†å±‚é¢ï¼š\nâœ… å®šæœŸç»´æŠ¤ç´¢å¼• âœ… æ›´æ–°ç»Ÿè®¡ä¿¡æ¯ âœ… ç›‘æ§æ€§èƒ½æŒ‡æ ‡ âœ… å»ºç«‹æ€§èƒ½åŸºçº¿ 8.2 æŒç»­ä¼˜åŒ–å»ºè®® å»ºç«‹ç›‘æ§ä½“ç³»ï¼šä½¿ç”¨SQL Serverè‡ªå¸¦çš„ç›‘æ§å·¥å…·å’Œç¬¬ä¸‰æ–¹å·¥å…·æŒç»­ç›‘æ§æ•°æ®åº“æ€§èƒ½\nå®šæœŸæ€§èƒ½å®¡æŸ¥ï¼šæ¯æœˆè¿›è¡Œä¸€æ¬¡å…¨é¢çš„æ€§èƒ½å®¡æŸ¥ï¼Œè¯†åˆ«æ½œåœ¨çš„æ€§èƒ½ç“¶é¢ˆ\nå®¹é‡è§„åˆ’ï¼šæ ¹æ®ä¸šåŠ¡å¢é•¿é¢„æµ‹ï¼Œæå‰è¿›è¡Œå®¹é‡è§„åˆ’å’Œç¡¬ä»¶å‡çº§\nå›¢é˜ŸåŸ¹è®­ï¼šå®šæœŸå¯¹å¼€å‘å›¢é˜Ÿè¿›è¡ŒSQLä¼˜åŒ–åŸ¹è®­ï¼Œä»æºå¤´æå‡ä»£ç è´¨é‡\næ–‡æ¡£åŒ–æœ€ä½³å®è·µï¼šå»ºç«‹å›¢é˜Ÿçš„SQLç¼–ç è§„èŒƒå’Œæ€§èƒ½ä¼˜åŒ–æŒ‡å—\né€šè¿‡ç³»ç»Ÿæ€§åœ°åº”ç”¨è¿™äº›ä¼˜åŒ–æŠ€å·§ï¼Œå¯ä»¥æ˜¾è‘—æå‡SQL Serveræ•°æ®åº“çš„æ€§èƒ½ï¼Œä¸ºä¸šåŠ¡ç³»ç»Ÿæä¾›ç¨³å®šã€é«˜æ•ˆçš„æ•°æ®æœåŠ¡æ”¯æ’‘ã€‚è®°ä½ï¼Œæ•°æ®åº“ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œéœ€è¦æ ¹æ®ä¸šåŠ¡å‘å±•å’Œæ•°æ®å¢é•¿ä¸æ–­è°ƒæ•´å’Œå®Œå–„ã€‚\n","date":"2024-09-19T00:00:00Z","permalink":"http://localhost:1313/p/sqlserver/2024-09-19/","title":"SQL Server æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–æŠ€å·§å…¨æ”»ç•¥"},{"content":"å‰è¨€ åœ¨å¼€æºä¸–ç•Œä¸­ï¼ŒFork æ˜¯å‚ä¸é¡¹ç›®è´¡çŒ®çš„é‡è¦æ–¹å¼ã€‚é€šè¿‡forkåˆ«äººçš„é¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è‡ªå·±çš„GitHubè´¦æˆ·ä¸‹åˆ›å»ºé¡¹ç›®å‰¯æœ¬ï¼Œè¿›è¡Œä¿®æ”¹å’Œæ”¹è¿›ï¼Œç„¶åé€šè¿‡Pull Requestå°†è´¡çŒ®æäº¤ç»™åŸé¡¹ç›®ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»GitHub forkçš„å®Œæ•´æµç¨‹å’Œæœ€ä½³å®è·µã€‚\nä¸€ã€ä»€ä¹ˆæ˜¯Fork 1.1 Forkçš„å®šä¹‰ Fork æ˜¯GitHubæä¾›çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå®ƒå…è®¸ç”¨æˆ·åœ¨è‡ªå·±çš„è´¦æˆ·ä¸‹åˆ›å»ºåˆ«äººé¡¹ç›®çš„å®Œæ•´å‰¯æœ¬ã€‚è¿™ä¸ªå‰¯æœ¬åŒ…å«äº†åŸé¡¹ç›®çš„æ‰€æœ‰ä»£ç ã€æäº¤å†å²ã€åˆ†æ”¯å’Œæ ‡ç­¾ã€‚\n1.2 Forkçš„ä½œç”¨ å‚ä¸å¼€æºé¡¹ç›®ï¼šä¸ºå¼€æºé¡¹ç›®è´¡çŒ®ä»£ç  å­¦ä¹ å’Œå®éªŒï¼šåœ¨ä¸å½±å“åŸé¡¹ç›®çš„æƒ…å†µä¸‹å­¦ä¹ ä»£ç  ä¸ªäººå®šåˆ¶ï¼šæ ¹æ®ä¸ªäººéœ€æ±‚ä¿®æ”¹é¡¹ç›® å¤‡ä»½é¡¹ç›®ï¼šä¿å­˜é¡¹ç›®çš„ä¸ªäººå‰¯æœ¬ 1.3 Fork vs Cloneçš„åŒºåˆ« æ“ä½œ Fork Clone ä½ç½® GitHubæœåŠ¡å™¨ æœ¬åœ°è®¡ç®—æœº æƒé™ æ‹¥æœ‰å®Œæ•´æ§åˆ¶æƒ åªèƒ½è¯»å–ï¼ˆé™¤éæœ‰å†™æƒé™ï¼‰ ç”¨é€” å‚ä¸åä½œå¼€å‘ æœ¬åœ°å¼€å‘ å¯è§æ€§ å…¬å¼€å¯è§ ä»…æœ¬åœ°å¯è§ äºŒã€Forké¡¹ç›®çš„è¯¦ç»†æ­¥éª¤ 2.1 æ‰¾åˆ°è¦Forkçš„é¡¹ç›® é€šè¿‡æœç´¢æ‰¾åˆ°é¡¹ç›®ï¼š\nåœ¨GitHubé¦–é¡µä½¿ç”¨æœç´¢æ¡† ä½¿ç”¨å…³é”®è¯æœç´¢ç›¸å…³é¡¹ç›® é€šè¿‡GitHub Trendingå‘ç°çƒ­é—¨é¡¹ç›® é€šè¿‡é“¾æ¥ç›´æ¥è®¿é—®ï¼š\nä»æ–‡æ¡£ã€åšå®¢æˆ–å…¶ä»–æ¥æºè·å–é¡¹ç›®é“¾æ¥ ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€é¡¹ç›®é¡µé¢ 2.2 æ‰§è¡ŒForkæ“ä½œ ç‚¹å‡»ForkæŒ‰é’®ï¼š\n1 2 ä½ç½®ï¼šé¡¹ç›®é¡µé¢å³ä¸Šè§’ æŒ‰é’®ï¼šForkï¼ˆæ—è¾¹æ˜¾ç¤ºforkæ•°é‡ï¼‰ é€‰æ‹©Forkç›®æ ‡ï¼š\nå¦‚æœä½ å±äºå¤šä¸ªç»„ç»‡ï¼Œéœ€è¦é€‰æ‹©forkåˆ°å“ªä¸ªè´¦æˆ· é€šå¸¸é€‰æ‹©ä¸ªäººè´¦æˆ· ç­‰å¾…Forkå®Œæˆï¼š\nGitHubä¼šæ˜¾ç¤ºforkè¿›åº¦ å®Œæˆåä¼šè‡ªåŠ¨è·³è½¬åˆ°ä½ çš„forkå‰¯æœ¬ 2.3 Forkåçš„é¡¹ç›®ç»“æ„ 1 2 åŸé¡¹ç›®ï¼šhttps://github.com/original-owner/project-name Forkåï¼šhttps://github.com/your-username/project-name ä¸‰ã€å…‹éš†Forkåçš„é¡¹ç›®åˆ°æœ¬åœ° 3.1 è·å–å…‹éš†é“¾æ¥ è¿›å…¥ä½ çš„Forké¡¹ç›®é¡µé¢ ç‚¹å‡»ç»¿è‰²çš„\u0026quot;Code\u0026quot;æŒ‰é’® é€‰æ‹©å…‹éš†æ–¹å¼ï¼š HTTPSï¼šhttps://github.com/your-username/project-name.git SSHï¼šgit@github.com:your-username/project-name.git GitHub CLIï¼šgh repo clone your-username/project-name 3.2 æ‰§è¡Œå…‹éš†æ“ä½œ ä½¿ç”¨HTTPSæ–¹å¼ 1 2 3 4 5 6 7 8 # å…‹éš†é¡¹ç›®åˆ°æœ¬åœ° git clone https://github.com/your-username/project-name.git # è¿›å…¥é¡¹ç›®ç›®å½• cd project-name # æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¿¡æ¯ git remote -v ä½¿ç”¨SSHæ–¹å¼ï¼ˆæ¨èï¼‰ 1 2 3 # å‰æï¼šå·²é…ç½®SSHå¯†é’¥ git clone git@github.com:your-username/project-name.git cd project-name ä½¿ç”¨GitHub CLI 1 2 3 # å‰æï¼šå·²å®‰è£…å¹¶é…ç½®GitHub CLI gh repo clone your-username/project-name cd project-name 3.3 éªŒè¯å…‹éš†ç»“æœ 1 2 3 4 5 6 7 8 9 10 11 # æŸ¥çœ‹é¡¹ç›®æ–‡ä»¶ ls -la # æŸ¥çœ‹GitçŠ¶æ€ git status # æŸ¥çœ‹åˆ†æ”¯ä¿¡æ¯ git branch -a # æŸ¥çœ‹è¿œç¨‹ä»“åº“ git remote -v å››ã€é…ç½®ä¸Šæ¸¸ä»“åº“ï¼ˆUpstreamï¼‰ 4.1 ä¸ºä»€ä¹ˆéœ€è¦é…ç½®ä¸Šæ¸¸ä»“åº“ ä¿æŒåŒæ­¥ï¼šè·å–åŸé¡¹ç›®çš„æœ€æ–°æ›´æ–° é¿å…å†²çªï¼šåœ¨è´¡çŒ®ä»£ç å‰åŒæ­¥æœ€æ–°ç‰ˆæœ¬ è·Ÿè¸ªå˜åŒ–ï¼šäº†è§£åŸé¡¹ç›®çš„å‘å±•åŠ¨æ€ 4.2 æ·»åŠ ä¸Šæ¸¸ä»“åº“ 1 2 3 4 5 6 7 8 9 10 # æ·»åŠ åŸé¡¹ç›®ä¸ºä¸Šæ¸¸ä»“åº“ git remote add upstream https://github.com/original-owner/project-name.git # éªŒè¯è¿œç¨‹ä»“åº“é…ç½® git remote -v # è¾“å‡ºåº”è¯¥æ˜¾ç¤ºï¼š # origin https://github.com/your-username/project-name.git (fetch) # origin https://github.com/your-username/project-name.git (push) # upstream https://github.com/original-owner/project-name.git (fetch) # upstream https://github.com/original-owner/project-name.git (push) 4.3 è·å–ä¸Šæ¸¸æ›´æ–° 1 2 3 4 5 6 7 8 # è·å–ä¸Šæ¸¸ä»“åº“çš„æœ€æ–°ä¿¡æ¯ git fetch upstream # æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ï¼ˆåŒ…æ‹¬ä¸Šæ¸¸åˆ†æ”¯ï¼‰ git branch -a # æŸ¥çœ‹ä¸Šæ¸¸åˆ†æ”¯çš„æäº¤å†å² git log upstream/main --oneline äº”ã€ä¿æŒForkä¸åŸé¡¹ç›®åŒæ­¥ 5.1 åŒæ­¥ä¸»åˆ†æ”¯ 1 2 3 4 5 6 7 8 9 10 11 # 1. åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ git checkout main # æˆ– masterï¼Œå–å†³äºé¡¹ç›®çš„é»˜è®¤åˆ†æ”¯å # 2. è·å–ä¸Šæ¸¸æ›´æ–° git fetch upstream # 3. åˆå¹¶ä¸Šæ¸¸æ›´æ–°åˆ°æœ¬åœ°ä¸»åˆ†æ”¯ git merge upstream/main # 4. æ¨é€æ›´æ–°åˆ°ä½ çš„Fork git push origin main 5.2 åŒæ­¥å…¶ä»–åˆ†æ”¯ 1 2 3 4 5 # åŒæ­¥developåˆ†æ”¯ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ git checkout develop git fetch upstream git merge upstream/develop git push origin develop 5.3 å¤„ç†åˆå¹¶å†²çª å¦‚æœåœ¨åˆå¹¶è¿‡ç¨‹ä¸­å‡ºç°å†²çªï¼š\n1 2 3 4 5 6 7 # æŸ¥çœ‹å†²çªæ–‡ä»¶ git status # æ‰‹åŠ¨è§£å†³å†²çªå git add . git commit -m \u0026#34;Resolve merge conflicts\u0026#34; git push origin main 5.4 ä½¿ç”¨Rebaseä¿æŒå†å²æ•´æ´ 1 2 3 4 5 # ä½¿ç”¨rebaseä»£æ›¿mergeï¼ˆå¯é€‰ï¼‰ git checkout main git fetch upstream git rebase upstream/main git push origin main --force-with-lease å…­ã€åœ¨Forkä¸­è¿›è¡Œå¼€å‘ 6.1 åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ 1 2 3 4 5 6 7 8 9 10 # ç¡®ä¿åœ¨æœ€æ–°çš„ä¸»åˆ†æ”¯ä¸Š git checkout main git pull upstream main # åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°çš„åŠŸèƒ½åˆ†æ”¯ git checkout -b feature/your-feature-name # æˆ–è€…åˆ†æ­¥æ“ä½œ git branch feature/your-feature-name git checkout feature/your-feature-name 6.2 è¿›è¡Œä»£ç ä¿®æ”¹ 1 2 3 4 5 6 7 8 9 10 11 12 13 # æŸ¥çœ‹ä¿®æ”¹çŠ¶æ€ git status # æ·»åŠ ä¿®æ”¹åˆ°æš‚å­˜åŒº git add . # æˆ–æ·»åŠ ç‰¹å®šæ–‡ä»¶ git add path/to/file.js # æäº¤ä¿®æ”¹ git commit -m \u0026#34;Add new feature: description of changes\u0026#34; # æ¨é€åˆ†æ”¯åˆ°ä½ çš„Fork git push origin feature/your-feature-name 6.3 æäº¤è§„èŒƒ æäº¤ä¿¡æ¯æ ¼å¼ 1 2 3 4 5 type(scope): subject body footer å¸¸ç”¨ç±»å‹ feat: æ–°åŠŸèƒ½ fix: ä¿®å¤bug docs: æ–‡æ¡£æ›´æ–° style: ä»£ç æ ¼å¼è°ƒæ•´ refactor: ä»£ç é‡æ„ test: æµ‹è¯•ç›¸å…³ chore: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ ç¤ºä¾‹ 1 2 3 4 5 6 7 git commit -m \u0026#34;feat(auth): add user login functionality Implement user authentication with JWT tokens Add login form validation Update user model with authentication fields Closes #123\u0026#34; ä¸ƒã€åˆ›å»ºPull Request 7.1 å‡†å¤‡Pull Request ç¡®ä¿ä»£ç è´¨é‡ï¼š\n1 2 3 4 5 6 7 8 # è¿è¡Œæµ‹è¯• npm test # æˆ–å…¶ä»–æµ‹è¯•å‘½ä»¤ # æ£€æŸ¥ä»£ç é£æ ¼ npm run lint # æˆ–å…¶ä»–lintingå‘½ä»¤ # æ„å»ºé¡¹ç›® npm run build # ç¡®ä¿æ„å»ºæˆåŠŸ æ›´æ–°æ–‡æ¡£ï¼š\næ›´æ–°README.mdï¼ˆå¦‚æœ‰å¿…è¦ï¼‰ æ·»åŠ æˆ–æ›´æ–°æ³¨é‡Š æ›´æ–°CHANGELOG.mdï¼ˆå¦‚æœé¡¹ç›®æœ‰ï¼‰ 7.2 åœ¨GitHubä¸Šåˆ›å»ºPull Request è®¿é—®ä½ çš„Forké¡¹ç›®é¡µé¢ ç‚¹å‡»\u0026quot;Compare \u0026amp; pull request\u0026quot;æŒ‰é’® å¡«å†™Pull Requestä¿¡æ¯ï¼š æ ‡é¢˜ï¼šç®€æ´æè¿°ä½ çš„æ›´æ”¹ æè¿°ï¼šè¯¦ç»†è¯´æ˜æ›´æ”¹å†…å®¹å’ŒåŸå›  å…³è”Issueï¼šå¦‚æœç›¸å…³ï¼Œå¼•ç”¨ç›¸å…³çš„Issue 7.3 Pull Requestæ¨¡æ¿ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 ## æè¿° ç®€è¦æè¿°è¿™ä¸ªPRçš„ç›®çš„å’Œå†…å®¹ã€‚ ## æ›´æ”¹ç±»å‹ - [ ] Bugä¿®å¤ - [ ] æ–°åŠŸèƒ½ - [ ] æ–‡æ¡£æ›´æ–° - [ ] ä»£ç é‡æ„ - [ ] æ€§èƒ½ä¼˜åŒ– - [ ] å…¶ä»–ï¼ˆè¯·è¯´æ˜ï¼‰ ## æµ‹è¯• - [ ] å·²æ·»åŠ æµ‹è¯•ç”¨ä¾‹ - [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡ - [ ] æ‰‹åŠ¨æµ‹è¯•å®Œæˆ ## æ£€æŸ¥æ¸…å• - [ ] ä»£ç éµå¾ªé¡¹ç›®è§„èŒƒ - [ ] è‡ªæˆ‘å®¡æŸ¥å®Œæˆ - [ ] æ·»åŠ äº†å¿…è¦çš„æ³¨é‡Š - [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£ - [ ] æ²¡æœ‰å¼•å…¥æ–°çš„è­¦å‘Š ## ç›¸å…³Issue Closes #123 ## æˆªå›¾ï¼ˆå¦‚é€‚ç”¨ï¼‰ [æ·»åŠ æˆªå›¾æˆ–GIFå±•ç¤ºæ›´æ”¹æ•ˆæœ] å…«ã€Forkç®¡ç†æœ€ä½³å®è·µ 8.1 åˆ†æ”¯ç®¡ç†ç­–ç•¥ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 # ä¸»åˆ†æ”¯ï¼šå§‹ç»ˆä¿æŒä¸ä¸Šæ¸¸åŒæ­¥ main/master # ä¸»åˆ†æ”¯ï¼Œç”¨äºåŒæ­¥ä¸Šæ¸¸ develop # å¼€å‘åˆ†æ”¯ï¼ˆå¦‚æœé¡¹ç›®ä½¿ç”¨ï¼‰ # åŠŸèƒ½åˆ†æ”¯ï¼šç”¨äºå¼€å‘æ–°åŠŸèƒ½ feature/login-system feature/user-dashboard feature/api-integration # ä¿®å¤åˆ†æ”¯ï¼šç”¨äºä¿®å¤bug fix/login-error fix/memory-leak hotfix/security-patch # å®éªŒåˆ†æ”¯ï¼šç”¨äºå®éªŒæ€§åŠŸèƒ½ experiment/new-ui experiment/performance-test 8.2 å®šæœŸåŒæ­¥ç­–ç•¥ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 #!/bin/bash # sync-fork.sh - è‡ªåŠ¨åŒæ­¥è„šæœ¬ echo \u0026#34;Syncing fork with upstream...\u0026#34; # è·å–ä¸Šæ¸¸æ›´æ–° git fetch upstream # åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ git checkout main # åˆå¹¶ä¸Šæ¸¸æ›´æ–° git merge upstream/main # æ¨é€åˆ°fork git push origin main echo \u0026#34;Fork synced successfully!\u0026#34; 8.3 æ¸…ç†æ— ç”¨åˆ†æ”¯ 1 2 3 4 5 6 7 8 9 10 11 # æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ git branch -a # åˆ é™¤å·²åˆå¹¶çš„æœ¬åœ°åˆ†æ”¯ git branch --merged | grep -v \u0026#34;\\*\\|main\\|master\u0026#34; | xargs -n 1 git branch -d # åˆ é™¤è¿œç¨‹åˆ†æ”¯ git push origin --delete feature/old-feature # æ¸…ç†è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯ git remote prune origin 8.4 Forkçš„å®‰å…¨è€ƒè™‘ å®¡æŸ¥ä»£ç ï¼š\nä»”ç»†å®¡æŸ¥è¦forkçš„é¡¹ç›®ä»£ç  æ£€æŸ¥æ˜¯å¦æœ‰æ¶æ„ä»£ç  äº†è§£é¡¹ç›®çš„è®¸å¯è¯ ä¿æŠ¤æ•æ„Ÿä¿¡æ¯ï¼š\n1 2 3 4 # åˆ›å»º.gitignoreæ–‡ä»¶ echo \u0026#34;*.env\u0026#34; \u0026gt;\u0026gt; .gitignore echo \u0026#34;config/secrets.json\u0026#34; \u0026gt;\u0026gt; .gitignore echo \u0026#34;node_modules/\u0026#34; \u0026gt;\u0026gt; .gitignore ä½¿ç”¨SSHå¯†é’¥ï¼š\n1 2 3 4 5 6 7 8 9 # ç”ŸæˆSSHå¯†é’¥ ssh-keygen -t ed25519 -C \u0026#34;your_email@example.com\u0026#34; # æ·»åŠ åˆ°ssh-agent eval \u0026#34;$(ssh-agent -s)\u0026#34; ssh-add ~/.ssh/id_ed25519 # å°†å…¬é’¥æ·»åŠ åˆ°GitHub cat ~/.ssh/id_ed25519.pub ä¹ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ 9.1 Forkåæ— æ³•æ¨é€ é—®é¢˜ï¼šPermission denied (publickey)\nè§£å†³æ–¹æ¡ˆï¼š\n1 2 3 4 5 6 # æ£€æŸ¥SSHé…ç½® ssh -T git@github.com # å¦‚æœå¤±è´¥ï¼Œé‡æ–°é…ç½®SSHå¯†é’¥ # æˆ–ä½¿ç”¨HTTPSæ–¹å¼ git remote set-url origin https://github.com/your-username/project-name.git 9.2 Forkä¸ä¸Šæ¸¸å·®è·è¿‡å¤§ é—®é¢˜ï¼šForkè½åä¸Šæ¸¸å¤ªå¤šæäº¤\nè§£å†³æ–¹æ¡ˆï¼š\n1 2 3 4 5 6 7 8 9 10 11 # æ–¹æ³•1ï¼šé‡ç½®åˆ°ä¸Šæ¸¸çŠ¶æ€ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰ git fetch upstream git checkout main git reset --hard upstream/main git push origin main --force # æ–¹æ³•2ï¼šåˆ›å»ºæ–°åˆ†æ”¯ä¿ç•™åŸæœ‰å·¥ä½œ git checkout -b backup-old-work git checkout main git reset --hard upstream/main git push origin main --force 9.3 åˆå¹¶å†²çªå¤„ç† é—®é¢˜ï¼šåˆå¹¶æ—¶å‡ºç°å†²çª\nè§£å†³æ–¹æ¡ˆï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # æŸ¥çœ‹å†²çªæ–‡ä»¶ git status # ç¼–è¾‘å†²çªæ–‡ä»¶ï¼Œè§£å†³å†²çªæ ‡è®° # \u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt; HEAD # ä½ çš„æ›´æ”¹ # ======= # ä¸Šæ¸¸æ›´æ”¹ # \u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt; upstream/main # æ ‡è®°å†²çªå·²è§£å†³ git add conflicted-file.js # å®Œæˆåˆå¹¶ git commit -m \u0026#34;Resolve merge conflicts\u0026#34; 9.4 è¯¯åˆ é™¤Fork é—®é¢˜ï¼šæ„å¤–åˆ é™¤äº†GitHubä¸Šçš„Fork\nè§£å†³æ–¹æ¡ˆï¼š\n1 2 3 4 5 6 7 8 # å¦‚æœæœ¬åœ°è¿˜æœ‰å‰¯æœ¬ï¼Œé‡æ–°åˆ›å»ºè¿œç¨‹ä»“åº“ # 1. åœ¨GitHubä¸Šåˆ›å»ºæ–°çš„ç©ºä»“åº“ # 2. æ·»åŠ æ–°çš„è¿œç¨‹åœ°å€ git remote set-url origin https://github.com/your-username/new-repo-name.git # 3. æ¨é€æ‰€æœ‰åˆ†æ”¯ git push origin --all git push origin --tags åã€é«˜çº§æŠ€å·§ 10.1 ä½¿ç”¨GitHub CLIç®¡ç†Fork 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # å®‰è£…GitHub CLI # Windows: winget install GitHub.cli # macOS: brew install gh # Linux: å‚è€ƒå®˜æ–¹æ–‡æ¡£ # ç™»å½•GitHub gh auth login # Forké¡¹ç›® gh repo fork original-owner/project-name # å…‹éš†Fork gh repo clone your-username/project-name # åˆ›å»ºPull Request gh pr create --title \u0026#34;Add new feature\u0026#34; --body \u0026#34;Description of changes\u0026#34; # æŸ¥çœ‹Pull RequestçŠ¶æ€ gh pr status 10.2 è‡ªåŠ¨åŒ–å·¥ä½œæµ GitHub Actionsç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 # .github/workflows/sync-fork.yml name: Sync Fork on: schedule: - cron: \u0026#39;0 0 * * 0\u0026#39; # æ¯å‘¨æ—¥è¿è¡Œ workflow_dispatch: # æ‰‹åŠ¨è§¦å‘ jobs: sync: runs-on: ubuntu-latest steps: - uses: actions/checkout@v3 with: token: ${{ secrets.GITHUB_TOKEN }} fetch-depth: 0 - name: Sync upstream run: | git remote add upstream https://github.com/original-owner/project-name.git git fetch upstream git checkout main git merge upstream/main git push origin main 10.3 æ‰¹é‡ç®¡ç†å¤šä¸ªFork 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 #!/bin/bash # manage-forks.sh - æ‰¹é‡ç®¡ç†è„šæœ¬ FORKS=( \u0026#34;fork1-name\u0026#34; \u0026#34;fork2-name\u0026#34; \u0026#34;fork3-name\u0026#34; ) for fork in \u0026#34;${FORKS[@]}\u0026#34;; do echo \u0026#34;Processing $fork...\u0026#34; cd \u0026#34;$fork\u0026#34; || continue # åŒæ­¥ä¸Šæ¸¸ git fetch upstream git checkout main git merge upstream/main git push origin main cd .. echo \u0026#34;$fork synced successfully\u0026#34; done åä¸€ã€Forkçš„å•†ä¸šå’Œæ³•å¾‹è€ƒè™‘ 11.1 å¼€æºè®¸å¯è¯ MIT Licenseï¼šå…è®¸å•†ä¸šä½¿ç”¨ï¼Œéœ€ä¿ç•™ç‰ˆæƒå£°æ˜ GPL Licenseï¼šè¦æ±‚è¡ç”Ÿä½œå“ä¹Ÿä½¿ç”¨GPLè®¸å¯è¯ Apache Licenseï¼šå…è®¸å•†ä¸šä½¿ç”¨ï¼Œéœ€ä¿ç•™ç‰ˆæƒå’Œè®¸å¯è¯å£°æ˜ BSD Licenseï¼šç±»ä¼¼MITï¼Œä½†æœ‰ä¸åŒå˜ä½“ 11.2 è´¡çŒ®è€…åè®® 1 2 3 4 5 6 # è´¡çŒ®è€…è®¸å¯åè®® (CLA) é€šè¿‡æäº¤ä»£ç åˆ°æœ¬é¡¹ç›®ï¼Œæ‚¨åŒæ„ï¼š 1. æ‚¨æ‹¥æœ‰æäº¤ä»£ç çš„åˆæ³•æƒåˆ© 2. æ‚¨çš„è´¡çŒ®å°†åœ¨é¡¹ç›®è®¸å¯è¯ä¸‹å‘å¸ƒ 3. æ‚¨æ”¾å¼ƒå¯¹è´¡çŒ®çš„ä¸“æœ‰æƒåˆ©ä¸»å¼  11.3 å•†ä¸šä½¿ç”¨æ³¨æ„äº‹é¡¹ ä»”ç»†é˜…è¯»åŸé¡¹ç›®çš„è®¸å¯è¯ éµå®ˆè®¸å¯è¯è¦æ±‚ è€ƒè™‘è´¡çŒ®å›åŸé¡¹ç›® ä¿ç•™å¿…è¦çš„ç‰ˆæƒå£°æ˜ æ€»ç»“ Forkæ˜¯GitHubç”Ÿæ€ç³»ç»Ÿä¸­çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå®ƒä½¿å¾—å¼€æºåä½œæˆä¸ºå¯èƒ½ã€‚é€šè¿‡æœ¬æ–‡çš„è¯¦ç»†ä»‹ç»ï¼Œä½ åº”è¯¥å·²ç»æŒæ¡äº†ï¼š\næ ¸å¿ƒæŠ€èƒ½ Forkæ“ä½œï¼šå¦‚ä½•æ­£ç¡®forké¡¹ç›®å¹¶å…‹éš†åˆ°æœ¬åœ° åŒæ­¥ç®¡ç†ï¼šå¦‚ä½•ä¿æŒforkä¸ä¸Šæ¸¸é¡¹ç›®åŒæ­¥ åˆ†æ”¯ç­–ç•¥ï¼šå¦‚ä½•åˆç†ç®¡ç†åˆ†æ”¯å’Œè¿›è¡Œå¼€å‘ è´¡çŒ®æµç¨‹ï¼šå¦‚ä½•åˆ›å»ºé«˜è´¨é‡çš„Pull Request é—®é¢˜è§£å†³ï¼šå¦‚ä½•å¤„ç†å¸¸è§çš„forkç›¸å…³é—®é¢˜ æœ€ä½³å®è·µ å®šæœŸåŒæ­¥ä¸Šæ¸¸æ›´æ–° ä½¿ç”¨æ¸…æ™°çš„åˆ†æ”¯å‘½å ç¼–å†™è§„èŒƒçš„æäº¤ä¿¡æ¯ åˆ›å»ºè¯¦ç»†çš„Pull Request éµå®ˆé¡¹ç›®çš„è´¡çŒ®æŒ‡å— è¿›é˜¶æŠ€å·§ ä½¿ç”¨GitHub CLIæé«˜æ•ˆç‡ è®¾ç½®è‡ªåŠ¨åŒ–å·¥ä½œæµ æ‰¹é‡ç®¡ç†å¤šä¸ªfork ç†è§£å¼€æºè®¸å¯è¯ Forkä¸ä»…æ˜¯ä¸€ä¸ªæŠ€æœ¯æ“ä½œï¼Œæ›´æ˜¯å‚ä¸å¼€æºç¤¾åŒºã€å­¦ä¹ ä¼˜ç§€ä»£ç ã€è´¡çŒ®ä¸ªäººåŠ›é‡çš„é‡è¦é€”å¾„ã€‚å¸Œæœ›é€šè¿‡æœ¬æ–‡çš„å­¦ä¹ ï¼Œä½ èƒ½å¤Ÿæ›´å¥½åœ°å‚ä¸åˆ°å¼€æºé¡¹ç›®ä¸­ï¼Œä¸ºå¼€æºç¤¾åŒºåšå‡ºè‡ªå·±çš„è´¡çŒ®ã€‚\nğŸ’¡ æç¤ºï¼šå¼€å§‹ä½ çš„ç¬¬ä¸€ä¸ªForkå§ï¼é€‰æ‹©ä¸€ä¸ªä½ æ„Ÿå…´è¶£çš„é¡¹ç›®ï¼ŒæŒ‰ç…§æœ¬æ–‡çš„æ­¥éª¤è¿›è¡Œæ“ä½œï¼Œåœ¨å®è·µä¸­æŒæ¡è¿™äº›æŠ€èƒ½ã€‚\n","date":"2024-09-17T00:00:00Z","permalink":"http://localhost:1313/p/tools/2024-09-17/","title":"å¦‚ä½•åœ¨ GitHub ä¸Š fork åˆ«äººçš„é¡¹ç›®"},{"content":"å‰è¨€ åœ¨ç°ä»£è½¯ä»¶å¼€å‘ä¸­ï¼Œé€‰æ‹©åˆé€‚çš„å¼€å‘æ¨¡å¼å¯¹é¡¹ç›®çš„æˆåŠŸè‡³å…³é‡è¦ã€‚é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDomain-Driven Designï¼ŒDDDï¼‰ä½œä¸ºä¸€ç§ä»¥ä¸šåŠ¡é¢†åŸŸä¸ºæ ¸å¿ƒçš„è®¾è®¡æ–¹æ³•è®ºï¼Œä¸ä¼ ç»Ÿçš„æ•°æ®é©±åŠ¨å¼€å‘æ¨¡å¼å½¢æˆäº†é²œæ˜å¯¹æ¯”ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨DDDä¸å…¶ä»–ä¸»æµå¼€å‘æ¨¡å¼çš„å·®å¼‚ï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ç†è§£å’Œé€‰æ‹©é€‚åˆçš„æ¶æ„æ–¹æ¡ˆã€‚\nä¸€ã€ä¼ ç»Ÿæ•°æ®é©±åŠ¨å¼€å‘æ¨¡å¼ 1.1 æ ¸å¿ƒç‰¹å¾ ä¼ ç»Ÿçš„è½¯ä»¶å¼€å‘æ¨¡å¼é€šå¸¸ä»¥æ•°æ®ä¸ºä¸­å¿ƒï¼Œé‡ç‚¹å…³æ³¨æ•°æ®åº“è¡¨çš„è®¾è®¡å’Œæ•°æ®çš„å­˜å‚¨ä¸æ£€ç´¢ã€‚è¿™ç§æ¨¡å¼åœ¨æ—©æœŸçš„ä¼ä¸šåº”ç”¨å¼€å‘ä¸­å æ®ä¸»å¯¼åœ°ä½ã€‚\n1.2 å¼€å‘æµç¨‹ 1 2 3 4 5 graph TD A[éœ€æ±‚åˆ†æ] --\u0026gt; B[æ•°æ®åº“è®¾è®¡] B --\u0026gt; C[æ•°æ®è®¿é—®å±‚] C --\u0026gt; D[ä¸šåŠ¡é€»è¾‘å±‚] D --\u0026gt; E[è¡¨ç¤ºå±‚] è¯¦ç»†æ­¥éª¤ï¼š\néœ€æ±‚åˆ†æï¼šç¡®å®šéœ€è¦å­˜å‚¨çš„æ•°æ®ç±»å‹å’Œç»“æ„ æ•°æ®åº“è®¾è®¡ï¼šè®¾è®¡è¡¨ç»“æ„ã€å­—æ®µã€ç´¢å¼•å’Œå…³ç³» æ•°æ®è®¿é—®å±‚ï¼šå®ç°CRUDæ“ä½œå’Œæ•°æ®æ˜ å°„ ä¸šåŠ¡é€»è¾‘å±‚ï¼šç¼–å†™ä¸šåŠ¡å¤„ç†ä»£ç  è¡¨ç¤ºå±‚ï¼šå®ç°ç”¨æˆ·ç•Œé¢å’Œäº¤äº’ 1.3 ä»£ç ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 // ä¼ ç»Ÿæ•°æ®é©±åŠ¨æ¨¡å¼ç¤ºä¾‹ public class UserService { private readonly IUserRepository _userRepository; public UserService(IUserRepository userRepository) { _userRepository = userRepository; } public void CreateUser(string name, string email) { // ä¸šåŠ¡é€»è¾‘ç›´æ¥æ“ä½œæ•°æ®æ¨¡å‹ var user = new User { Name = name, Email = email, CreatedDate = DateTime.Now }; _userRepository.Save(user); } } 1.4 ä¼˜ç¼ºç‚¹åˆ†æ ä¼˜ç‚¹ï¼š\nå¼€å‘é€Ÿåº¦å¿«ï¼Œå­¦ä¹ æˆæœ¬ä½ æ•°æ®ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç†è§£ é€‚åˆç®€å•çš„CRUDåº”ç”¨ ç¼ºç‚¹ï¼š\nä¸šåŠ¡é€»è¾‘åˆ†æ•£ï¼Œéš¾ä»¥ç»´æŠ¤ æ•°æ®åº“ç»“æ„å˜åŒ–å½±å“æ•´ä¸ªç³»ç»Ÿ ç¼ºä¹ä¸šåŠ¡è¯­ä¹‰è¡¨è¾¾ éš¾ä»¥åº”å¯¹å¤æ‚ä¸šåŠ¡è§„åˆ™ äºŒã€é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰æ¨¡å¼ 2.1 æ ¸å¿ƒç†å¿µ DDDå¼ºè°ƒä»¥ä¸šåŠ¡é¢†åŸŸä¸ºæ ¸å¿ƒï¼Œå°†å¤æ‚çš„ä¸šåŠ¡é€»è¾‘å°è£…åœ¨é¢†åŸŸæ¨¡å‹ä¸­ï¼Œé€šè¿‡ç»Ÿä¸€è¯­è¨€ï¼ˆUbiquitous Languageï¼‰è¿æ¥æŠ€æœ¯å›¢é˜Ÿå’Œä¸šåŠ¡ä¸“å®¶ã€‚\n2.2 DDDåˆ†å±‚æ¶æ„ 1 2 3 4 5 6 7 8 9 10 11 12 graph TB A[ç”¨æˆ·ç•Œé¢å±‚ UI Layer] --\u0026gt; B[åº”ç”¨å±‚ Application Layer] B --\u0026gt; C[é¢†åŸŸå±‚ Domain Layer] C --\u0026gt; D[åŸºç¡€è®¾æ–½å±‚ Infrastructure Layer] subgraph \u0026#34;é¢†åŸŸå±‚æ ¸å¿ƒç»„ä»¶\u0026#34; E[å®ä½“ Entity] F[å€¼å¯¹è±¡ Value Object] G[èšåˆæ ¹ Aggregate Root] H[é¢†åŸŸæœåŠ¡ Domain Service] I[ä»“å‚¨æ¥å£ Repository Interface] end 2.3 DDDæ ¸å¿ƒæ¦‚å¿µ 2.3.1 å®ä½“ï¼ˆEntityï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 public class User : Entity\u0026lt;UserId\u0026gt; { public UserId Id { get; private set; } public UserName Name { get; private set; } public Email Email { get; private set; } public DateTime CreatedDate { get; private set; } public User(UserId id, UserName name, Email email) { Id = id ?? throw new ArgumentNullException(nameof(id)); Name = name ?? throw new ArgumentNullException(nameof(name)); Email = email ?? throw new ArgumentNullException(nameof(email)); CreatedDate = DateTime.UtcNow; } public void ChangeName(UserName newName) { if (newName == null) throw new ArgumentNullException(nameof(newName)); Name = newName; // é¢†åŸŸäº‹ä»¶ AddDomainEvent(new UserNameChangedEvent(Id, Name)); } } 2.3.2 å€¼å¯¹è±¡ï¼ˆValue Objectï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 public class Email : ValueObject { public string Value { get; private set; } public Email(string email) { if (string.IsNullOrWhiteSpace(email)) throw new ArgumentException(\u0026#34;Email cannot be empty\u0026#34;); if (!IsValidEmail(email)) throw new ArgumentException(\u0026#34;Invalid email format\u0026#34;); Value = email.ToLowerInvariant(); } private bool IsValidEmail(string email) { // é‚®ç®±æ ¼å¼éªŒè¯é€»è¾‘ return Regex.IsMatch(email, @\u0026#34;^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$\u0026#34;); } protected override IEnumerable\u0026lt;object\u0026gt; GetEqualityComponents() { yield return Value; } } 2.3.3 èšåˆæ ¹ï¼ˆAggregate Rootï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 public class Order : AggregateRoot\u0026lt;OrderId\u0026gt; { private readonly List\u0026lt;OrderItem\u0026gt; _items = new List\u0026lt;OrderItem\u0026gt;(); public OrderId Id { get; private set; } public UserId CustomerId { get; private set; } public OrderStatus Status { get; private set; } public Money TotalAmount { get; private set; } public IReadOnlyList\u0026lt;OrderItem\u0026gt; Items =\u0026gt; _items.AsReadOnly(); public Order(OrderId id, UserId customerId) { Id = id; CustomerId = customerId; Status = OrderStatus.Draft; TotalAmount = Money.Zero; } public void AddItem(ProductId productId, int quantity, Money unitPrice) { if (Status != OrderStatus.Draft) throw new InvalidOperationException(\u0026#34;Cannot modify confirmed order\u0026#34;); var existingItem = _items.FirstOrDefault(x =\u0026gt; x.ProductId == productId); if (existingItem != null) { existingItem.ChangeQuantity(existingItem.Quantity + quantity); } else { _items.Add(new OrderItem(productId, quantity, unitPrice)); } RecalculateTotal(); } public void Confirm() { if (Status != OrderStatus.Draft) throw new InvalidOperationException(\u0026#34;Order is already confirmed\u0026#34;); if (!_items.Any()) throw new InvalidOperationException(\u0026#34;Cannot confirm empty order\u0026#34;); Status = OrderStatus.Confirmed; AddDomainEvent(new OrderConfirmedEvent(Id, CustomerId, TotalAmount)); } private void RecalculateTotal() { TotalAmount = _items.Sum(item =\u0026gt; item.TotalPrice); } } 2.3.4 é¢†åŸŸæœåŠ¡ï¼ˆDomain Serviceï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 public class OrderPricingService : IDomainService { private readonly IDiscountPolicy _discountPolicy; private readonly ITaxCalculator _taxCalculator; public OrderPricingService( IDiscountPolicy discountPolicy, ITaxCalculator taxCalculator) { _discountPolicy = discountPolicy; _taxCalculator = taxCalculator; } public Money CalculateFinalPrice(Order order, Customer customer) { var baseAmount = order.TotalAmount; var discount = _discountPolicy.CalculateDiscount(customer, order); var discountedAmount = baseAmount.Subtract(discount); var tax = _taxCalculator.CalculateTax(discountedAmount, customer.Address); return discountedAmount.Add(tax); } } 2.4 åº”ç”¨å±‚åè°ƒ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 public class OrderApplicationService { private readonly IOrderRepository _orderRepository; private readonly ICustomerRepository _customerRepository; private readonly OrderPricingService _pricingService; private readonly IUnitOfWork _unitOfWork; public async Task\u0026lt;OrderId\u0026gt; CreateOrderAsync(CreateOrderCommand command) { var customer = await _customerRepository.GetByIdAsync(command.CustomerId); if (customer == null) throw new CustomerNotFoundException(command.CustomerId); var order = new Order(OrderId.NewId(), command.CustomerId); foreach (var item in command.Items) { order.AddItem(item.ProductId, item.Quantity, item.UnitPrice); } var finalPrice = _pricingService.CalculateFinalPrice(order, customer); await _orderRepository.SaveAsync(order); await _unitOfWork.CommitAsync(); return order.Id; } } ä¸‰ã€å…¶ä»–ä¸»æµå¼€å‘æ¨¡å¼å¯¹æ¯” 3.1 MVCæ¨¡å¼ ç‰¹ç‚¹ï¼š\nå…³æ³¨ç‚¹åˆ†ç¦»ï¼šModel-View-Controller ä¸»è¦è§£å†³UIå±‚çš„ç»„ç»‡é—®é¢˜ é€‚åˆWebåº”ç”¨å¼€å‘ ä¸DDDçš„åŒºåˆ«ï¼š\nMVCä¸»è¦å…³æ³¨è¡¨ç¤ºå±‚æ¶æ„ DDDå…³æ³¨æ•´ä¸ªåº”ç”¨çš„é¢†åŸŸå»ºæ¨¡ å¯ä»¥åœ¨MVCçš„Modelå±‚åº”ç”¨DDDåŸåˆ™ 3.2 åˆ†å±‚æ¶æ„æ¨¡å¼ 1 2 3 4 graph TB A[è¡¨ç¤ºå±‚] --\u0026gt; B[ä¸šåŠ¡å±‚] B --\u0026gt; C[æ•°æ®è®¿é—®å±‚] C --\u0026gt; D[æ•°æ®åº“] ä¸DDDåˆ†å±‚çš„åŒºåˆ«ï¼š\nä¼ ç»Ÿåˆ†å±‚ DDDåˆ†å±‚ è¡¨ç¤ºå±‚ ç”¨æˆ·ç•Œé¢å±‚ ä¸šåŠ¡å±‚ åº”ç”¨å±‚ + é¢†åŸŸå±‚ æ•°æ®è®¿é—®å±‚ åŸºç¡€è®¾æ–½å±‚ 3.3 å¾®æœåŠ¡æ¶æ„ DDDä¸å¾®æœåŠ¡çš„å…³ç³»ï¼š\né™ç•Œä¸Šä¸‹æ–‡ä¸ºå¾®æœåŠ¡åˆ’åˆ†æä¾›æŒ‡å¯¼ èšåˆå¯ä»¥ä½œä¸ºæœåŠ¡è¾¹ç•Œçš„å‚è€ƒ é¢†åŸŸäº‹ä»¶æ”¯æŒæœåŠ¡é—´çš„å¼‚æ­¥é€šä¿¡ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 // å¾®æœåŠ¡ä¸­çš„é¢†åŸŸäº‹ä»¶å‘å¸ƒ public class OrderService { private readonly IEventBus _eventBus; public async Task ConfirmOrderAsync(OrderId orderId) { var order = await _orderRepository.GetByIdAsync(orderId); order.Confirm(); // å‘å¸ƒé¢†åŸŸäº‹ä»¶åˆ°å…¶ä»–å¾®æœåŠ¡ await _eventBus.PublishAsync(new OrderConfirmedEvent { OrderId = order.Id, CustomerId = order.CustomerId, TotalAmount = order.TotalAmount }); } } å››ã€æ ¸å¿ƒå·®å¼‚å¯¹æ¯”åˆ†æ 4.1 è®¾è®¡ç†å¿µå¯¹æ¯” ç»´åº¦ ä¼ ç»Ÿæ¨¡å¼ DDDæ¨¡å¼ æ ¸å¿ƒå…³æ³¨ç‚¹ æ•°æ®å­˜å‚¨å’Œæ£€ç´¢ ä¸šåŠ¡é¢†åŸŸå’Œè§„åˆ™ è®¾è®¡èµ·ç‚¹ æ•°æ®åº“è¡¨ç»“æ„ é¢†åŸŸæ¨¡å‹ ä¸šåŠ¡è¡¨è¾¾ é€šè¿‡æ•°æ®ç»“æ„ é€šè¿‡é¢†åŸŸå¯¹è±¡å’Œè¡Œä¸º å¤æ‚åº¦å¤„ç† åˆ†å±‚åˆ†ç¦» é¢†åŸŸå»ºæ¨¡ 4.2 æ¶æ„é£æ ¼å¯¹æ¯” 1 2 3 4 5 6 7 8 9 10 11 12 graph LR subgraph \u0026#34;ä¼ ç»Ÿæ¶æ„\u0026#34; A1[UI] --\u0026gt; B1[Business Logic] B1 --\u0026gt; C1[Data Access] C1 --\u0026gt; D1[Database] end subgraph \u0026#34;DDDæ¶æ„\u0026#34; A2[UI Layer] --\u0026gt; B2[Application Layer] B2 --\u0026gt; C2[Domain Layer] C2 --\u0026gt; D2[Infrastructure Layer] end 4.3 ä»£ç ç»„ç»‡å¯¹æ¯” ä¼ ç»Ÿæ¨¡å¼ï¼š\n1 2 3 4 5 â”œâ”€â”€ Controllers/ â”œâ”€â”€ Services/ â”œâ”€â”€ Repositories/ â”œâ”€â”€ Models/ â””â”€â”€ Data/ DDDæ¨¡å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 â”œâ”€â”€ Domain/ â”‚ â”œâ”€â”€ Entities/ â”‚ â”œâ”€â”€ ValueObjects/ â”‚ â”œâ”€â”€ Services/ â”‚ â””â”€â”€ Repositories/ â”œâ”€â”€ Application/ â”‚ â”œâ”€â”€ Commands/ â”‚ â”œâ”€â”€ Queries/ â”‚ â””â”€â”€ Services/ â”œâ”€â”€ Infrastructure/ â””â”€â”€ Presentation/ äº”ã€é€‚ç”¨åœºæ™¯åˆ†æ 5.1 DDDé€‚ç”¨åœºæ™¯ âœ… æ¨èä½¿ç”¨DDDçš„æƒ…å†µï¼š\nå¤æ‚çš„ä¸šåŠ¡é¢†åŸŸ ä¸šåŠ¡è§„åˆ™é¢‘ç¹å˜åŒ– éœ€è¦é•¿æœŸç»´æŠ¤çš„ç³»ç»Ÿ å›¢é˜Ÿè§„æ¨¡è¾ƒå¤§ æœ‰é¢†åŸŸä¸“å®¶å‚ä¸ 5.2 ä¼ ç»Ÿæ¨¡å¼é€‚ç”¨åœºæ™¯ âœ… æ¨èä½¿ç”¨ä¼ ç»Ÿæ¨¡å¼çš„æƒ…å†µï¼š\nç®€å•çš„CRUDåº”ç”¨ ä¸šåŠ¡é€»è¾‘ç›¸å¯¹ç®€å• å¿«é€ŸåŸå‹å¼€å‘ å°å›¢é˜Ÿé¡¹ç›® æ•°æ®å¤„ç†ä¸ºä¸»çš„åº”ç”¨ 5.3 é€‰æ‹©å†³ç­–æ ‘ 1 2 3 4 5 6 7 8 graph TD A[é¡¹ç›®è¯„ä¼°] --\u0026gt; B{ä¸šåŠ¡å¤æ‚åº¦} B --\u0026gt;|é«˜| C{å›¢é˜Ÿè§„æ¨¡} B --\u0026gt;|ä½| D[ä¼ ç»Ÿæ¨¡å¼] C --\u0026gt;|å¤§| E{ç»´æŠ¤å‘¨æœŸ} C --\u0026gt;|å°| F[åˆ†å±‚æ¶æ„] E --\u0026gt;|é•¿| G[DDD] E --\u0026gt;|çŸ­| H[MVC + æœåŠ¡å±‚] å…­ã€å®æ–½å»ºè®®å’Œæœ€ä½³å®è·µ 6.1 DDDå®æ–½æ­¥éª¤ é¢†åŸŸåˆ†æ\nä¸é¢†åŸŸä¸“å®¶æ·±åº¦åˆä½œ å»ºç«‹ç»Ÿä¸€è¯­è¨€ è¯†åˆ«æ ¸å¿ƒå­åŸŸ æˆ˜ç•¥è®¾è®¡\nåˆ’åˆ†é™ç•Œä¸Šä¸‹æ–‡ è®¾è®¡ä¸Šä¸‹æ–‡æ˜ å°„ ç¡®å®šæ ¸å¿ƒåŸŸå’Œæ”¯æ’‘åŸŸ æˆ˜æœ¯è®¾è®¡\nè®¾è®¡èšåˆå’Œå®ä½“ å®šä¹‰å€¼å¯¹è±¡ å®ç°é¢†åŸŸæœåŠ¡ 6.2 å¸¸è§é™·é˜±å’Œè§£å†³æ–¹æ¡ˆ é™·é˜±1ï¼šè´«è¡€æ¨¡å‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 // âŒ è´«è¡€æ¨¡å‹ public class Order { public int Id { get; set; } public decimal Total { get; set; } public List\u0026lt;OrderItem\u0026gt; Items { get; set; } } // âœ… å……è¡€æ¨¡å‹ public class Order : AggregateRoot { private readonly List\u0026lt;OrderItem\u0026gt; _items = new(); public void AddItem(Product product, int quantity) { // ä¸šåŠ¡é€»è¾‘å°è£…åœ¨é¢†åŸŸå¯¹è±¡ä¸­ ValidateCanAddItem(product, quantity); _items.Add(new OrderItem(product, quantity)); RecalculateTotal(); } } é™·é˜±2ï¼šè¿‡åº¦è®¾è®¡\nä¸è¦ä¸ºç®€å•åœºæ™¯å¼•å…¥å¤æ‚çš„DDDæ¦‚å¿µ æ ¹æ®å®é™…å¤æ‚åº¦é€‰æ‹©åˆé€‚çš„æŠ½è±¡çº§åˆ« 6.3 æ€§èƒ½è€ƒè™‘ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // ä½¿ç”¨è§„çº¦æ¨¡å¼ä¼˜åŒ–æŸ¥è¯¢ public class CustomerSpecification : Specification\u0026lt;Customer\u0026gt; { private readonly string _city; public CustomerSpecification(string city) { _city = city; } public override Expression\u0026lt;Func\u0026lt;Customer, bool\u0026gt;\u0026gt; ToExpression() { return customer =\u0026gt; customer.Address.City == _city; } } ä¸ƒã€æ€»ç»“ DDDä½œä¸ºä¸€ç§ä»¥ä¸šåŠ¡ä¸ºæ ¸å¿ƒçš„è®¾è®¡æ–¹æ³•è®ºï¼Œåœ¨å¤„ç†å¤æ‚ä¸šåŠ¡é¢†åŸŸæ—¶å…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ã€‚å®ƒé€šè¿‡é¢†åŸŸå»ºæ¨¡ã€ç»Ÿä¸€è¯­è¨€å’Œåˆ†å±‚æ¶æ„ï¼Œæœ‰æ•ˆåœ°å°†ä¸šåŠ¡å¤æ‚æ€§ä¸æŠ€æœ¯å¤æ‚æ€§åˆ†ç¦»ï¼Œæé«˜äº†ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚\nå…³é”®è¦ç‚¹ï¼š\né€‰æ‹©åˆé€‚çš„æ¨¡å¼ï¼šæ ¹æ®é¡¹ç›®å¤æ‚åº¦ã€å›¢é˜Ÿèƒ½åŠ›å’Œä¸šåŠ¡éœ€æ±‚é€‰æ‹© æ¸è¿›å¼é‡‡ç”¨ï¼šå¯ä»¥ä»ä¼ ç»Ÿæ¨¡å¼é€æ­¥æ¼”è¿›åˆ°DDD å›¢é˜Ÿåä½œï¼šDDDçš„æˆåŠŸå¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºå›¢é˜Ÿåä½œå’Œé¢†åŸŸçŸ¥è¯† æŒç»­é‡æ„ï¼šéšç€å¯¹é¢†åŸŸç†è§£çš„æ·±å…¥ï¼ŒæŒç»­ä¼˜åŒ–é¢†åŸŸæ¨¡å‹ æ— è®ºé€‰æ‹©å“ªç§å¼€å‘æ¨¡å¼ï¼Œå…³é”®æ˜¯è¦ç†è§£å…¶é€‚ç”¨åœºæ™¯å’Œæƒè¡¡å–èˆï¼Œåœ¨å®é™…é¡¹ç›®ä¸­çµæ´»è¿ç”¨ï¼Œä»¥è¾¾åˆ°æœ€ä½³çš„å¼€å‘æ•ˆæœå’Œä¸šåŠ¡ä»·å€¼ã€‚\n","date":"2024-09-17T00:00:00Z","permalink":"http://localhost:1313/p/design/2024-09-17/","title":"æ¢ç´¢ DDDï¼ˆé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼‰ä¸å…¶ä»–å¼€å‘æ¨¡å¼çš„å·®å¼‚"},{"content":"å‰è¨€ åœ¨æœåŠ¡å™¨ç®¡ç†çš„é¢†åŸŸï¼Œå¯»æ‰¾ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§ã€æ“ä½œä¾¿æ·ä¸”ç¨³å®šå¯é çš„å·¥å…·è‡³å…³é‡è¦ã€‚ä»Šå¤©ï¼Œæˆ‘è¦å‘å¤§å®¶å¼ºçƒˆæ¨èä¸€æ¬¾ä¼˜ç§€çš„æœåŠ¡å™¨ç®¡ç†å·¥å…·â€”â€”FinalShellã€‚ä½œä¸ºä¸€æ¬¾é›†SSHå®¢æˆ·ç«¯ã€SFTPå®¢æˆ·ç«¯ã€ç³»ç»Ÿç›‘æ§äºä¸€ä½“çš„ç»¼åˆæ€§å·¥å…·ï¼ŒFinalShellåœ¨ä¼—å¤šåŒç±»äº§å“ä¸­è„±é¢–è€Œå‡ºï¼Œæˆä¸ºäº†è¿ç»´äººå‘˜å’Œå¼€å‘è€…çš„é¦–é€‰å·¥å…·ã€‚\nä¸€ã€FinalShellç®€ä»‹ 1.1 ä»€ä¹ˆæ˜¯FinalShell FinalShellæ˜¯ä¸€æ¬¾å…è´¹çš„é›†æˆSSHå·¥å…·ï¼Œå®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œæ›´æ˜¯ä¸€ä¸ªåŠŸèƒ½å…¨é¢çš„æœåŠ¡å™¨ç®¡ç†å¹³å°ã€‚å®ƒå°†SSHå®¢æˆ·ç«¯ã€SFTPå®¢æˆ·ç«¯ã€ç³»ç»Ÿç›‘æ§ã€ç½‘ç»œå·¥å…·ç­‰å¤šç§åŠŸèƒ½é›†æˆåœ¨ä¸€ä¸ªç•Œé¢ä¸­ï¼Œä¸ºç”¨æˆ·æä¾›äº†ä¸€ç«™å¼çš„æœåŠ¡å™¨ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚\n1.2 ä¸»è¦ç‰¹ç‚¹ å¤šåè®®æ”¯æŒï¼šSSHã€SFTPã€Telnetã€Windowsè¿œç¨‹æ¡Œé¢ è·¨å¹³å°å…¼å®¹ï¼šæ”¯æŒWindowsã€macOSã€Linux å®æ—¶ç›‘æ§ï¼šCPUã€å†…å­˜ã€ç½‘ç»œã€ç£ç›˜ç­‰ç³»ç»Ÿèµ„æºç›‘æ§ æ–‡ä»¶ç®¡ç†ï¼šå¯è§†åŒ–æ–‡ä»¶ä¼ è¾“å’Œç®¡ç† å¤šæ ‡ç­¾ç®¡ç†ï¼šåŒæ—¶ç®¡ç†å¤šä¸ªæœåŠ¡å™¨è¿æ¥ å…è´¹ä½¿ç”¨ï¼šä¸ªäººå’Œå•†ä¸šç”¨é€”å‡å…è´¹ äºŒã€å®‰è£…ä¸é…ç½® 2.1 ä¸‹è½½å®‰è£… å®˜æ–¹ç½‘ç«™ï¼šè®¿é—® http://www.hostbuf.com/\né€‰æ‹©ç‰ˆæœ¬ï¼šæ ¹æ®æ“ä½œç³»ç»Ÿé€‰æ‹©å¯¹åº”ç‰ˆæœ¬\nWindowsç‰ˆæœ¬ï¼šæ”¯æŒWindows 7åŠä»¥ä¸Šç‰ˆæœ¬ macOSç‰ˆæœ¬ï¼šæ”¯æŒmacOS 10.12åŠä»¥ä¸Šç‰ˆæœ¬ Linuxç‰ˆæœ¬ï¼šæ”¯æŒä¸»æµLinuxå‘è¡Œç‰ˆ å®‰è£…è¿‡ç¨‹ï¼š\nWindowsï¼šä¸‹è½½exeæ–‡ä»¶ï¼ŒåŒå‡»å®‰è£… macOSï¼šä¸‹è½½dmgæ–‡ä»¶ï¼Œæ‹–æ‹½åˆ°Applicationsæ–‡ä»¶å¤¹ Linuxï¼šä¸‹è½½å¯¹åº”åŒ…æ–‡ä»¶ï¼ŒæŒ‰å‘è¡Œç‰ˆå®‰è£…æ–¹å¼å®‰è£… 2.2 é¦–æ¬¡é…ç½® å¯åŠ¨FinalShellåï¼Œå»ºè®®è¿›è¡Œä»¥ä¸‹åŸºç¡€é…ç½®ï¼š\n1 2 3 4 5 6 7 8 # è®¾ç½®é»˜è®¤ç¼–ç ä¸ºUTF-8 # åœ¨é€‰é¡¹ -\u0026gt; é«˜çº§ -\u0026gt; ç¼–ç è®¾ç½®ä¸­é€‰æ‹©UTF-8 # é…ç½®å­—ä½“å’Œä¸»é¢˜ # åœ¨é€‰é¡¹ -\u0026gt; å¤–è§‚ ä¸­é€‰æ‹©åˆé€‚çš„å­—ä½“å’Œä¸»é¢˜ # è®¾ç½®å¿«æ·é”® # åœ¨é€‰é¡¹ -\u0026gt; å¿«æ·é”® ä¸­è‡ªå®šä¹‰å¸¸ç”¨å¿«æ·é”® ä¸‰ã€æ ¸å¿ƒåŠŸèƒ½è¯¦è§£ 3.1 å¼ºå¤§çš„è¿æ¥åŠŸèƒ½ SSHè¿æ¥ FinalShellæ”¯æŒSSH1å’ŒSSH2åè®®ï¼Œæä¾›å¤šç§è®¤è¯æ–¹å¼ï¼š\nå¯†ç è®¤è¯ï¼šä¼ ç»Ÿçš„ç”¨æˆ·åå¯†ç æ–¹å¼ å…¬é’¥è®¤è¯ï¼šæ›´å®‰å…¨çš„å¯†é’¥å¯¹è®¤è¯ é”®ç›˜äº¤äº’è®¤è¯ï¼šæ”¯æŒå¤šå› å­è®¤è¯ è¿æ¥é…ç½®ç¤ºä¾‹ï¼š\n1 2 3 4 5 ä¸»æœºåœ°å€ï¼š192.168.1.100 ç«¯å£ï¼š22 ç”¨æˆ·åï¼šroot è®¤è¯æ–¹å¼ï¼šå¯†ç /å…¬é’¥ ç¼–ç ï¼šUTF-8 SFTPæ–‡ä»¶ä¼ è¾“ å†…ç½®SFTPå®¢æˆ·ç«¯ï¼Œæ”¯æŒï¼š\næ‹–æ‹½ä¸Šä¼ ä¸‹è½½ æ‰¹é‡æ–‡ä»¶æ“ä½œ æ–­ç‚¹ç»­ä¼  æ–‡ä»¶æƒé™ç®¡ç† æ–‡ä»¶æœç´¢å’Œè¿‡æ»¤ Windowsè¿œç¨‹æ¡Œé¢ é›†æˆRDPå®¢æˆ·ç«¯ï¼Œå¯ç›´æ¥è¿æ¥WindowsæœåŠ¡å™¨ï¼š\n1 2 3 4 5 è¿æ¥åœ°å€ï¼š192.168.1.101:3389 ç”¨æˆ·åï¼šAdministrator å¯†ç ï¼š******** åˆ†è¾¨ç‡ï¼š1920x1080 é¢œè‰²æ·±åº¦ï¼š32ä½ 3.2 ç›´è§‚çš„ç•Œé¢è®¾è®¡ ä¸»ç•Œé¢å¸ƒå±€ å·¦ä¾§é¢æ¿ï¼šæœåŠ¡å™¨åˆ—è¡¨å’Œæ–‡ä»¶æ ‘ ä¸­å¤®åŒºåŸŸï¼šç»ˆç«¯çª—å£å’Œæ–‡ä»¶ç®¡ç† å³ä¾§é¢æ¿ï¼šç³»ç»Ÿç›‘æ§å’Œå·¥å…·æ  åº•éƒ¨çŠ¶æ€æ ï¼šè¿æ¥çŠ¶æ€å’Œæ“ä½œæç¤º å¤šæ ‡ç­¾ç®¡ç† 1 2 3 4 # æ”¯æŒåŒæ—¶æ‰“å¼€å¤šä¸ªè¿æ¥ æ ‡ç­¾1ï¼šç”Ÿäº§æœåŠ¡å™¨ (192.168.1.100) æ ‡ç­¾2ï¼šæµ‹è¯•æœåŠ¡å™¨ (192.168.1.101) æ ‡ç­¾3ï¼šå¼€å‘æœåŠ¡å™¨ (192.168.1.102) 3.3 é«˜æ•ˆçš„æ–‡ä»¶ä¼ è¾“ ä¼ è¾“æ–¹å¼ æ‹–æ‹½ä¼ è¾“ï¼šç›´æ¥æ‹–æ‹½æ–‡ä»¶åˆ°ç›®æ ‡ä½ç½® å³é”®èœå•ï¼šé€šè¿‡å³é”®èœå•ä¸Šä¼ ä¸‹è½½ å¿«æ·é”®æ“ä½œï¼š Ctrl+Uï¼šä¸Šä¼ æ–‡ä»¶ Ctrl+Dï¼šä¸‹è½½æ–‡ä»¶ Ctrl+Nï¼šæ–°å»ºæ–‡ä»¶å¤¹ ä¼ è¾“ç‰¹æ€§ å¤šçº¿ç¨‹ä¼ è¾“ï¼šæ”¯æŒå¤šæ–‡ä»¶å¹¶å‘ä¼ è¾“ æ–­ç‚¹ç»­ä¼ ï¼šç½‘ç»œä¸­æ–­åå¯ç»§ç»­ä¼ è¾“ ä¼ è¾“é˜Ÿåˆ—ï¼šå¯æŸ¥çœ‹å’Œç®¡ç†ä¼ è¾“ä»»åŠ¡ ä¼ è¾“ç»Ÿè®¡ï¼šå®æ—¶æ˜¾ç¤ºä¼ è¾“é€Ÿåº¦å’Œè¿›åº¦ 3.4 ä¸°å¯Œçš„ç›‘æ§åŠŸèƒ½ ç³»ç»Ÿèµ„æºç›‘æ§ FinalShellæä¾›å®æ—¶çš„ç³»ç»Ÿç›‘æ§åŠŸèƒ½ï¼š\nCPUç›‘æ§ï¼š\nCPUä½¿ç”¨ç‡æ›²çº¿å›¾ å¤šæ ¸å¿ƒCPUåˆ†åˆ«æ˜¾ç¤º è´Ÿè½½å¹³å‡å€¼æ˜¾ç¤º å†…å­˜ç›‘æ§ï¼š\nç‰©ç†å†…å­˜ä½¿ç”¨æƒ…å†µ äº¤æ¢åˆ†åŒºä½¿ç”¨æƒ…å†µ å†…å­˜ä½¿ç”¨ç‡è¶‹åŠ¿å›¾ ç½‘ç»œç›‘æ§ï¼š\nç½‘ç»œæ¥å£æµé‡ç»Ÿè®¡ å®æ—¶ä¸Šä¼ ä¸‹è½½é€Ÿåº¦ ç½‘ç»œè¿æ¥çŠ¶æ€ ç£ç›˜ç›‘æ§ï¼š\nç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µ ç£ç›˜I/Oç»Ÿè®¡ æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯ è¿›ç¨‹ç®¡ç† 1 2 3 4 5 # è¿›ç¨‹åˆ—è¡¨æ˜¾ç¤º PID ç”¨æˆ· CPU% å†…å­˜% å‘½ä»¤ 1234 root 15.2 8.5 nginx 5678 www 5.1 12.3 php-fpm 9012 mysql 25.8 45.2 mysqld 3.5 ä¾¿æ·çš„å‘½ä»¤è¡Œæ“ä½œ ç»ˆç«¯åŠŸèƒ½ å‘½ä»¤å†å²ï¼šæ”¯æŒå‘½ä»¤å†å²è®°å½•å’Œæœç´¢ è‡ªåŠ¨è¡¥å…¨ï¼šTabé”®è‡ªåŠ¨è¡¥å…¨å‘½ä»¤å’Œè·¯å¾„ å¤šçª—å£æ”¯æŒï¼šå¯åŒæ—¶æ‰“å¼€å¤šä¸ªç»ˆç«¯çª—å£ ä¼šè¯ä¿å­˜ï¼šä¿å­˜å’Œæ¢å¤ç»ˆç«¯ä¼šè¯ å¸¸ç”¨å¿«æ·é”® 1 2 3 4 5 6 Ctrl+Cï¼šä¸­æ–­å½“å‰å‘½ä»¤ Ctrl+Dï¼šå‘é€EOFä¿¡å· Ctrl+Lï¼šæ¸…å± Ctrl+Rï¼šæœç´¢å‘½ä»¤å†å² Ctrl+Aï¼šå…‰æ ‡ç§»åˆ°è¡Œé¦– Ctrl+Eï¼šå…‰æ ‡ç§»åˆ°è¡Œå°¾ å‘½ä»¤æ”¶è—å¤¹ å¯ä»¥å°†å¸¸ç”¨å‘½ä»¤ä¿å­˜åˆ°æ”¶è—å¤¹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # ç³»ç»Ÿä¿¡æ¯æŸ¥çœ‹ df -h # æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ free -m # æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ top # æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯ netstat -tulpn # æŸ¥çœ‹ç½‘ç»œè¿æ¥ # æ—¥å¿—æŸ¥çœ‹ tail -f /var/log/nginx/access.log tail -f /var/log/mysql/error.log journalctl -f # æœåŠ¡ç®¡ç† systemctl status nginx systemctl restart mysql systemctl reload apache2 å››ã€é«˜çº§åŠŸèƒ½ 4.1 è„šæœ¬æ‰§è¡Œ FinalShellæ”¯æŒæ‰¹é‡æ‰§è¡Œè„šæœ¬ï¼š\n1 2 3 4 5 6 7 8 9 10 #!/bin/bash # ç³»ç»Ÿä¿¡æ¯æ”¶é›†è„šæœ¬ echo \u0026#34;=== ç³»ç»Ÿä¿¡æ¯ ===\u0026#34; uname -a echo \u0026#34;=== CPUä¿¡æ¯ ===\u0026#34; lscpu echo \u0026#34;=== å†…å­˜ä¿¡æ¯ ===\u0026#34; free -h echo \u0026#34;=== ç£ç›˜ä¿¡æ¯ ===\u0026#34; df -h 4.2 ç«¯å£è½¬å‘ æ”¯æŒæœ¬åœ°ç«¯å£è½¬å‘å’Œè¿œç¨‹ç«¯å£è½¬å‘ï¼š\n1 2 3 4 5 6 # æœ¬åœ°ç«¯å£è½¬å‘ç¤ºä¾‹ æœ¬åœ°ç«¯å£ï¼š8080 è¿œç¨‹ä¸»æœºï¼š192.168.1.100 è¿œç¨‹ç«¯å£ï¼š80 # è®¿é—® localhost:8080 ç­‰åŒäºè®¿é—® 192.168.1.100:80 4.3 éš§é“ç®¡ç† å¯ä»¥åˆ›å»ºSSHéš§é“è¿›è¡Œå®‰å…¨çš„æ•°æ®ä¼ è¾“ï¼š\nåŠ¨æ€ç«¯å£è½¬å‘ï¼šåˆ›å»ºSOCKSä»£ç† æœ¬åœ°ç«¯å£è½¬å‘ï¼šå°†æœ¬åœ°ç«¯å£æ˜ å°„åˆ°è¿œç¨‹æœåŠ¡ è¿œç¨‹ç«¯å£è½¬å‘ï¼šå°†è¿œç¨‹ç«¯å£æ˜ å°„åˆ°æœ¬åœ°æœåŠ¡ 4.4 ä¼šè¯ç®¡ç† ä¼šè¯ä¿å­˜ï¼šä¿å­˜å½“å‰ä¼šè¯çŠ¶æ€ ä¼šè¯æ¢å¤ï¼šæ–­çº¿é‡è¿åæ¢å¤ä¼šè¯ ä¼šè¯åˆ†ç»„ï¼šæŒ‰é¡¹ç›®æˆ–ç¯å¢ƒåˆ†ç»„ç®¡ç† ä¼šè¯åŒæ­¥ï¼šå¤šå°æœåŠ¡å™¨åŒæ­¥æ‰§è¡Œå‘½ä»¤ äº”ã€è·¨å¹³å°æ”¯æŒ 5.1 Windowså¹³å° å®Œç¾æ”¯æŒWindows 7/8/10/11 é›†æˆWindowsç»ˆç«¯åŠŸèƒ½ æ”¯æŒWindowsè¿œç¨‹æ¡Œé¢è¿æ¥ ä¸Windowsèµ„æºç®¡ç†å™¨æ— ç¼é›†æˆ 5.2 macOSå¹³å° åŸç”ŸmacOSåº”ç”¨ä½“éªŒ æ”¯æŒTouch Barå¿«æ·æ“ä½œ ä¸Finderé›†æˆ æ”¯æŒmacOSå¿«æ·é”®ä¹ æƒ¯ 5.3 Linuxå¹³å° æ”¯æŒä¸»æµLinuxå‘è¡Œç‰ˆ å®Œç¾çš„å­—ä½“æ¸²æŸ“ æ”¯æŒLinuxæ¡Œé¢ç¯å¢ƒé›†æˆ å‘½ä»¤è¡Œå¯åŠ¨æ”¯æŒ å…­ã€å®‰å…¨ç‰¹æ€§ 6.1 è¿æ¥å®‰å…¨ SSHå¯†é’¥ç®¡ç†ï¼šæ”¯æŒRSAã€DSAã€ECDSAã€Ed25519å¯†é’¥ ä¸»æœºå¯†é’¥éªŒè¯ï¼šé˜²æ­¢ä¸­é—´äººæ”»å‡» è¿æ¥åŠ å¯†ï¼šæ‰€æœ‰æ•°æ®ä¼ è¾“å‡åŠ å¯† ä¼šè¯è¶…æ—¶ï¼šè‡ªåŠ¨æ–­å¼€ç©ºé—²è¿æ¥ 6.2 æ•°æ®å®‰å…¨ å¯†ç åŠ å¯†å­˜å‚¨ï¼šæœ¬åœ°å¯†ç é‡‡ç”¨AESåŠ å¯† æ•æ„Ÿä¿¡æ¯ä¿æŠ¤ï¼šä¸åœ¨æ—¥å¿—ä¸­è®°å½•æ•æ„Ÿä¿¡æ¯ å®‰å…¨åˆ é™¤ï¼šæ–‡ä»¶åˆ é™¤æ—¶å®‰å…¨æ“¦é™¤ 6.3 è®¿é—®æ§åˆ¶ 1 2 3 4 5 6 # æ”¯æŒçš„è®¤è¯æ–¹å¼ 1. å¯†ç è®¤è¯ 2. å…¬é’¥è®¤è¯ 3. é”®ç›˜äº¤äº’è®¤è¯ 4. GSSAPIè®¤è¯ 5. è¯ä¹¦è®¤è¯ ä¸ƒã€ä½¿ç”¨æŠ€å·§å’Œæœ€ä½³å®è·µ 7.1 è¿æ¥ç®¡ç†æŠ€å·§ æœåŠ¡å™¨åˆ†ç»„ï¼š 1 2 3 4 5 6 7 8 ç”Ÿäº§ç¯å¢ƒ/ â”œâ”€â”€ WebæœåŠ¡å™¨1 (192.168.1.10) â”œâ”€â”€ WebæœåŠ¡å™¨2 (192.168.1.11) â””â”€â”€ æ•°æ®åº“æœåŠ¡å™¨ (192.168.1.20) æµ‹è¯•ç¯å¢ƒ/ â”œâ”€â”€ æµ‹è¯•æœåŠ¡å™¨1 (192.168.2.10) â””â”€â”€ æµ‹è¯•æ•°æ®åº“ (192.168.2.20) è¿æ¥æ¨¡æ¿ï¼šåˆ›å»ºè¿æ¥æ¨¡æ¿å¿«é€Ÿæ·»åŠ ç›¸ä¼¼é…ç½®çš„æœåŠ¡å™¨\næ‰¹é‡æ“ä½œï¼šé€‰æ‹©å¤šä¸ªæœåŠ¡å™¨åŒæ—¶æ‰§è¡Œå‘½ä»¤\n7.2 æ–‡ä»¶ç®¡ç†æŠ€å·§ ä¹¦ç­¾åŠŸèƒ½ï¼šä¸ºå¸¸ç”¨ç›®å½•æ·»åŠ ä¹¦ç­¾ 1 2 3 4 /var/log/nginx/ # æ—¥å¿—ç›®å½• /etc/nginx/ # é…ç½®ç›®å½• /var/www/html/ # ç½‘ç«™æ ¹ç›®å½• /home/deploy/ # éƒ¨ç½²ç›®å½• æ–‡ä»¶æœç´¢ï¼šä½¿ç”¨å†…ç½®æœç´¢åŠŸèƒ½å¿«é€Ÿå®šä½æ–‡ä»¶\næƒé™ç®¡ç†ï¼šç›´æ¥åœ¨ç•Œé¢ä¸­ä¿®æ”¹æ–‡ä»¶æƒé™\n7.3 ç›‘æ§ä½¿ç”¨æŠ€å·§ å‘Šè­¦è®¾ç½®ï¼šè®¾ç½®èµ„æºä½¿ç”¨ç‡å‘Šè­¦é˜ˆå€¼ å†å²æ•°æ®ï¼šæŸ¥çœ‹ç³»ç»Ÿèµ„æºä½¿ç”¨å†å² æ€§èƒ½åˆ†æï¼šé€šè¿‡ç›‘æ§æ•°æ®åˆ†æç³»ç»Ÿæ€§èƒ½ç“¶é¢ˆ 7.4 è‡ªå®šä¹‰é…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 { \u0026#34;terminal\u0026#34;: { \u0026#34;font\u0026#34;: \u0026#34;Consolas\u0026#34;, \u0026#34;fontSize\u0026#34;: 14, \u0026#34;theme\u0026#34;: \u0026#34;dark\u0026#34;, \u0026#34;cursorStyle\u0026#34;: \u0026#34;block\u0026#34; }, \u0026#34;editor\u0026#34;: { \u0026#34;syntax\u0026#34;: true, \u0026#34;lineNumbers\u0026#34;: true, \u0026#34;wordWrap\u0026#34;: true }, \u0026#34;transfer\u0026#34;: { \u0026#34;threads\u0026#34;: 3, \u0026#34;timeout\u0026#34;: 30, \u0026#34;retryCount\u0026#34;: 3 } } å…«ã€å¸¸è§é—®é¢˜è§£å†³ 8.1 è¿æ¥é—®é¢˜ é—®é¢˜1ï¼šè¿æ¥è¶…æ—¶\n1 2 3 4 5 # è§£å†³æ–¹æ¡ˆ 1. æ£€æŸ¥ç½‘ç»œè¿é€šæ€§ï¼šping ç›®æ ‡æœåŠ¡å™¨ 2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½® 3. éªŒè¯SSHæœåŠ¡çŠ¶æ€ï¼šsystemctl status sshd 4. æ£€æŸ¥ç«¯å£æ˜¯å¦æ­£ç¡® é—®é¢˜2ï¼šè®¤è¯å¤±è´¥\n1 2 3 4 5 # è§£å†³æ–¹æ¡ˆ 1. éªŒè¯ç”¨æˆ·åå¯†ç  2. æ£€æŸ¥SSHå¯†é’¥é…ç½® 3. æŸ¥çœ‹æœåŠ¡å™¨SSHæ—¥å¿—ï¼štail -f /var/log/auth.log 4. ç¡®è®¤ç”¨æˆ·æƒé™è®¾ç½® 8.2 æ–‡ä»¶ä¼ è¾“é—®é¢˜ é—®é¢˜1ï¼šä¼ è¾“ä¸­æ–­\nå¯ç”¨æ–­ç‚¹ç»­ä¼ åŠŸèƒ½ æ£€æŸ¥ç½‘ç»œç¨³å®šæ€§ è°ƒæ•´ä¼ è¾“çº¿ç¨‹æ•° é—®é¢˜2ï¼šæƒé™ä¸è¶³\n1 2 3 4 # è§£å†³æ–¹æ¡ˆ 1. æ£€æŸ¥ç›®æ ‡ç›®å½•æƒé™ 2. ä½¿ç”¨sudoæƒé™ 3. ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…ï¼šchown user:group file 8.3 æ€§èƒ½ä¼˜åŒ– è¿æ¥ä¼˜åŒ–ï¼š 1 2 3 4 5 # SSHé…ç½®ä¼˜åŒ– ServerAliveInterval 60 ServerAliveCountMax 3 TCPKeepAlive yes Compression yes ç•Œé¢ä¼˜åŒ–ï¼š å…³é—­ä¸å¿…è¦çš„ç›‘æ§åŠŸèƒ½ è°ƒæ•´åˆ·æ–°é¢‘ç‡ ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿ ä¹ã€ä¸å…¶ä»–å·¥å…·å¯¹æ¯” 9.1 vs PuTTY åŠŸèƒ½ FinalShell PuTTY æ–‡ä»¶ä¼ è¾“ âœ… å†…ç½®SFTP âŒ éœ€è¦WinSCP ç³»ç»Ÿç›‘æ§ âœ… å®æ—¶ç›‘æ§ âŒ æ—  å¤šæ ‡ç­¾ âœ… æ”¯æŒ âŒ ä¸æ”¯æŒ è·¨å¹³å° âœ… å…¨å¹³å° âŒ ä»…Windows ç•Œé¢ç¾è§‚ âœ… ç°ä»£åŒ–UI âŒ ä¼ ç»Ÿç•Œé¢ 9.2 vs XShell åŠŸèƒ½ FinalShell XShell ä»·æ ¼ âœ… å…è´¹ âŒ å•†ä¸šè½¯ä»¶ åŠŸèƒ½å®Œæ•´æ€§ âœ… åŠŸèƒ½å…¨é¢ âœ… åŠŸèƒ½å¼ºå¤§ æ˜“ç”¨æ€§ âœ… ç®€å•æ˜“ç”¨ âš ï¸ å­¦ä¹ æˆæœ¬é«˜ ä¸­æ–‡æ”¯æŒ âœ… å®Œç¾æ”¯æŒ âœ… æ”¯æŒ 9.3 vs SecureCRT åŠŸèƒ½ FinalShell SecureCRT ä»·æ ¼ âœ… å…è´¹ âŒ æ˜‚è´µ è„šæœ¬æ”¯æŒ âš ï¸ åŸºç¡€æ”¯æŒ âœ… å¼ºå¤§è„šæœ¬ ç¨³å®šæ€§ âœ… ç¨³å®š âœ… éå¸¸ç¨³å®š å­¦ä¹ æˆæœ¬ âœ… ä½ âŒ é«˜ åã€æœªæ¥å‘å±•å’Œæ›´æ–° 10.1 ç‰ˆæœ¬æ›´æ–° FinalShellä¿æŒç€æ´»è·ƒçš„æ›´æ–°é¢‘ç‡ï¼š\nç¨³å®šç‰ˆï¼šæ¯å­£åº¦å‘å¸ƒç¨³å®šç‰ˆæœ¬ æµ‹è¯•ç‰ˆï¼šæ¯æœˆå‘å¸ƒæµ‹è¯•ç‰ˆæœ¬ ç´§æ€¥ä¿®å¤ï¼šé‡è¦bugåŠæ—¶ä¿®å¤ 10.2 æ–°åŠŸèƒ½é¢„è§ˆ å®¹å™¨æ”¯æŒï¼šDockerå’ŒKubernetesé›†æˆ äº‘æœåŠ¡é›†æˆï¼šAWSã€é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ç›´è¿ å›¢é˜Ÿåä½œï¼šå¤šç”¨æˆ·åä½œåŠŸèƒ½ APIæ¥å£ï¼šå¼€æ”¾APIä¾›ç¬¬ä¸‰æ–¹é›†æˆ 10.3 ç¤¾åŒºæ”¯æŒ å®˜æ–¹è®ºå›ï¼šç”¨æˆ·äº¤æµå’Œé—®é¢˜è§£ç­” QQç¾¤ï¼šå®æ—¶æŠ€æœ¯æ”¯æŒ GitHubï¼šé—®é¢˜åé¦ˆå’ŒåŠŸèƒ½å»ºè®® æ–‡æ¡£wikiï¼šè¯¦ç»†ä½¿ç”¨æ–‡æ¡£ æ€»ç»“ FinalShellä½œä¸ºä¸€æ¬¾å…è´¹ä¸”åŠŸèƒ½å¼ºå¤§çš„æœåŠ¡å™¨ç®¡ç†å·¥å…·ï¼Œåœ¨ä»¥ä¸‹æ–¹é¢è¡¨ç°å‡ºè‰²ï¼š\næ ¸å¿ƒä¼˜åŠ¿ åŠŸèƒ½å…¨é¢ï¼šé›†SSHã€SFTPã€ç›‘æ§ã€æ–‡ä»¶ç®¡ç†äºä¸€ä½“ æ“ä½œç®€ä¾¿ï¼šç›´è§‚çš„å›¾å½¢ç•Œé¢ï¼Œé™ä½ä½¿ç”¨é—¨æ§› æ€§èƒ½ç¨³å®šï¼šç»è¿‡å¤§é‡ç”¨æˆ·éªŒè¯ï¼Œç¨³å®šå¯é  å®Œå…¨å…è´¹ï¼šä¸ªäººå’Œå•†ä¸šä½¿ç”¨å‡å…è´¹ è·¨å¹³å°æ”¯æŒï¼šWindowsã€macOSã€Linuxå…¨è¦†ç›– æŒç»­æ›´æ–°ï¼šæ´»è·ƒçš„å¼€å‘å›¢é˜Ÿï¼ŒåŠŸèƒ½ä¸æ–­å®Œå–„ é€‚ç”¨åœºæ™¯ è¿ç»´å·¥ç¨‹å¸ˆï¼šæ—¥å¸¸æœåŠ¡å™¨ç®¡ç†å’Œç›‘æ§ å¼€å‘äººå‘˜ï¼šä»£ç éƒ¨ç½²å’Œè°ƒè¯• ç³»ç»Ÿç®¡ç†å‘˜ï¼šæ‰¹é‡æœåŠ¡å™¨ç®¡ç† å­¦ä¹ è€…ï¼šLinuxå­¦ä¹ å’Œå®è·µ ä¼ä¸šç”¨æˆ·ï¼šå›¢é˜Ÿåä½œå’Œæ ‡å‡†åŒ–ç®¡ç† æ¨èç†ç”± FinalShellä»¥å…¶å¼ºå¤§çš„åŠŸèƒ½ã€ä¾¿æ·çš„æ“ä½œå’Œå‡ºè‰²çš„ç¨³å®šæ€§ï¼Œæˆä¸ºäº†æœåŠ¡å™¨ç®¡ç†é¢†åŸŸçš„ä¸€æ¬¾ä¸å¯å¤šå¾—çš„ä¼˜ç§€å·¥å…·ã€‚æ— è®ºæ‚¨æ˜¯è¿ç»´æ–°æ‰‹è¿˜æ˜¯èµ„æ·±ä¸“å®¶ï¼ŒFinalShelléƒ½èƒ½ä¸ºæ‚¨æä¾›é«˜æ•ˆã€å®‰å…¨ã€ä¾¿æ·çš„æœåŠ¡å™¨ç®¡ç†ä½“éªŒã€‚\nå¦‚æœæ‚¨è¿˜åœ¨ä¸ºå¯»æ‰¾ä¸€æ¬¾æ»¡æ„çš„æœåŠ¡å™¨ç®¡ç†å·¥å…·è€Œçƒ¦æ¼ï¼Œä¸å¦¨è¯•è¯•FinalShellï¼Œç›¸ä¿¡å®ƒä¸€å®šä¼šç»™æ‚¨å¸¦æ¥æ„æƒ³ä¸åˆ°çš„ä¾¿åˆ©å’Œæ•ˆç‡æå‡ã€‚åœ¨è¿™ä¸ªå¿«é€Ÿå‘å±•çš„æŠ€æœ¯æ—¶ä»£ï¼Œé€‰æ‹©ä¸€æ¬¾ä¼˜ç§€çš„å·¥å…·ï¼Œå°±æ˜¯é€‰æ‹©äº†æ›´é«˜çš„å·¥ä½œæ•ˆç‡å’Œæ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚\nğŸ’¡ å»ºè®®ï¼šç«‹å³ä¸‹è½½FinalShellï¼Œå¼€å§‹æ‚¨çš„é«˜æ•ˆæœåŠ¡å™¨ç®¡ç†ä¹‹æ—…ï¼\n","date":"2024-08-22T00:00:00Z","permalink":"http://localhost:1313/p/tools/2024-08-22/","title":"é«˜æ•ˆæœåŠ¡å™¨ç®¡ç†å·¥å…·ï¼šFinalShell"},{"content":"1. å‰è¨€ åœ¨.NET 6å¼€å§‹åšASP.NET Coreçš„å¼€å‘æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆè¦äº†è§£çš„æ˜¯åº”ç”¨ç¨‹åºçš„å¯åŠ¨è¿‡ç¨‹ã€‚WebApplicationå’ŒWebApplicationBuilderç±»æ˜¯å¯åŠ¨è¿‡ç¨‹ä¸­ä¸å¯æˆ–ç¼ºçš„æ ¸å¿ƒç»„ä»¶ã€‚WebApplicationBuilderè´Ÿè´£å¼•å¯¼å¯åŠ¨ï¼Œè¿™ä¸ä¹‹å‰.NET Coreç‰ˆæœ¬ä¸­åˆ†åˆ«ä½¿ç”¨Programå’ŒStartupç±»çš„æ–¹å¼æœ‰æ‰€ä¸åŒã€‚.NET 6åŠä»¥ä¸Šç‰ˆæœ¬ç›´æ¥åœ¨Programç±»ä¸­è¿›è¡Œå¼•å¯¼å¯åŠ¨ï¼Œè€ŒWebApplicationåœ¨Runä¹‹å‰ï¼Œéœ€è¦å®Œæˆå››ä¸ªå…³é”®æ­¥éª¤ï¼šä¸»æœºé…ç½®ã€åº”ç”¨ç¨‹åºé…ç½®ã€æœåŠ¡æ³¨å†Œã€ä¸­é—´ä»¶è®¾ç½®ã€‚\n2. WebApplicationBuilderæ¦‚è¿° 2.1 ä»€ä¹ˆæ˜¯WebApplicationBuilder WebApplicationBuilderæ˜¯.NET 6å¼•å…¥çš„æ–°ç±»ï¼Œå®ƒç®€åŒ–äº†ASP.NET Coreåº”ç”¨ç¨‹åºçš„é…ç½®å’Œå¯åŠ¨è¿‡ç¨‹ã€‚å®ƒå°†ä¹‹å‰åˆ†æ•£åœ¨Program.cså’ŒStartup.csä¸­çš„é…ç½®é€»è¾‘ç»Ÿä¸€åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œä½¿ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“äºç»´æŠ¤ã€‚\n2.2 åˆ›å»ºWebApplicationBuilderå®ä¾‹ ä½¿ç”¨WebApplicationBuilder.CreateDefault(args)æ–¹æ³•å¯ä»¥åˆ›å»ºä¸€ä¸ªWebApplicationBuilderçš„å®ä¾‹ï¼š\n1 var builder = WebApplicationBuilder.CreateDefault(args); è¯¥æ–¹æ³•ä¼šé»˜è®¤åŠ è½½ä¸€äº›å¸¸è§çš„é…ç½®å’ŒæœåŠ¡ï¼š\nç¯å¢ƒå˜é‡é…ç½® appsettings.jsoné…ç½®æ–‡ä»¶ ç”¨æˆ·æœºå¯†é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒï¼‰ å‘½ä»¤è¡Œå‚æ•° é»˜è®¤æ—¥å¿—æä¾›ç¨‹åº IISé›†æˆï¼ˆå¦‚æœé€‚ç”¨ï¼‰ 3. ä¸»æœºé…ç½® 3.1 é…ç½®ä¸»æœºå±æ€§ WebApplicationBuilderçš„Hostå±æ€§æ˜¯ä¸€ä¸ªIHostBuilderå®ä¾‹ï¼Œå¯ä»¥ç”¨å®ƒæ¥é…ç½®ä¸»æœºç›¸å…³çš„è®¾ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // é…ç½®ä¸»æœºé…ç½® builder.Host.ConfigureHostConfiguration(configHost =\u0026gt; { // æ·»åŠ ç¯å¢ƒå˜é‡å‰ç¼€ configHost.AddEnvironmentVariables(\u0026#34;MYAPP_\u0026#34;); // æ·»åŠ è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ configHost.AddJsonFile(\u0026#34;hostsettings.json\u0026#34;, optional: true); }); // é…ç½®æ—¥å¿—ç³»ç»Ÿ builder.Host.ConfigureLogging(logging =\u0026gt; { logging.ClearProviders(); logging.AddConsole(); logging.AddDebug(); logging.SetMinimumLevel(LogLevel.Information); }); 3.2 é…ç½®Webä¸»æœº è¿˜å¯ä»¥é€šè¿‡WebHostå±æ€§é…ç½®Webç›¸å…³çš„è®¾ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 builder.WebHost.ConfigureKestrel(options =\u0026gt; { options.ListenLocalhost(5000); options.ListenLocalhost(5001, listenOptions =\u0026gt; { listenOptions.UseHttps(); }); }); builder.WebHost.UseContentRoot(Directory.GetCurrentDirectory()); builder.WebHost.UseWebRoot(\u0026#34;wwwroot\u0026#34;); 4. åº”ç”¨ç¨‹åºé…ç½® 4.1 é…ç½®ç³»ç»Ÿ é€šè¿‡builder.Configurationå¯ä»¥è®¿é—®åº”ç”¨ç¨‹åºçš„é…ç½®ç³»ç»Ÿï¼š\n1 2 3 4 5 6 7 8 9 10 11 // æ·»åŠ é¢å¤–çš„é…ç½®æº builder.Configuration.AddJsonFile(\u0026#34;appsettings.json\u0026#34;, optional: true, reloadOnChange: true); builder.Configuration.AddJsonFile($\u0026#34;appsettings.{builder.Environment.EnvironmentName}.json\u0026#34;, optional: true); builder.Configuration.AddEnvironmentVariables(); builder.Configuration.AddCommandLine(args); // å¦‚æœæ˜¯å¼€å‘ç¯å¢ƒï¼Œæ·»åŠ ç”¨æˆ·æœºå¯† if (builder.Environment.IsDevelopment()) { builder.Configuration.AddUserSecrets\u0026lt;Program\u0026gt;(); } 4.2 ç¯å¢ƒé…ç½® å¯ä»¥æ ¹æ®ä¸åŒç¯å¢ƒè¿›è¡Œç‰¹å®šé…ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 if (builder.Environment.IsDevelopment()) { // å¼€å‘ç¯å¢ƒç‰¹å®šé…ç½® builder.Configuration.AddUserSecrets\u0026lt;Program\u0026gt;(); } else if (builder.Environment.IsProduction()) { // ç”Ÿäº§ç¯å¢ƒç‰¹å®šé…ç½® builder.Configuration.AddAzureKeyVault(/* é…ç½®å‚æ•° */); } 5. æœåŠ¡æ³¨å†Œ 5.1 åŸºç¡€æœåŠ¡æ³¨å†Œ ä½¿ç”¨builder.Servicesæ¥è®¿é—®æœåŠ¡å®¹å™¨å¹¶æ³¨å†ŒæœåŠ¡ï¼š\n1 2 3 4 5 6 7 8 9 10 11 // æ³¨å†Œæ§åˆ¶å™¨æœåŠ¡ builder.Services.AddControllers(); // æ³¨å†ŒAPIæ¢ç´¢æœåŠ¡ builder.Services.AddEndpointsApiExplorer(); // æ³¨å†ŒSwaggeræœåŠ¡ builder.Services.AddSwaggerGen(c =\u0026gt; { c.SwaggerDoc(\u0026#34;v1\u0026#34;, new OpenApiInfo { Title = \u0026#34;My API\u0026#34;, Version = \u0026#34;v1\u0026#34; }); }); 5.2 è‡ªå®šä¹‰æœåŠ¡æ³¨å†Œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // æ³¨å†Œè‡ªå®šä¹‰æœåŠ¡ builder.Services.AddScoped\u0026lt;IUserService, UserService\u0026gt;(); builder.Services.AddSingleton\u0026lt;IConfiguration\u0026gt;(builder.Configuration); builder.Services.AddTransient\u0026lt;IEmailService, EmailService\u0026gt;(); // æ³¨å†Œæ•°æ®åº“ä¸Šä¸‹æ–‡ builder.Services.AddDbContext\u0026lt;ApplicationDbContext\u0026gt;(options =\u0026gt; options.UseSqlServer(builder.Configuration.GetConnectionString(\u0026#34;DefaultConnection\u0026#34;))); // æ³¨å†Œèº«ä»½éªŒè¯ builder.Services.AddAuthentication(JwtBearerDefaults.AuthenticationScheme) .AddJwtBearer(options =\u0026gt; { // JWTé…ç½® }); 5.3 é…ç½®é€‰é¡¹æ¨¡å¼ 1 2 3 // é…ç½®é€‰é¡¹ builder.Services.Configure\u0026lt;DatabaseOptions\u0026gt;(builder.Configuration.GetSection(\u0026#34;Database\u0026#34;)); builder.Services.Configure\u0026lt;EmailOptions\u0026gt;(builder.Configuration.GetSection(\u0026#34;Email\u0026#34;)); 6. æ„å»ºWebApplication å®Œæˆæ‰€æœ‰å¿…è¦çš„é…ç½®å’ŒæœåŠ¡æ³¨å†Œåï¼Œä½¿ç”¨Build()æ–¹æ³•æ„å»ºWebApplicationå®ä¾‹ï¼š\n1 var app = builder.Build(); è¿™ä¸ªWebApplicationå®ä¾‹åŒ…å«äº†æ‰€æœ‰å·²é…ç½®çš„ä¸­é—´ä»¶ã€æœåŠ¡ã€è·¯ç”±ç­‰ï¼Œå¹¶å‡†å¤‡è¿è¡Œã€‚\n7. ä¸­é—´ä»¶é…ç½® 7.1 å¼€å‘ç¯å¢ƒä¸­é—´ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 if (app.Environment.IsDevelopment()) { app.UseDeveloperExceptionPage(); app.UseSwagger(); app.UseSwaggerUI(c =\u0026gt; { c.SwaggerEndpoint(\u0026#34;/swagger/v1/swagger.json\u0026#34;, \u0026#34;My API V1\u0026#34;); }); } else { app.UseExceptionHandler(\u0026#34;/Error\u0026#34;); app.UseHsts(); } 7.2 é€šç”¨ä¸­é—´ä»¶é…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 // HTTPSé‡å®šå‘ app.UseHttpsRedirection(); // é™æ€æ–‡ä»¶ app.UseStaticFiles(); // è·¯ç”± app.UseRouting(); // è·¨åŸŸ app.UseCors(); // èº«ä»½éªŒè¯ app.UseAuthentication(); // æˆæƒ app.UseAuthorization(); // æ˜ å°„æ§åˆ¶å™¨ app.MapControllers(); // æ˜ å°„æœ€å°API app.MapGet(\u0026#34;/\u0026#34;, () =\u0026gt; \u0026#34;Hello World!\u0026#34;); 7.3 è‡ªå®šä¹‰ä¸­é—´ä»¶ 1 2 3 4 5 6 7 8 9 10 // æ·»åŠ è‡ªå®šä¹‰ä¸­é—´ä»¶ app.UseMiddleware\u0026lt;RequestLoggingMiddleware\u0026gt;(); // æˆ–è€…ä½¿ç”¨å†…è”ä¸­é—´ä»¶ app.Use(async (context, next) =\u0026gt; { // è¯·æ±‚å¤„ç†å‰çš„é€»è¾‘ await next.Invoke(); // è¯·æ±‚å¤„ç†åçš„é€»è¾‘ }); 8. è¿è¡Œåº”ç”¨ç¨‹åº 8.1 å¯åŠ¨åº”ç”¨ç¨‹åº 1 2 3 4 5 // åŒæ­¥è¿è¡Œï¼ˆé˜»å¡å½“å‰çº¿ç¨‹ï¼‰ app.Run(); // æˆ–è€…å¼‚æ­¥è¿è¡Œ // await app.RunAsync(); 8.2 é…ç½®å¯åŠ¨å’Œå…³é—­äº‹ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // é…ç½®åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸäº‹ä»¶ app.Lifetime.ApplicationStarted.Register(() =\u0026gt; { Console.WriteLine(\u0026#34;åº”ç”¨ç¨‹åºå·²å¯åŠ¨\u0026#34;); }); app.Lifetime.ApplicationStopping.Register(() =\u0026gt; { Console.WriteLine(\u0026#34;åº”ç”¨ç¨‹åºæ­£åœ¨åœæ­¢\u0026#34;); }); app.Lifetime.ApplicationStopped.Register(() =\u0026gt; { Console.WriteLine(\u0026#34;åº”ç”¨ç¨‹åºå·²åœæ­¢\u0026#34;); }); app.Run(); 9. å®Œæ•´ç¤ºä¾‹ ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„Program.csç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 using Microsoft.EntityFrameworkCore; using Microsoft.OpenApi.Models; var builder = WebApplicationBuilder.CreateDefault(args); // é…ç½®æœåŠ¡ builder.Services.AddControllers(); builder.Services.AddEndpointsApiExplorer(); builder.Services.AddSwaggerGen(c =\u0026gt; { c.SwaggerDoc(\u0026#34;v1\u0026#34;, new OpenApiInfo { Title = \u0026#34;My API\u0026#34;, Version = \u0026#34;v1\u0026#34; }); }); // é…ç½®æ•°æ®åº“ builder.Services.AddDbContext\u0026lt;ApplicationDbContext\u0026gt;(options =\u0026gt; options.UseSqlServer(builder.Configuration.GetConnectionString(\u0026#34;DefaultConnection\u0026#34;))); // é…ç½®CORS builder.Services.AddCors(options =\u0026gt; { options.AddPolicy(\u0026#34;AllowAll\u0026#34;, policy =\u0026gt; { policy.AllowAnyOrigin() .AllowAnyMethod() .AllowAnyHeader(); }); }); // æ„å»ºåº”ç”¨ç¨‹åº var app = builder.Build(); // é…ç½®ä¸­é—´ä»¶ç®¡é“ if (app.Environment.IsDevelopment()) { app.UseSwagger(); app.UseSwaggerUI(); } app.UseHttpsRedirection(); app.UseCors(\u0026#34;AllowAll\u0026#34;); app.UseAuthorization(); app.MapControllers(); // è¿è¡Œåº”ç”¨ç¨‹åº app.Run(); 10. æœ€ä½³å®è·µ 10.1 é…ç½®ç®¡ç† ä½¿ç”¨å¼ºç±»å‹é…ç½®é€‰é¡¹ æ ¹æ®ç¯å¢ƒåˆ†ç¦»é…ç½®æ–‡ä»¶ æ•æ„Ÿä¿¡æ¯ä½¿ç”¨ç”¨æˆ·æœºå¯†æˆ–å¯†é’¥ç®¡ç†æœåŠ¡ 10.2 æœåŠ¡æ³¨å†Œ éµå¾ªä¾èµ–æ³¨å…¥çš„æœ€ä½³å®è·µ åˆç†é€‰æ‹©æœåŠ¡ç”Ÿå‘½å‘¨æœŸï¼ˆSingletonã€Scopedã€Transientï¼‰ ä½¿ç”¨æ¥å£æŠ½è±¡å…·ä½“å®ç° 10.3 ä¸­é—´ä»¶é¡ºåº å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶åº”è¯¥æœ€å…ˆæ³¨å†Œ èº«ä»½éªŒè¯åœ¨æˆæƒä¹‹å‰ è·¯ç”±ä¸­é—´ä»¶çš„ä½ç½®å¾ˆé‡è¦ æ€»ç»“ WebApplicationBuilderä¸ºASP.NET Coreåº”ç”¨ç¨‹åºæä¾›äº†ä¸€ç§æ›´åŠ ç®€æ´å’Œç»Ÿä¸€çš„é…ç½®æ–¹å¼ã€‚å®ƒå°†ä¸»æœºé…ç½®ã€åº”ç”¨ç¨‹åºé…ç½®ã€æœåŠ¡æ³¨å†Œå’Œä¸­é—´ä»¶è®¾ç½®æ•´åˆåˆ°ä¸€ä¸ªæµç•…çš„APIä¸­ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºçš„å¯åŠ¨è¿‡ç¨‹æ›´åŠ æ¸…æ™°å’Œæ˜“äºç®¡ç†ã€‚\né€šè¿‡WebApplicationBuilderï¼Œå¼€å‘è€…å¯ä»¥ï¼š\næ›´è½»æ¾åœ°é…ç½®åº”ç”¨ç¨‹åºçš„å„ä¸ªæ–¹é¢ äº«å—æ›´å¥½çš„å¼€å‘ä½“éªŒå’Œä»£ç å¯è¯»æ€§ åˆ©ç”¨.NET 6+çš„æ–°ç‰¹æ€§å’Œæ€§èƒ½æ”¹è¿› æ„å»ºæ›´åŠ ç°ä»£åŒ–å’Œé«˜æ•ˆçš„Webåº”ç”¨ç¨‹åº æŒæ¡WebApplicationBuilderçš„ä½¿ç”¨æ–¹æ³•å¯¹äº.NET 6+çš„ASP.NET Coreå¼€å‘è‡³å…³é‡è¦ï¼Œå®ƒæ˜¯æ„å»ºç°ä»£Webåº”ç”¨ç¨‹åºçš„åŸºç¡€ã€‚\n","date":"2024-05-21T00:00:00Z","permalink":"http://localhost:1313/p/net/2024-05-21/","title":"DoNet Coreçš„å¯åŠ¨è¿‡ç¨‹-WebApplicationBuilder"},{"content":"å‰è¨€ åœ¨ä½¿ç”¨Visual Studioç¼–å†™ä»£ç æ—¶ï¼Œç†Ÿç»ƒæŒæ¡å¿«æ·é”®èƒ½å¤Ÿæ˜¾è‘—æé«˜ç¼–ç æ•ˆç‡ã€‚ä½œä¸ºç¨‹åºå‘˜ï¼Œæˆ‘ä»¬æœ‰å¿…è¦è®°ä½ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„å¿«æ·é”®ã€‚è¿™ç¯‡æ–‡ç« å°†è¯¦ç»†è®°å½•Visual Studioä¸­æœ€å®ç”¨çš„å¿«æ·é”®ï¼Œå¹¶æ ¹æ®ä¸åŒçš„ä½¿ç”¨åœºæ™¯è¿›è¡Œåˆ†ç±»æ•´ç†ï¼Œä»¥ä¾¿æ›´å¿«æ›´é«˜æ•ˆåœ°ç¼–å†™ä»£ç ã€‚å»ºè®®æ”¶è—åˆ°æµè§ˆå™¨æ–‡ä»¶å¤¹ï¼Œå¹¶é€šè¿‡Ctrl+Fè¾“å…¥å…³é”®å­—å¿«é€Ÿå®šä½åˆ°éœ€è¦çš„å†…å®¹ã€‚\nğŸ’¡ å°è´´å£«ï¼šå»ºè®®å¾ªåºæ¸è¿›åœ°å­¦ä¹ è¿™äº›å¿«æ·é”®ï¼Œæ¯å¤©æŒæ¡å‡ ä¸ªï¼Œé€æ­¥å½¢æˆè‚Œè‚‰è®°å¿†ã€‚\nä¸€ã€åŸºç¡€ç¼–è¾‘å¿«æ·é”® 1.1 æ–‡æœ¬æ“ä½œ Ctrl + Cï¼šå¤åˆ¶é€‰å®šçš„æ–‡æœ¬æˆ–å¯¹è±¡ Ctrl + Vï¼šç²˜è´´å‰ªè´´æ¿ä¸Šçš„æ–‡æœ¬æˆ–å¯¹è±¡ Ctrl + Xï¼šå‰ªåˆ‡é€‰å®šçš„æ–‡æœ¬æˆ–å¯¹è±¡ Ctrl + Zï¼šæ’¤é”€ä¸Šä¸€æ¬¡æ“ä½œ Ctrl + Yï¼šé‡åšä¸Šä¸€æ¬¡æ“ä½œ Ctrl + Aï¼šé€‰æ‹©æ‰€æœ‰æ–‡æœ¬æˆ–å¯¹è±¡ã€å…¨é€‰ Ctrl + Dï¼šå¤åˆ¶å½“å‰è¡Œåˆ°ä¸‹ä¸€è¡Œ Ctrl + Lï¼šå‰ªåˆ‡å½“å‰è¡Œ Ctrl + Shift + Lï¼šåˆ é™¤å½“å‰è¡Œ 1.2 æ–‡ä»¶æ“ä½œ Ctrl + Nï¼šæ–°å»ºæ–‡ä»¶ Ctrl + Oï¼šæ‰“å¼€æ–‡ä»¶ Ctrl + Sï¼šä¿å­˜å½“å‰æ–‡ä»¶ Ctrl + Shift + Sï¼šä¿å­˜æ‰€æœ‰æ–‡ä»¶ Ctrl + Shift + Wï¼šå…³é—­å½“å‰æ–‡ä»¶ Ctrl + F4ï¼šå…³é—­å½“å‰æ–‡æ¡£ Alt + F4ï¼šå…³é—­Visual Studio 1.3 æŸ¥æ‰¾å’Œæ›¿æ¢ Ctrl + Fï¼šåœ¨å½“å‰æ–‡æ¡£ä¸­æŸ¥æ‰¾æ–‡æœ¬ Ctrl + Hï¼šåœ¨å½“å‰æ–‡æ¡£ä¸­æ›¿æ¢æ–‡æœ¬ Ctrl + Shift + Fï¼šåœ¨æ•´ä¸ªè§£å†³æ–¹æ¡ˆä¸­æŸ¥æ‰¾ Ctrl + Shift + Hï¼šåœ¨æ•´ä¸ªè§£å†³æ–¹æ¡ˆä¸­æ›¿æ¢ F3ï¼šæŸ¥æ‰¾ä¸‹ä¸€ä¸ª Shift + F3ï¼šæŸ¥æ‰¾ä¸Šä¸€ä¸ª Ctrl + F3ï¼šæŸ¥æ‰¾é€‰å®šæ–‡æœ¬çš„ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹ äºŒã€ä»£ç ç¼–è¾‘å¿«æ·é”® 2.1 ä»£ç æ³¨é‡Š Ctrl + K + Cï¼šæ³¨é‡Šé€‰å®šçš„æ–‡æœ¬ Ctrl + K + Uï¼šå–æ¶ˆæ³¨é‡Šé€‰å®šçš„æ–‡æœ¬ Ctrl + /ï¼šåˆ‡æ¢è¡Œæ³¨é‡Š Ctrl + Shift + /ï¼šåˆ‡æ¢å—æ³¨é‡Š 2.2 æ™ºèƒ½æ„ŸçŸ¥å’Œè‡ªåŠ¨å®Œæˆ Ctrl + Spaceï¼šè§¦å‘æ™ºèƒ½æ„ŸçŸ¥ Ctrl + Jï¼šæ˜¾ç¤º IntelliSense åˆ—è¡¨ Ctrl + Shift + Spaceï¼šæ˜¾ç¤ºå‚æ•°ä¿¡æ¯ Ctrl + K + Iï¼šæ˜¾ç¤ºå¿«é€Ÿä¿¡æ¯ Alt + â†’ï¼šå®Œæˆå•è¯ Tabï¼šæ¥å—æ™ºèƒ½æ„ŸçŸ¥å»ºè®® Escï¼šå–æ¶ˆæ™ºèƒ½æ„ŸçŸ¥ 2.3 ä»£ç å¯¼èˆª F12ï¼šè½¬åˆ°å®šä¹‰ Ctrl + F12ï¼šè½¬åˆ°å£°æ˜ Shift + F12ï¼šæŸ¥æ‰¾æ‰€æœ‰å¼•ç”¨ Ctrl + -ï¼šå¯¼èˆªåé€€ Ctrl + Shift + -ï¼šå¯¼èˆªå‰è¿› Ctrl + Gï¼šè½¬åˆ°æŒ‡å®šè¡Œ Ctrl + ,ï¼šè½¬åˆ°æ‰€æœ‰ï¼ˆæœç´¢æ–‡ä»¶ã€ç±»å‹ã€æˆå‘˜ç­‰ï¼‰ Ctrl + Tï¼šè½¬åˆ°æ‰€æœ‰ï¼ˆæ›¿ä»£å¿«æ·é”®ï¼‰ 2.4 ä»£ç é‡æ„ Ctrl + R + Rï¼šé‡å‘½å Ctrl + R + Mï¼šæå–æ–¹æ³• Ctrl + R + Vï¼šç§»é™¤å‚æ•° Ctrl + R + Oï¼šç»„ç»‡usingè¯­å¥ Ctrl + K + Sï¼šç¯ç»•ä»£ç å— Ctrl + K + Xï¼šæ’å…¥ä»£ç ç‰‡æ®µ ä¸‰ã€è°ƒè¯•å¿«æ·é”® 3.1 è°ƒè¯•æ§åˆ¶ F5ï¼šå¯åŠ¨è°ƒè¯•æˆ–ç»§ç»­æ‰§è¡Œ Ctrl + F5ï¼šå¼€å§‹æ‰§è¡Œï¼ˆä¸è°ƒè¯•ï¼‰ Shift + F5ï¼šåœæ­¢è°ƒè¯• Ctrl + Shift + F5ï¼šé‡æ–°å¯åŠ¨è°ƒè¯• F10ï¼šé€è¿‡ç¨‹æ‰§è¡Œï¼ˆStep Overï¼‰ F11ï¼šé€è¯­å¥æ‰§è¡Œï¼ˆStep Intoï¼‰ Shift + F11ï¼šè·³å‡ºå½“å‰å‡½æ•°ï¼ˆStep Outï¼‰ Ctrl + F10ï¼šè¿è¡Œåˆ°å…‰æ ‡å¤„ 3.2 æ–­ç‚¹ç®¡ç† F9ï¼šåˆ‡æ¢æ–­ç‚¹ Ctrl + Shift + F9ï¼šåˆ é™¤æ‰€æœ‰æ–­ç‚¹ Ctrl + Bï¼šæ–°å»ºæ–­ç‚¹ Ctrl + Alt + Bï¼šæ–­ç‚¹çª—å£ F4ï¼šæ–­ç‚¹å±æ€§ 3.3 è°ƒè¯•çª—å£ Ctrl + Alt + V + Aï¼šè‡ªåŠ¨çª—å£ Ctrl + Alt + V + Lï¼šå±€éƒ¨å˜é‡çª—å£ Ctrl + Alt + W + 1ï¼šç›‘è§†çª—å£1 Ctrl + Alt + Iï¼šå³æ—¶çª—å£ Ctrl + Alt + Cï¼šè°ƒç”¨å †æ ˆçª—å£ Ctrl + D + Eï¼šå¼‚å¸¸è®¾ç½® å››ã€ä»£ç æ•´ç†å’Œæ ¼å¼åŒ– 4.1 ä»£ç æ ¼å¼åŒ– Ctrl + K + Dï¼šæ ¼å¼åŒ–æ•´ä¸ªæ–‡æ¡£ Ctrl + K + Fï¼šæ ¼å¼åŒ–é€‰å®šçš„ä»£ç  Ctrl + E + Dï¼šæ ¼å¼åŒ–æ•´ä¸ªæ–‡æ¡£ï¼ˆæ›¿ä»£å¿«æ·é”®ï¼‰ Ctrl + E + Fï¼šæ ¼å¼åŒ–é€‰å®šå†…å®¹ï¼ˆæ›¿ä»£å¿«æ·é”®ï¼‰ Ctrl + E + Wï¼šæ¸…é™¤æ‰€æœ‰ç©ºç™½å­—ç¬¦ **Ctrl + K + **ï¼šç§»é™¤å’Œæ’åºusingè¯­å¥ 4.2 ä»£ç æŠ˜å  Ctrl + M + Mï¼šæŠ˜å æˆ–å±•å¼€å½“å‰ä»£ç å— Ctrl + M + Oï¼šæŠ˜å æ‰€æœ‰ä»£ç å— Ctrl + M + Lï¼šå±•å¼€æ‰€æœ‰ä»£ç å— Ctrl + M + Pï¼šåœæ­¢å¤§çº²æ˜¾ç¤º Ctrl + M + Hï¼šéšè—é€‰å®šå†…å®¹ Ctrl + M + Uï¼šå–æ¶ˆéšè—é€‰å®šå†…å®¹ 4.3 ä»£ç é€‰æ‹©å’Œç§»åŠ¨ Shift + Alt + â†‘/â†“ï¼šå‘ä¸Š/å‘ä¸‹æ‰©å±•é€‰æ‹© Alt + â†‘/â†“ï¼šå‘ä¸Š/å‘ä¸‹ç§»åŠ¨é€‰å®šè¡Œ Ctrl + Shift + â†‘/â†“ï¼šé€‰æ‹©åˆ°æ–‡æ¡£å¼€å¤´/ç»“å°¾ Ctrl + â†‘/â†“ï¼šæ»šåŠ¨é¡µé¢ä½†ä¸ç§»åŠ¨å…‰æ ‡ Home/Endï¼šç§»åŠ¨åˆ°è¡Œé¦–/è¡Œå°¾ Ctrl + Home/Endï¼šç§»åŠ¨åˆ°æ–‡æ¡£å¼€å¤´/ç»“å°¾ äº”ã€ä¹¦ç­¾ç®¡ç† Ctrl + K + Kï¼šåˆ›å»º/å–æ¶ˆä¹¦ç­¾ Ctrl + K + Lï¼šæ¸…é™¤æ‰€æœ‰ä¹¦ç­¾ Ctrl + K + Wï¼šä¹¦ç­¾çª—å£ Ctrl + K + Pï¼šä¸Šä¸€ä¸ªä¹¦ç­¾ Ctrl + K + Nï¼šä¸‹ä¸€ä¸ªä¹¦ç­¾ Ctrl + Shift + K + Kï¼šåœ¨å½“å‰æ–‡ä»¶å¤¹ä¸­åˆ‡æ¢ä¹¦ç­¾ å…­ã€çª—å£å’Œè§†å›¾ç®¡ç† 6.1 çª—å£åˆ‡æ¢ Ctrl + Tabï¼šåœ¨æ‰“å¼€çš„æ–‡æ¡£é—´åˆ‡æ¢ Ctrl + Shift + Tabï¼šåå‘åˆ‡æ¢æ–‡æ¡£ Alt + Tabï¼šåœ¨åº”ç”¨ç¨‹åºé—´åˆ‡æ¢ Ctrl + Alt + Lï¼šè§£å†³æ–¹æ¡ˆèµ„æºç®¡ç†å™¨ Ctrl + Alt + Oï¼šè¾“å‡ºçª—å£ Ctrl + Alt + Eï¼šé”™è¯¯åˆ—è¡¨ 6.2 è§†å›¾æ“ä½œ F11ï¼šå…¨å±æ¨¡å¼ Shift + Alt + Enterï¼šå…¨å±ç¼–è¾‘æ¨¡å¼ Ctrl + +/-ï¼šæ”¾å¤§/ç¼©å°ç¼–è¾‘å™¨ Ctrl + 0ï¼šé‡ç½®ç¼–è¾‘å™¨ç¼©æ”¾ Ctrl + W + Sï¼šé€‰æ‹©å½“å‰å•è¯ Ctrl + W + Pï¼šé€‰æ‹©å½“å‰å‚æ•° ä¸ƒã€æ„å»ºå’Œé¡¹ç›®ç®¡ç† 7.1 æ„å»ºæ“ä½œ Ctrl + Shift + Bï¼šç”Ÿæˆè§£å†³æ–¹æ¡ˆ F6ï¼šç”Ÿæˆå½“å‰é¡¹ç›® Ctrl + Breakï¼šå–æ¶ˆç”Ÿæˆ F7ï¼šæŸ¥çœ‹ä»£ç  Shift + F7ï¼šæŸ¥çœ‹è®¾è®¡å™¨ 7.2 é¡¹ç›®æ“ä½œ Ctrl + Shift + Aï¼šæ·»åŠ æ–°é¡¹ Ctrl + Alt + Aï¼šæ·»åŠ ç°æœ‰é¡¹ Shift + Alt + Aï¼šæ·»åŠ ç°æœ‰é¡¹ï¼ˆæ›¿ä»£ï¼‰ Ctrl + Shift + Alt + Aï¼šæ·»åŠ æ–°é¡¹ç›® å…«ã€é«˜çº§ç¼–è¾‘åŠŸèƒ½ 8.1 å¤šå…‰æ ‡ç¼–è¾‘ Ctrl + Alt + ç‚¹å‡»ï¼šæ·»åŠ å¤šä¸ªå…‰æ ‡ Shift + Alt + ;ï¼šåœ¨æ‰€æœ‰åŒ¹é…é¡¹ä¸Šæ·»åŠ å…‰æ ‡ Shift + Alt + .ï¼šåœ¨ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹ä¸Šæ·»åŠ å…‰æ ‡ Escï¼šå–æ¶ˆå¤šå…‰æ ‡æ¨¡å¼ 8.2 ä»£ç ç‰‡æ®µ Ctrl + K + Xï¼šæ’å…¥ä»£ç ç‰‡æ®µ Ctrl + K + Sï¼šç¯ç»•ä»£ç ç‰‡æ®µ Tab + Tabï¼šå±•å¼€ä»£ç ç‰‡æ®µ 8.3 å‰ªè´´æ¿å†å² Ctrl + Shift + Vï¼šå¾ªç¯ç²˜è´´å‰ªè´´æ¿å†å² Ctrl + Shift + Insertï¼šå¾ªç¯ç²˜è´´ï¼ˆæ›¿ä»£ï¼‰ ä¹ã€å¿«æ·é”®è‡ªå®šä¹‰ 9.1 è‡ªå®šä¹‰å¿«æ·é”® æ‰“å¼€ å·¥å…· â†’ é€‰é¡¹ â†’ ç¯å¢ƒ â†’ é”®ç›˜ åœ¨\u0026quot;æ˜¾ç¤ºå‘½ä»¤åŒ…å«\u0026quot;ä¸­è¾“å…¥å‘½ä»¤åç§° åœ¨\u0026quot;æŒ‰å¿«æ·é”®\u0026quot;ä¸­è¾“å…¥æ–°çš„å¿«æ·é”®ç»„åˆ ç‚¹å‡»\u0026quot;åˆ†é…\u0026quot;æŒ‰é’®ä¿å­˜ 9.2 å¯¼å…¥/å¯¼å‡ºè®¾ç½® å·¥å…· â†’ å¯¼å…¥å’Œå¯¼å‡ºè®¾ç½® å¯ä»¥å¤‡ä»½å’Œæ¢å¤è‡ªå®šä¹‰çš„å¿«æ·é”®è®¾ç½® åã€å¿«æ·é”®å­¦ä¹ å»ºè®® 10.1 å­¦ä¹ ç­–ç•¥ å¾ªåºæ¸è¿›ï¼šæ¯å¤©å­¦ä¹ 3-5ä¸ªæ–°å¿«æ·é”® åˆ†ç±»å­¦ä¹ ï¼šæŒ‰åŠŸèƒ½åˆ†ç±»ï¼Œå…ˆæŒæ¡æœ€å¸¸ç”¨çš„ å®è·µåº”ç”¨ï¼šåœ¨å®é™…ç¼–ç ä¸­å¼ºåˆ¶ä½¿ç”¨å¿«æ·é”® åˆ¶ä½œå¤‡å¿˜å½•ï¼šå°†å¸¸ç”¨å¿«æ·é”®è´´åœ¨æ˜¾ç¤ºå™¨æ—è¾¹ 10.2 è®°å¿†æŠ€å·§ é€»è¾‘è®°å¿†ï¼šç†è§£å¿«æ·é”®çš„é€»è¾‘ï¼ˆå¦‚Ctrl+Cä»£è¡¨Copyï¼‰ åˆ†ç»„è®°å¿†ï¼šå°†ç›¸å…³åŠŸèƒ½çš„å¿«æ·é”®ä¸€èµ·è®°å¿† é‡å¤ç»ƒä¹ ï¼šé€šè¿‡é‡å¤ä½¿ç”¨å½¢æˆè‚Œè‚‰è®°å¿† æƒ…æ™¯è®°å¿†ï¼šåœ¨ç‰¹å®šç¼–ç¨‹åœºæ™¯ä¸­ä½¿ç”¨ç‰¹å®šå¿«æ·é”® 10.3 æ•ˆç‡æå‡ ä½¿ç”¨å¿«æ·é”®å¯ä»¥å¸¦æ¥ä»¥ä¸‹å¥½å¤„ï¼š\nå‡å°‘é¼ æ ‡æ“ä½œï¼Œæé«˜ç¼–ç é€Ÿåº¦ ä¿æŒç¼–ç æ€è·¯çš„è¿è´¯æ€§ å‡å°‘æ‰‹éƒ¨åœ¨é”®ç›˜å’Œé¼ æ ‡é—´çš„åˆ‡æ¢ æå‡æ•´ä½“å¼€å‘æ•ˆç‡å’Œä¸“ä¸šåº¦ æ€»ç»“ æŒæ¡Visual Studioå¿«æ·é”®æ˜¯æ¯ä¸ª.NETå¼€å‘è€…å¿…å¤‡çš„æŠ€èƒ½ã€‚é€šè¿‡ç³»ç»Ÿæ€§åœ°å­¦ä¹ å’Œç»ƒä¹ è¿™äº›å¿«æ·é”®ï¼Œå¯ä»¥æ˜¾è‘—æé«˜å¼€å‘æ•ˆç‡ï¼Œè®©ç¼–ç è¿‡ç¨‹æ›´åŠ æµç•…ã€‚å»ºè®®å¼€å‘è€…æ ¹æ®è‡ªå·±çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œä¼˜å…ˆæŒæ¡æœ€å¸¸ç”¨çš„å¿«æ·é”®ï¼Œç„¶åé€æ­¥æ‰©å±•åˆ°æ›´é«˜çº§çš„åŠŸèƒ½ã€‚\nè®°ä½ï¼Œç†Ÿç»ƒä½¿ç”¨å¿«æ·é”®ä¸æ˜¯ä¸€è¹´è€Œå°±çš„è¿‡ç¨‹ï¼Œéœ€è¦æŒç»­çš„ç»ƒä¹ å’Œåº”ç”¨ã€‚éšç€ä½¿ç”¨é¢‘ç‡çš„å¢åŠ ï¼Œè¿™äº›å¿«æ·é”®å°†æˆä¸ºä½ ç¼–ç¨‹å·¥ä½œä¸­ä¸å¯æˆ–ç¼ºçš„å·¥å…·ï¼Œè®©ä½ åœ¨Visual Studioä¸­å¦‚é±¼å¾—æ°´ã€‚\nğŸ¯ è¡ŒåŠ¨å»ºè®®ï¼šä»ä»Šå¤©å¼€å§‹ï¼Œé€‰æ‹©5ä¸ªä½ è®¤ä¸ºæœ€æœ‰ç”¨çš„å¿«æ·é”®ï¼Œåœ¨æ¥ä¸‹æ¥çš„ä¸€å‘¨å†…å¼ºåˆ¶è‡ªå·±ä½¿ç”¨å®ƒä»¬ï¼Œç›´åˆ°å½¢æˆä¹ æƒ¯ã€‚\n","date":"2024-05-21T00:00:00Z","permalink":"http://localhost:1313/p/net/2024-05-21/","title":"Visual Studio(VS)å¸¸ç”¨å¿«æ·é”®æ•´ç†"}]